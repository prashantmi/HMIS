function dynamicdropdown(obj) {
	//alert("hi");
	document.getElementsByName("mappingType")[0].length = 0;
   //alert(listindex.value);
	switch (obj.value) {

	case '1':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Unit Wise", "2");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");

		break;

	case '2':
		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Unit Wise", "2");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");

		break;

	case '3':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Ward Wise", "3");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");

		break;

	case '4':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Unit Wise", "2");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");

		break;

	case '5':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

		break;

	case '6':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Ward Wise", "3");
		

		break;

	case '7':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

		break;

	case '8':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

	case '9':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

		break;

	case '10':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

		break;

	case '11':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"User Wise", "4");

		break;

	case '12':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Unit Wise", "2");

		break;

	case '13':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Ward Wise", "3");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");
		break;
	case '14':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Ward Wise", "3");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");
		break;

	case '15':

		document.getElementsByName("mappingType")[0].options[0] = new Option(
				"Select", "");
		/*
		 * document.getElementsByName("mappingType")[0].options[1] = new
		 * Option("Global Default", "0");
		 * document.getElementsByName("mappingType")[0].options[2] = new
		 * Option("Hospital Default", "1");
		 */
		document.getElementsByName("mappingType")[0].options[1] = new Option(
				"Ward Wise", "3");
		document.getElementsByName("mappingType")[0].options[2] = new Option(
				"User Wise", "4");
		break;

	}
	return true;
}


function selectedGroup(cboGroup) {
	
	var groupId = cboGroup.value;
	//alert(groupId);
	var elemMainSeatList = document.forms[0].mainSeatsList;
	var elemSeatList = document.forms[0].seatsList;
	// Adding Seats that are not in Main List but in Seat List
	for (var i = 0; i < mainSeatsList .options.length; i++) {
		var op = document.createElement("option");
		op.value = mainSeatsList.options[i].value;
		op.innerHTML = mainSeatsList.options[i].text;
		elemSeatList.appendChild(op);
	}

	// Clean Exiting
	/*elemSeatList.innerHTML = "";
	if (groupId != "-1") {
		// Adding Units of Selected Group
		var toBeRemoved = "";
		for (var i = 0; i < elemMainSeatList.options.length; i++) {
			var groupId= document.getElementsByName("groupId")[0].value;
			var str = elemMainUnitList.options[i].value;
			var op = document.createElement("option");
			op.value = elemMainUnitList.options[i].value;
			op.innerHTML = elemMainUnitList.options[i].text;
			elemUnitList.appendChild(op);
			toBeRemoved += i + ",";
}
	}*/
	
	

}
		
		
		
		
function goGet()
{
	
	//alert("hiee");
	if (document.getElementsByName("isGoPressed")[0].value == 1 &&  document.forms[0].mappingType.options[document.forms[0].mappingType.selectedIndex].value !=-"" ) {
		document.getElementsByName("hmode")[0].value = 'MAPPINGTYPE';
		// alert(document.forms[0].mappingType.options[document.forms[0].mappingType.selectedIndex].text);
		// alert(document.forms[0].deskType.options[document.forms[0].deskType.selectedIndex].text);

		var mappingType = document.forms[0].mappingType.options[document.forms[0].mappingType.selectedIndex].text;
		var deskType = document.forms[0].deskType.options[document.forms[0].deskType.selectedIndex].text;

		document.forms[0].selectedMappingTypeDesc.value = mappingType;
		document.forms[0].selectedDeskTypeDesc.value = deskType;

		 //alert("mapping type is" + document.forms[0].selectedMappingTypeDesc.value);
		 
		// alert(document.forms[0].selectedDeskTypeDesc.value);
		document.forms[0].submit();
	
	
}}

function deptSelected(cboDept) {
	var deptId = cboDept.value;
	// alert(deptId);
	var elemMainUnitList = document.forms[0].mainUnitsList;
	var elemUnitList = document.forms[0].unitsList;

	// Adding Units that are not in Main List but in Unit List
	for (var i = 0; i < elemUnitList.options.length; i++) {
		var op = document.createElement("option");
		op.value = elemUnitList.options[i].value;
		op.innerHTML = elemUnitList.options[i].text;
		elemMainUnitList.appendChild(op);
	}

	// Clean Exiting
	elemUnitList.innerHTML = "";

	if (deptId != "-1") {
		// Adding Units of Selected Department
		var toBeRemoved = "";
		for (var i = 0; i < elemMainUnitList.options.length; i++) {
			var deskType = document.getElementsByName("deskType")[0].value;
			var str = elemMainUnitList.options[i].value.substr(0, 3);
			var isCasualty = elemMainUnitList.options[i].value.split("@")[1];
			if (deskType == "2") {
				if (str == deptId && isCasualty == "3") {
					var op = document.createElement("option");
					op.value = elemMainUnitList.options[i].value;
					op.innerHTML = elemMainUnitList.options[i].text;
					elemUnitList.appendChild(op);
					toBeRemoved += i + ",";
				}
			} else {
				if (str == deptId) {
					var op = document.createElement("option");
					op.value = elemMainUnitList.options[i].value;
					op.innerHTML = elemMainUnitList.options[i].text;
					elemUnitList.appendChild(op);
					toBeRemoved += i + ",";
				}
			}
		}
		if (toBeRemoved.length > 0) {
			toBeRemoved = toBeRemoved.substring(0, toBeRemoved.length - 1);
			var arr = toBeRemoved.split(",");
			for (var i = 0; i < arr.length; i++) {
				elemMainUnitList.options[arr[i] - i] = null;
			}
		}
	}

}



function unitSelected(cboUnit) {
	var unitId = cboUnit.value;
	// alert(deptId);
	var elemMainWardList = document.forms[0].wardsList;
	var elemWardList = document.forms[0].selectedWards;

	// Adding Units that are not in Main List but in Unit List
	for (var i = 0; i < elemWardList.options.length; i++) {
		var op = document.createElement("option");
		op.value = elemWardList.options[i].value;
		op.innerHTML = elemWardList.options[i].text;
		elemMainWardList.appendChild(op);
	}

	// Clean Exiting
	elemWardList.innerHTML = "";

	if (unitId != "-1") {
		// Adding Units of Selected Department
		var toBeRemoved = "";
		for (var i = 0; i < elemMainWardList.options.length; i++) {
			var deskType = document.getElementsByName("deskType")[0].value;
			var str = elemMainWardList.options[i].value.substr(0, 3);
			var isCasualty = elemMainWardList.options[i].value.split("@")[1];
			if (deskType == "2") {
				if (str == unitId && isCasualty == "3") {
					var op = document.createElement("option");
					op.value = elemMainWardList.options[i].value;
					op.innerHTML = elemMainWardList.options[i].text;
					elemWardList.appendChild(op);
					toBeRemoved += i + ",";
				}
			} else {
				if (str == unitId) {
					var op = document.createElement("option");
					op.value = elemMainWardList.options[i].value;
					op.innerHTML = elemMainWardList.options[i].text;
					elemWardList.appendChild(op);
					toBeRemoved += i + ",";
				}
			}
		}
		if (toBeRemoved.length > 0) {
			toBeRemoved = toBeRemoved.substring(0, toBeRemoved.length - 1);
			var arr = toBeRemoved.split(",");
			for (var i = 0; i < arr.length; i++) {
				elemMainWardList.options[arr[i] - i] = null;
			}
		}
	}
	
	showWards();

}

function moveRightSingle(listNo) {
	var source;
	var target;

	// 1 -> Seats
	// 2 -> Units
	// 3 -> Wards

	if (listNo == "1") {
		source = document.forms[0].seatsList;
		target = document.forms[0].selectedSeats;
	}
	if (listNo == "2") {
		source = document.forms[0].unitsList;
		target = document.forms[0].selectedUnits;
	}
	
	if (listNo == "3") {
		source = document.forms[0].wardsList;
		target = document.forms[0].selectedWards;
	}
	
//	alert(source);
//	alert(target);

	var totalElement = source.length;
	//alert(totalElement);
	var val = "";
	var txt = "";
	var targetlen = 0;

	for (var i = 0; i < totalElement; i++) {
		if (source.options[i].selected) {
		//	alert("true");
			val = source.options[i].value;
			txt = source.options[i].text;

			targetlen = target.length;
			target.length = (targetlen + 1);

			target.options[targetlen].value = val;
			target.options[targetlen].text = txt;
		}
	}
	deleteThis(target, source);
}

function moveRightAll(listNo) {
	var source;
	var target;
	//alert("list no = "+listNo);
	if (listNo == "1") {
		source = document.forms[0].seatsList;
		target = document.forms[0].selectedSeats;
	}
	if (listNo == "2") {
		source = document.forms[0].unitsList;
		target = document.forms[0].selectedUnits;
	}
	
	if (listNo == "3") {
		source = document.forms[0].wardsList;
		target = document.forms[0].selectedWards;
	}

	var totalElement = source.length;
	var val = "";
	var txt = "";
	var targetlen = 0;

	for (var i = 0; i < totalElement; i++) {
		val = source.options[i].value;
		txt = source.options[i].text;

		targetlen = target.length;
		target.length = (targetlen + 1);

		target.options[targetlen].value = val;
		target.options[targetlen].text = txt;
	}
	deleteThis(target, source);
}

function deleteThis(source, target) {
	var tarlen = target.length;
	var srclen = source.length;

	var a1 = new Array(tarlen);
	var a2 = new Array(tarlen);
	var a3 = new Array(srclen);

	for (var i = 0; i < tarlen; i++) {
		a1[i] = target.options[i].value;
		a2[i] = target.options[i].text;
	}
	for (i = 0; i < srclen; i++)
		a3[i] = source.options[i].value;

	target.length = 0;
	var counter = 0;
	var k = 0;
	var flag = 0;

	for (i = 0; i < tarlen; i++) {
		flag = 0;
		for (k = 0; k < srclen; k++)
			if (a1[i] == a3[k])
				flag = 1;
		if (flag == 0) {
			target.length = (counter + 1);
			target.options[counter].value = a1[i];
			target.options[counter].text = a2[i];
			counter++;
		}
	}
}

function moveLeftSingle(listNo) {
	var source;
	var target;
	//alert("list no = "+listNo);
	if (listNo == "1") {
		target = document.forms[0].seatsList;
		source = document.forms[0].selectedSeats;
	}
	if (listNo == "2") {
		target = document.forms[0].unitsList;
		source = document.forms[0].selectedUnits;
	}
	
	if (listNo == "3") {
		target = document.forms[0].wardsList;
		source = document.forms[0].selectedWards;
	}

	var totalElement = source.length;
	var val = "";
	var txt = "";
	var targetlen = 0;

	for (var i = 0; i < totalElement; i++) {
		if (source.options[i].selected) {
			val = source.options[i].value;
			txt = source.options[i].text;

			targetlen = target.length;
			target.length = (targetlen + 1);

			target.options[targetlen].value = val;
			target.options[targetlen].text = txt;
		}
	}
	deleteThis(target, source);
}

function moveLeftAll(listNo) {
	var source;
	var target;

	if (listNo == "1") {
		target = document.forms[0].seatsList;
		source = document.forms[0].selectedSeats;
	}
	if (listNo == "2") {
		target = document.forms[0].unitsList;
		source = document.forms[0].selectedUnits;
	}
	
	if (listNo == "3") {
		target = document.forms[0].wardsList;
		source = document.forms[0].selectedWards;
	}
	

	var totalElement = source.length;
	var val = "";
	var txt = "";
	var targetlen = 0;

	for (var i = 0; i < totalElement; i++) {
		val = source.options[i].value;
		txt = source.options[i].text;

		targetlen = target.length;
		target.length = (targetlen + 1);

		target.options[targetlen].value = val;
		target.options[targetlen].text = txt;
	}

	deleteThis(target, source);
}

function MoveToSelected() {
	// Unselect Remaining Seats
	if (document.forms[0].seatsList) {
		for (var i = 0; i < document.forms[0].seatsList.options.length; i++)
			document.forms[0].seatsList.options[i].selected = false;
	}
	// Unselect Remaining Units
	if (document.forms[0].unitsList) {
		for (var i = 0; i < document.forms[0].unitsList.options.length; i++)
			document.forms[0].unitsList.options[i].selected = false;
	}
	
	// Unselect Remaining Wards
	if (document.forms[0].wardsList) {
		for (var i = 0; i < document.forms[0].wardsList.options.length; i++)
			document.forms[0].wardsList.options[i].selected = false;
	}

	// Select All Seats in Selected
	if (document.forms[0].selectedSeats) {
		//alert(document.forms[0].selectedSeats.options.length);
		for (var i = 0; i < document.forms[0].selectedSeats.options.length; i++)
			document.forms[0].selectedSeats.options[i].selected = true;
	}

	// Select All Units in Selected 
	if (document.forms[0].selectedUnits){
		
	for (var i = 0; i <	 document.forms[0].selectedUnits.options.length; i++)
	 document.forms[0].selectedUnits.options[i].selected = true;
	}
	// Select All Wards in Selected 
	if (document.forms[0].selectedWards)
		{
		//alert(document.forms[0].selectedWards.options.length);
	for (var i = 0; i <	 document.forms[0].selectedWards.options.length; i++)
	 document.forms[0].selectedWards.options[i].selected = true;
		}

	
	 
}

function goSelected() {
	/*
	 * if(document.forms[0].deptId.value=="-1") { alert("Select Department ...")
	 * document.forms[0].deptId.focus(); return; }
	 */
	/*
	 * if(document.forms[0].deskType.value=="-1") { alert("Select Desk Type
	 * ...") document.forms[0].deskType.focus(); return; }
	 */
	if (document.forms[0].selectedUnits.options.length == 0) {
		alert("Choose at Least One Unit");
		document.forms[0].unitsList.focus();
		return;
	}
	submitPage("SELECTSEATS");
}

function submitPage(mode) {
	MoveToSelected();
	//alert("submit");
	document.forms[0].hmode.value = mode;
	//alert("mode is:-   " + document.forms[0].hmode.value);
	document.forms[0].submit();
}

function validateFinalSubmit() {
	if (document.forms[0].selectedUnits
			&& document.forms[0].selectedUnits.options.length == 0) {
		alert("Choose Desk Type");
		document.forms[0].unitsList.focus();
		return;
	}
	if (document.getElementsByName("hmode")[0].value == "SELECTSEATS"
			|| document.getElementsByName("hmode")[0].value == "GROUPSEAT") {
		if (document.getElementsByName("group")[0].value == "-1") {
			alert("Please Select the Group");
			document.getElementsByName("group")[0].focus();
			return false;
		}
	}

	if (document.forms[0].selectedSeats
			&& document.forms[0].selectedSeats.options.length == 0) {
		alert("Choose at least One Seat ... ");
		document.forms[0].seatsList.focus();
		return false;
	}
	if (document.forms[0].deskId && document.forms[0].deskId.value == "-1") {
		alert("Select Desk ... ");
		document.forms[0].deskId.focus();
		return false;
	}
	return true;
}

function finalSubmit(mode) {
	if (!validateFinalSubmit())
		return;
	//alert(mode);
	MoveToSelected();
	document.forms[0].hmode.value = mode;
	//alert("mode is:-   " + document.forms[0].hmode.value);
	document.forms[0].submit();

}

function showSeats() {

	if (document.getElementsByName("group")[0].value == "-1") {
		alert("Please Select The Group")
	} else {
		//alert("hiee1");
		// submitPage('GROUPSEAT');
		//MoveToSelected();
		document.forms[0].hmode.value = 'GROUPSEAT';
		//alert("mode is:-   " + document.forms[0].hmode.value);
		document.forms[0].submit();
		//salert("hiee");

	}
}


function showWards() {
	if (document.getElementsByName("unitId")[0].value == "-1")
	{
		alert("Please Select The Unit");
	} 
	else {
		
		//alert("hi ward");
		//MoveToSelected();
		document.forms[0].hmode.value = 'UNITWARD';
	//	alert("mode is:-   " + document.forms[0].hmode.value);
		document.forms[0].submit();
		
		
	}
}