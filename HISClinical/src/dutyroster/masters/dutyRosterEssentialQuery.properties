
//--------LIST---OF---AREA--TYPE--LIST--NOT---INCLUDING---BLOCK
SELECT_LIST.HDRT_DUTY_AREA_MST.DUTY_AREA_EMPLOYEE=SELECT  hdrnum_area_type_code as areaTypeCode, hdtstr_duty_area_type as areaTypeName  FROM hdrt_duty_area_mst a  WHERE gnum_hospital_code \=?  and hdrnum_area_type_code not in (?)\t  AND hdrnum_slno\=(SELECT MAX (hdrnum_slno)  FROM hdrt_duty_area_mst  WHERE hdrnum_area_type_code \= a.hdrnum_area_type_code  AND gnum_hospital_code \= a.gnum_hospital_code and gnum_isvalid\=1) ORDER BY hdtstr_duty_area_type 
	
//--------LIST---OF---AREA--TYPE--LIST----INCLUDING---BLOCK--AND--ESTATE--BLOCK	
SELECT_ALL_LIST.HDRT_DUTY_AREA_MST=SELECT  hdrnum_area_type_code as areaTypeCode, hdtstr_duty_area_type as areaTypeName  FROM hdrt_duty_area_mst a  WHERE gnum_hospital_code \=? AND GNUM_ISVALID\=?  AND hdrnum_slno\=(SELECT MAX (hdrnum_slno)  FROM hdrt_duty_area_mst  WHERE hdrnum_area_type_code \= a.hdrnum_area_type_code  AND gnum_hospital_code \= a.gnum_hospital_code AND GNUM_ISVALID\=A.GNUM_ISVALID ) ORDER BY hdtstr_duty_area_type 
	
	
		
	
SELECT.HDRT_DUTY_ROLE_MST.DUTY_AREA_EMPLOYEE=SELECT   hdrnum_duty_role_id as dutyRoleId, hdtstr_duty_role_desc as dutyRoleDesc  FROM hdrt_duty_role_mst a    WHERE gnum_hospital_code \=?  AND hdrnum_slno \=(SELECT MAX (hdrnum_slno) FROM hdrt_duty_role_mst WHERE hdrnum_duty_role_id \= a.hdrnum_duty_role_id  AND gnum_hospital_code \= a.gnum_hospital_code)  ORDER BY hdtstr_duty_role_desc

		
SELECT.GBLT_DESIGNATION_MST.EMPLOYEES=SELECT gnum_desig_code, gstr_desig_name  FROM gblt_designation_mst WHERE gnum_hospital_code =?       AND gnum_isvalid IN (1, 2)    order by  gstr_desig_name



SELECT.EMP_DETAILS.UNSELECTED.PIST_EMP_PERSONNEL_DTL=SELECT  a.str_emp_no as empId, INITCAP(str_emp_full_name) || ' (' || c.gstr_desig_name || ' )(' || a.str_emp_no || ' )' as empDetails FROM pist_emp_registration_dtl a,gblt_designation_mst c WHERE   a.gnum_isvalid \= ? AND c.gnum_isvalid IN (1, 2)    AND a.gnum_hospital_code \=? AND c.gnum_hospital_code \=?   AND a.gnum_desig_code \= c.gnum_desig_code  AND a.str_emp_no NOT IN (SELECT str_emp_no FROM hdrt_duty_area_employee_mst  WHERE gnum_hospital_code \=?   AND gnum_isvalid \=? AND hdrnum_duty_area_id \= ? AND hdrstr_duty_area_code \= ?  )   AND c.gnum_desig_code \=?  order by empDetails
     
     
SELECT.EMP_DETAILS.SELECTED.PIST_EMP_PERSONNEL_DTL=SELECT  a.str_emp_no as empId, INITCAP(str_emp_full_name) || ' (' || c.gstr_desig_name || ' )(' || a.str_emp_no || ' )' as empDetails FROM pist_emp_registration_dtl a,gblt_designation_mst c WHERE   a.gnum_isvalid \= ? AND c.gnum_isvalid IN (1, 2)    AND a.gnum_hospital_code \=? AND c.gnum_hospital_code \=?   AND a.gnum_desig_code \=  c.gnum_desig_code  AND a.str_emp_no  IN (SELECT str_emp_no FROM hdrt_duty_area_employee_mst  WHERE gnum_hospital_code \=?   AND gnum_isvalid \=? AND hdrnum_duty_area_id \= ? AND hdrstr_duty_area_code \= ?  )   AND c.gnum_desig_code \=?  order by empDetails
     

SELECT.HDRT_ROSTER_TYPE_MST.ROSTER_CAPACITY_MST=SELECT  a.hdrnum_roster_type_id  || '^'  || b.hdrnum_area_type_code || '^' || b.hdtstr_duty_area_type AS rosterId, hdrstr_roster_type_name || '('||hdtstr_duty_area_type||')' AS rosterName    FROM hdrt_roster_type_mst a, hdrt_duty_area_mst b WHERE  a.gnum_hospital_code \= ?  AND a.gnum_isvalid \= ? AND b.gnum_isvalid \= 1 AND a.hdrnum_area_type_code\=b.hdrnum_area_type_code ORDER BY hdrstr_roster_type_name
				         
SELECT_ALL.HDRT_SHIFT_TYPE_MST=SELECT hdrnum_shift_type || '^' || hdrstr_start_time || '^' || hdrstr_end_time AS concateValues ,hdtstr_shift_desc as shiftDesc  FROM hdrt_shift_type_mst  WHERE gnum_hospital_code =? AND gnum_isvalid =? and HDRNUM_SHIFT_TYPE!=?  order by shiftDesc


SELECT_DAY_OFF.HDRT_SHIFT_TYPE_MST=SELECT hdrnum_shift_type || '^' || 0 || '^' || 0 || '^' || hdtstr_shift_desc  AS concateValues ,hdtstr_shift_desc as shiftDesc  FROM hdrt_shift_type_mst  WHERE gnum_hospital_code =? AND gnum_isvalid =? and HDRNUM_SHIFT_TYPE=?  order by shiftDesc				         
				              		
		
		
SELECT_UPDATE.HDRT_SHIFT_TYPE_MST=SELECT hdrnum_shift_type || '^' || hdrstr_start_time || '^' || hdrstr_end_time AS concateValues ,hdtstr_shift_desc as shiftDesc  FROM hdrt_shift_type_mst  WHERE gnum_hospital_code =? AND gnum_isvalid =? and HDRNUM_SHIFT_TYPE=?


SELECT.ROSTER_TYPE.HDRT_ROSTER_TYPE_MST	=	SELECT HDRNUM_ROSTER_TYPE_ID, HDRSTR_ROSTER_TYPE_NAME FROM HDRT_ROSTER_TYPE_MST WHERE GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?   order by  hdrstr_roster_type_name

SELECT.HDRT_ROSTER_TYPE_MST.HDRT_ROSTER_DTL=SELECT   a.hdrnum_roster_type_id || '^' || a.hdrnum_area_type_code AS rosterId,a.hdrstr_roster_type_name AS rosterName FROM hdrt_roster_type_mst a   WHERE a.gnum_hospital_code \=?  AND a.gnum_isvalid \=? AND a.hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_roster_type_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND gnum_hospital_code \= a.gnum_hospital_code and  gnum_isvalid \=a.gnum_isvalid) ORDER BY rosterName



SELECT.HDRT_SHIFT_MST.HDRT_ROSTTYPE_SHIFT_MST=SELECT hdrnum_shift_id AS shiftId,(SELECT  nvl(hdtstr_shift_shortname,'NA') || '@' || nvl(hdrstr_start_time,'NA') || '@' || nvl(hdrstr_end_time,'NA') || '@' || nvl(hdtstr_shift_desc,'NA') || '@' || nvl(hdrnum_shift_type,-1) FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_slno \=(SELECT MAX (hdrnum_slno) FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid)) AS shiftDesc,  (SELECT  hdrnum_shift_type FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_slno \=(SELECT MAX (hdrnum_slno) FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid)) AS shiftType FROM hdrt_rosttype_shift_mst a  WHERE hdrnum_roster_type_id \=?     AND gnum_hospital_code \=?    AND gnum_isvalid \=?  AND hdrnum_slno \=(SELECT MAX (hdrnum_slno)  FROM hdrt_rosttype_shift_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND hdrnum_shift_id \= a.hdrnum_shift_id   AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid) order by shiftType 


SELECT.HDTSTR_BLOCK_NAME.HDRT_DUTY_BLOCK_MST	= SELECT HDRNUM_BLOCK_ID,HDTSTR_BLOCK_NAME FROM HDRT_DUTY_BLOCK_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? order by HDTSTR_BLOCK_NAME


SELECT.HDRT_DUTY_AREA_EMPLOYEE_MST.PIST_EMP_PERSONNEL_DTL= SELECT distinct a.str_emp_no as empId,(SELECT INITCAP(str_first_name) || ' ' || INITCAP(str_middle_name) || ' ' || INITCAP(str_last_name) FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.str_emp_no AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid) as empName FROM hdrt_duty_area_employee_mst a  WHERE a.hdrnum_duty_area_id \=?  AND a.hdrstr_duty_area_code \=?   AND a.gnum_hospital_code \=?    AND a.gnum_isvalid \=?   order by empName



SELECT_LOCATION_DUTY_ROSTER.HDRT_ROSTER_TYPE_MST=SELECT   a.hdrnum_roster_type_id || '@'  || a.hdrnum_area_type_code AS rosterId,a.hdrstr_roster_type_name AS rosterName     FROM hdrt_roster_type_mst a    WHERE a.gnum_hospital_code \=?  AND a.gnum_isvalid \= ? AND hdrnum_roster_cat_id IN ( SELECT hdrnum_roster_cat_id  FROM hdrt_roster_cat_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid   AND hdrnum_roster_mode \=? ) ORDER BY rosterName
				     

SELECT.HDRT_DUTY_BLOCK_AREA_MST.pkg_duty_roster.areaName = SELECT hdrstr_duty_area_code || '@' || hdrnum_area_type_code AS areaCode,(SELECT pkg_duty_roster.areaName (a.gnum_hospital_code, a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL)  as areaName FROM hdrt_duty_block_area_mst a  WHERE hdrnum_block_id \=? AND gnum_hospital_code \=? AND gnum_isvalid \=?   AND hdrnum_slno \=(SELECT MAX (hdrnum_slno)  FROM hdrt_duty_block_area_mst WHERE hdrnum_block_id \= a.hdrnum_block_id  AND hdrstr_duty_area_code \= a.hdrstr_duty_area_code AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \=a.gnum_isvalid and HDRNUM_AREA_TYPE_CODE\=a.HDRNUM_AREA_TYPE_CODE ) order by areaName
					   
					   
SELECT.HDRT_ROSTER_DESIGNATION_MST.GBLT_DESIGNATION_MST=SELECT num_desig_id AS desigId,(SELECT gstr_desig_name  FROM gblt_designation_mst x  WHERE gnum_hospital_code \= 100  AND gnum_isvalid \= a.gnum_isvalid  AND GNUM_DESIG_CODE \= A.NUM_DESIG_ID) AS desigName FROM hdrt_roster_designation_mst a  WHERE hdrnum_roster_type_id \= ?   AND gnum_hospital_code \=?    AND gnum_isvalid \=? AND hdrnum_slno \=(SELECT MAX (hdrnum_slno) FROM hdrt_roster_designation_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND gnum_hospital_code \= a.gnum_hospital_code  AND num_desig_id \= a.num_desig_id   AND gnum_isvalid \= a.gnum_isvalid) order by desigName\t\t
					  
	  
SELECT_DESIGNATION_WISE.HDRT_DUTY_AREA_EMPLOYEE_MST.PIST_EMP_PERSONNEL_DTL=SELECT DISTINCT a.str_emp_no AS empId, ( SELECT    INITCAP(str_emp_full_name)  FROM pist_emp_registration_dtl   WHERE str_emp_no \= a.str_emp_no  AND gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid) AS empName FROM hdrt_duty_area_employee_mst a, pist_emp_registration_dtl b   WHERE a.hdrnum_duty_area_id \= ?    AND a.hdrstr_duty_area_code \=?    AND a.gnum_hospital_code \=?   AND a.gnum_isvalid \=?  AND a.str_emp_no \= b.str_emp_no   AND b.gnum_desig_code \= ?  AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_isvalid \= b.gnum_isvalid    ORDER BY empName


		        

SELECT_ALL_AREAS_MAPPED_DESIGNATIONS.HDRT_DUTY_AREA_EMPLOYEE_MST.PIST_EMP_PERSONNEL_DTL=SELECT DISTINCT a.str_emp_no AS empId,( SELECT    INITCAP(str_first_name) || ' ' || INITCAP(str_middle_name) || ' ' || INITCAP(str_last_name)  FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.str_emp_no    AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid) AS empName FROM hdrt_duty_area_employee_mst a, pist_emp_registration_dtl b  WHERE a.hdrnum_duty_area_id \=?  AND a.hdrstr_duty_area_code IN (SELECT hdrstr_duty_area_code  FROM hdrt_rosterarea_capacity_mst X   WHERE hdrnum_roster_type_id \= ? AND gnum_hospital_code \= a.GNUM_HOSPITAL_CODE AND hdrnum_slno \=(SELECT MAX (hdrnum_slno)    FROM hdrt_rosterarea_capacity_mst   WHERE hdrnum_roster_type_id \= X.hdrnum_roster_type_id    AND gnum_hospital_code \= X.gnum_hospital_code  AND hdrstr_duty_area_code \= X.hdrstr_duty_area_code))  AND a.gnum_hospital_code \= ?  AND a.gnum_isvalid \=?  AND a.str_emp_no \= b.str_emp_no  AND b.gnum_desig_code IN ( SELECT num_desig_id  FROM hdrt_roster_designation_mst c  WHERE hdrnum_roster_type_id \= ?  AND gnum_hospital_code \= a.gnum_hospital_code AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_designation_mst  WHERE hdrnum_roster_type_id \=c.hdrnum_roster_type_id  AND num_desig_id \= c.num_desig_id  AND gnum_hospital_code \= c.gnum_hospital_code)) AND a.gnum_hospital_code \= b.gnum_hospital_code  AND a.gnum_isvalid \= b.gnum_isvalid        ORDER BY empName
			        



SELECT.DISTINCT.HDRT_ROSTER_CAT_MST=SELECT hdrnum_roster_cat_id as rosterCategoryId, hdrstr_roster_cat_name as rosterCategoryName   FROM hdrt_roster_cat_mst a  WHERE gnum_hospital_code \= ?    AND gnum_isvalid \= ?  AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) \torder by hdrstr_roster_cat_name
	
			   
////////List----of----Rosters---on----the----Basis----of----Roster----Category////////////////

			   	
SELECT_ROSTER_CATEGORY_WISE.HDRT_ROSTER_TYPE_MST.HDRT_ROSTER_DTL=SELECT   a.hdrnum_roster_type_id || '^' || a.hdrnum_area_type_code AS rosterId,a.hdrstr_roster_type_name AS rosterName FROM hdrt_roster_type_mst a   WHERE a.gnum_hospital_code \=?  AND a.gnum_isvalid \=?  and a.HDRNUM_ROSTER_CAT_ID\=? AND a.hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_roster_type_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND gnum_hospital_code \= a.gnum_hospital_code and  gnum_isvalid \=a.gnum_isvalid) ORDER BY rosterName
				       
////////List----of--EMP_TYPE--MONTHLY-----Rosters---on----the----Basis----of----Roster----Category////////////////

				       
SELECT_EMP_TYPE_MONTHLY_ROSTER_CATEGORY_WISE_ROSTER.HDRT_ROSTER_TYPE_MST=SELECT   a.hdrnum_roster_type_id || '@' || a.hdrnum_area_type_code || '@' || HDRNUM_DUTY_TYPE  AS rosterId,a.hdrstr_roster_type_name AS rosterName FROM hdrt_roster_type_mst a   WHERE a.gnum_hospital_code \=?  AND a.gnum_isvalid \=?  and a.HDRNUM_ROSTER_CAT_ID\=?   AND a.hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_roster_type_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND gnum_hospital_code \= a.gnum_hospital_code and  gnum_isvalid \=a.gnum_isvalid) ORDER BY rosterName
				       

////////List----of---EMP_TYPE--DATEWISE----Rosters---on----the----Basis----of----Roster----Category////////////////
				       
SELECT_EMP_TYPE_DATEWISE_ROSTER_CATEGORY_WISE_ROSTER.HDRT_ROSTER_TYPE_MST=SELECT   a.hdrnum_roster_type_id || '^' || a.hdrnum_area_type_code || '^' || a.HDRNUM_DUTY_TYPE AS rosterId,a.hdrstr_roster_type_name AS rosterName FROM hdrt_roster_type_mst a   WHERE a.gnum_hospital_code \=?  AND a.gnum_isvalid \=?  and a.HDRNUM_ROSTER_CAT_ID\=? AND a.hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_roster_type_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND gnum_hospital_code \= a.gnum_hospital_code and  gnum_isvalid \=a.gnum_isvalid) ORDER BY rosterName\t\t\t\t       \t\t\t\t       
				       
				       
SELECT_AREA_ON_THE_BASIS_OF_ROSTER.HDRT_ROSTERAREA_CAPACITY_MST=SELECT hdrstr_duty_area_code AS areaCode, ( SELECT pkg_duty_roster.areaName (a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL) AS areaName FROM hdrt_rosterarea_capacity_mst a   WHERE hdrnum_roster_type_id \=?    AND gnum_hospital_code \=?    AND gnum_isvalid \=?   AND hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_rosterarea_capacity_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND hdrstr_duty_area_code \= a.hdrstr_duty_area_code   AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \=a.GNUM_ISVALID)  order by areaName


SELECT_AREA_WITH_CAPACITY_ON_THE_BASIS_OF_ROSTER.HDRT_ROSTERAREA_CAPACITY_MST=SELECT hdrstr_duty_area_code  || '@' || nvl(hdrnum_morning_capacity,-1)   || '@' || nvl(hdrnum_eve_capacity,-1) || '@' || nvl(hdrnum_night_capacity,-1) || '@' || nvl(hdrnum_day_capacity,-1) || '@' || a.hdrnum_area_type_code AS areaCode, ( SELECT pkg_duty_roster.areaName (a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL) AS areaName FROM hdrt_rosterarea_capacity_mst a   WHERE hdrnum_roster_type_id \=?    AND gnum_hospital_code \=?    AND gnum_isvalid \=?   AND hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_rosterarea_capacity_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND hdrstr_duty_area_code \= a.hdrstr_duty_area_code   AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \=a.GNUM_ISVALID)  order by areaName\t\t\t\t        
				        
				        
SELECT_ROSTERWISE.HDRT_SHIFT_MST.HDRT_ROSTTYPE_SHIFT_MST=SELECT   hdrnum_shift_type AS shiftTypeId, hdtstr_shift_desc AS shiftDesc FROM hdrt_shift_mst  WHERE gnum_hospital_code \=?  AND gnum_isvalid \=?   AND hdrnum_shift_id IN (SELECT hdrnum_shift_id  FROM hdrt_rosttype_shift_mst a WHERE hdrnum_roster_type_id \=?  AND gnum_hospital_code \=?\t AND gnum_isvalid \=?  AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_rosttype_shift_mst  WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id    AND hdrnum_shift_id \= a.hdrnum_shift_id AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid)) ORDER BY shiftTypeId
				        
		
///FOR-------SELECTING------ROSTER--------------------MAIN--------------CATEGORY--------------------		
				        
SELECT.HDRT_ROSTER_MAIN_CAT=select  HDRT_ROSTER_MAIN_CAT, HDRSTR_MAIN_CAT_NAME from  HDRT_ROSTER_MAIN_CAT a where GNUM_HOSPITAL_CODE=?  and  GNUM_ISVALID=?	 ORDER BY  hdrstr_main_cat_name			        
				   
				   
				   
SELECT_EMPWISE.HDRT_ROSTER_CAT_MST=SELECT hdrnum_roster_cat_id as rosterCategoryId, hdrstr_roster_cat_name as rosterCategoryName   FROM hdrt_roster_cat_mst a  WHERE gnum_hospital_code \= ?    AND gnum_isvalid \= ?  AND  HDRNUM_ROSTER_MODE\=? AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) \torder by hdrstr_roster_cat_name
				
					        
SELECT_CONCATED_VALUES.HDRT_ROSTER_CAT_MST=SELECT hdrnum_roster_cat_id   || '@' || nvl(hdrnum_max_off,-1)  || '@' || nvl(hdrnum_max_continue_off,-1) || '@' || nvl(hdrnum_hours_week,-1) as rosterCategoryId, hdrstr_roster_cat_name as rosterCategoryName   FROM hdrt_roster_cat_mst a  WHERE gnum_hospital_code \= ?    AND gnum_isvalid \= ?  AND  HDRNUM_ROSTER_MODE\=?   AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) \torder by hdrstr_roster_cat_name
					      
					      
SELECT_LOCATIONWISE.HDRT_ROSTER_CAT_MST=SELECT hdrnum_roster_cat_id as rosterCategoryId, hdrstr_roster_cat_name as rosterCategoryName   FROM hdrt_roster_cat_mst a  WHERE gnum_hospital_code \= ?    AND gnum_isvalid \= ?   AND HDRNUM_ROSTER_MODE\=? AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) \torder by hdrstr_roster_cat_name

				         				     				         	 
#///////////Select////////Monthly//////Gazetted////////Holidays			
#
#//Changes by chetan sharma
#//changed attribute name from dt_holiday_date to dt_holiday as per new database...	         				     				         	 
			         				     				         	 
SELECT_MONTHLY_GAZETTED_HOLIDAYS.PIST_HOLIDAY_MST=SELECT EXTRACT (DAY FROM a.dt_holiday) AS holidayDate,a.STR_HOLIDAY_NAME as holidayName FROM pist_holiday_mst a ,pist_holiday_type_sys b   WHERE EXTRACT (YEAR FROM a.dt_holiday) \= ? AND EXTRACT (MONTH FROM a.dt_holiday) \=?   AND a.gnum_isvalid \= ?   AND a.gnum_hospital_code \=?    

		    

	
		     
///////////Select////////Shift////Timings/////////On---the--basis--of--Shift---Type
		     
SELECT_SHIFT_TIMINGS.HDRT_SHIFTTIMING_MST=SELECT hdrnum_week_day AS weekdayCode, hdrstr_start_time || '@' || hdrstr_end_time AS concatedTime   FROM hdrt_shifttiming_mst a  WHERE hdrnum_shift_id \=?   AND gnum_hospital_code \= ?    AND gnum_isvalid \= ?   AND hdrnum_slno \=( SELECT max(hdrnum_slno)  FROM hdrt_shifttiming_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id   AND gnum_hospital_code \= a.gnum_hospital_code and HDRNUM_WEEK_DAY\=a.HDRNUM_WEEK_DAY   AND gnum_isvalid \=A.gnum_isvalid ) order by weekdayCode 
			 
			 
			 	     
			 	     
# Change in column name as per new database 
#Chetan Sharma
SELECT_EMP_BASED_ON_DESIGNATION.PIST_EMP_PERSONNEL_DTL=SELECT str_emp_no , INITCAP(str_emp_full_name) as empName  FROM pist_emp_registration_dtl a WHERE a.gnum_hospital_code \=?    AND a.gnum_isvalid \= ?    AND str_emp_no IN ( SELECT str_emp_no  FROM pist_emp_registration_dtl   WHERE gnum_desig_code \= ?  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) order by empName\t\t
         
         
         	 	     
			 	     
SELECT_EMPWISE_AREA.HDRT_ROSTER_DTL=SELECT DISTINCT hdrstr_duty_area_code,(SELECT pkg_duty_roster.areaName(a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL) AS areaName FROM hdrt_roster_dtl a   WHERE str_emp_no \=?   AND gnum_isvalid \=?     AND gnum_hospital_code \=?  order by areaName
           
           
 

SELECT_EMP_AREA_WISE_ROSTERS.HDSST_REPORT_DTL=SELECT DISTINCT(hdrnum_roster_type_id || '@' || hdrnum_area_type_code) AS rosterId,(SELECT hdrstr_roster_type_name    FROM hdrt_roster_type_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id    AND gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid) as rosterName   FROM hdrt_roster_dtl a       WHERE str_emp_no \= ?  AND gnum_isvalid \=?    AND gnum_hospital_code \=? and HDRSTR_DUTY_AREA_CODE\=?  order by rosterName
 
 
 # Change in column name as per new database 
#Chetan Sharma
 
SELECT_EMP_AREAWISE.HDRT_ROSTER_DTL=SELECT hdrnum_roster_type_id as rosterId, hdrstr_duty_area_code as areaCode,(SELECT pkg_duty_roster.areaName(a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL) AS areaName, hdrnum_area_type_code as areaTypeCode,str_emp_no as empId, (SELECT INITCAP(str_emp_full_name)  FROM pist_emp_registration_dtl   WHERE str_emp_no \= a.str_emp_no  AND gnum_isvalid \= a.gnum_isvalid     AND gnum_hospital_code \= a.gnum_hospital_code) as empName, hdrnum_shift_id as shiftId,NVL ((SELECT hdtstr_shift_desc  FROM hdrt_shift_mst   WHERE gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid  AND hdrnum_shift_id \= a.hdrnum_shift_id),(SELECT hdtstr_shift_desc   FROM hdrt_shift_type_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid    AND hdrnum_shift_type \= a.hdrnum_shift_id) ) AS shiftName, NVL ((SELECT hdtstr_shift_shortname  FROM hdrt_shift_mst    WHERE gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid     AND hdrnum_shift_id \= a.hdrnum_shift_id), (SELECT hdtstr_shift_desc    FROM hdrt_shift_type_mst     WHERE gnum_hospital_code \= a.gnum_hospital_code     AND gnum_isvalid \= a.gnum_isvalid    AND hdrnum_shift_type \= a.hdrnum_shift_id)  ) AS shiftShortName, EXTRACT (DAY FROM hdrdt_start_datetime) AS startDateTime   FROM hdrt_roster_dtl a WHERE  hdrnum_roster_type_id\=?   AND hdrnum_area_type_code\=? and hdrstr_duty_area_code \=?  AND STR_EMP_NO\=?  AND gnum_isvalid \= ?    AND gnum_hospital_code \=?    AND EXTRACT (YEAR FROM hdrdt_start_datetime) \= ?    AND EXTRACT (YEAR FROM hdrdt_end_datetime) \=? AND EXTRACT (MONTH FROM hdrdt_start_datetime) \= ?    AND EXTRACT (MONTH FROM hdrdt_end_datetime) \= ?
	        
	
	SELECT_EMP_WISE.HDRT_ROSTER_DTL_old=SELECT DISTINCT a.str_emp_no || '@' || a.hdrnum_roster_id || '@' || a.hdrnum_roster_type_id  AS empId, NVL ((SELECT    INITCAP(str_emp_full_name)  FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.str_emp_no   AND gnum_isvalid \= a.gnum_isvalid   AND gnum_hospital_code \= a.gnum_hospital_code),'NA') AS empName  FROM hdrt_roster_dtl a, hdrt_roster_generation_dtl b  WHERE a.gnum_isvalid \= ?  AND a.gnum_hospital_code \=?  AND a.hdrnum_roster_id \= b.hdrnum_roster_id   AND a.gnum_hospital_code \= b.gnum_hospital_code   AND a.gnum_isvalid \= b.gnum_isvalid   AND  trunc(a.hdrdt_start_datetime) BETWEEN b.hdrdt_start_date  AND b.hdrdt_end_date  AND trunc(a.hdrdt_end_datetime) BETWEEN b.hdrdt_start_date   AND b.hdrdt_end_date  AND  EXTRACT (YEAR FROM hdrdt_start_datetime) \=?  AND EXTRACT (YEAR FROM hdrdt_end_datetime) \=?  AND EXTRACT (MONTH FROM hdrdt_start_datetime) \=?  AND EXTRACT (MONTH FROM hdrdt_end_datetime) \= ?   AND TRUNC (hdrdt_start_datetime) >\= TRUNC (SYSDATE)   AND TRUNC (hdrdt_end_datetime) >\= TRUNC (SYSDATE) AND a.hdrnum_roster_type_id IN ( SELECT hdrnum_roster_type_id   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_cat_id \=?  AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid )  ORDER BY empName
	
	
	
	  
SELECT_EMP_WISE.HDRT_ROSTER_DTL=SELECT hdrnum_roster_type_id as rosterId , (SELECT hdrstr_roster_type_name   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id    AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid) AS rosterName, hdrstr_duty_area_code as areaCode,(SELECT pkg_duty_roster.areaname(a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code ) FROM DUAL) AS areaName, hdrnum_area_type_code as areaTypeCode,str_emp_no as empId , (SELECT  INITCAP(str_emp_full_name)  FROM pist_emp_registration_dtl   WHERE str_emp_no \= a.str_emp_no  AND gnum_isvalid \= a.gnum_isvalid     AND gnum_hospital_code \= a.gnum_hospital_code) as empName, hdrnum_shift_id as shiftId,NVL ((SELECT hdtstr_shift_desc || '(' || HDRSTR_START_TIME || ' To ' || HDRSTR_END_TIME ||')' FROM hdrt_shift_mst   WHERE gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid  AND hdrnum_shift_id \= a.hdrnum_shift_id),(SELECT hdtstr_shift_desc   FROM hdrt_shift_type_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid    AND hdrnum_shift_type \= a.hdrnum_shift_id) ) AS shiftName, NVL ((SELECT hdtstr_shift_shortname  FROM hdrt_shift_mst    WHERE gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid     AND hdrnum_shift_id \= a.hdrnum_shift_id), (SELECT hdtstr_shift_desc    FROM hdrt_shift_type_mst     WHERE gnum_hospital_code \= a.gnum_hospital_code     AND gnum_isvalid \= a.gnum_isvalid    AND hdrnum_shift_type \= a.hdrnum_shift_id)  ) AS shiftShortName, EXTRACT (DAY FROM hdrdt_start_datetime) AS startDateTime   FROM hdrt_roster_dtl a WHERE   STR_EMP_NO\=?  AND gnum_isvalid \= ?    AND gnum_hospital_code \=?    AND EXTRACT (YEAR FROM hdrdt_start_datetime) \= ?    AND EXTRACT (YEAR FROM hdrdt_end_datetime) \=? AND EXTRACT (MONTH FROM hdrdt_start_datetime) \= ?    AND EXTRACT (MONTH FROM hdrdt_end_datetime) \= ?    order by startdateTime
	        	             

SELECT_MONTHLY.HDRT_ROSTER_GENERATION_DTL=SELECT hdrnum_roster_type_id AS rosterId, hdrstr_duty_area_code AS areaCode,hdrnum_area_type_code AS areaTypeCode,EXTRACT (DAY FROM hdrdt_start_date) AS startDate,EXTRACT (DAY FROM hdrdt_end_date) AS endDate FROM hdrt_roster_generation_dtl a  WHERE gnum_hospital_code \=?    AND EXTRACT (YEAR FROM hdrdt_start_date) \= ? AND EXTRACT (MONTH FROM hdrdt_start_date) \= ?    AND EXTRACT (YEAR FROM hdrdt_end_date) \=?    AND EXTRACT (MONTH FROM hdrdt_end_date) \= ? AND hdrnum_roster_status \= ?    AND gnum_isvalid \= ?



SELECT_ALL_LOW_LEVEL_EMP_FOR_ROSTER_PRINT.GBLT_USER_MST=SELECT psrstr_emp_no as empId,(SELECT INITCAP(str_emp_full_name)  as empName FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.psrstr_emp_no  AND gnum_isvalid \= a.gnum_isvalid    AND gnum_hospital_code \= a.gnum_hospital_code) as empName FROM gblt_user_mst a  WHERE gnum_user_type \= 1 and gnum_hospital_code \= ?  AND GNUM_ISVALID\=?  AND gnum_userlevel < ( SELECT gnum_userlevel   FROM gblt_user_mst  WHERE gnum_userid \= ?  AND gnum_hospital_code \= a.gnum_hospital_code)  AND gnum_user_seatid IN ( SELECT gnum_seatid FROM gblt_seat_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= ?  AND gnum_group_code IN ( SELECT gnum_group_code  FROM gblt_seat_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= ?  AND gnum_seatid IN ( SELECT gnum_user_seatid  FROM gblt_user_mst  WHERE gnum_userid \= ?  AND gnum_hospital_code \= a.gnum_hospital_code )))  order by empName
                        	            
	                             
	                             
SELECT_AREAS_ON_BASIS_OF_ROSTER_CATG.HDRT_ROSTERAREA_CAPACITY_MST=SELECT DISTINCT (hdrnum_area_type_code || '@' || hdrstr_duty_area_code ) AS areaCode,(SELECT pkg_duty_roster.areaname(a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code )  FROM DUAL) AS areaName  FROM hdrt_rosterarea_capacity_mst a  WHERE hdrnum_roster_type_id IN (  SELECT hdrnum_roster_type_id   FROM hdrt_roster_type_mst  WHERE gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid   AND hdrnum_roster_cat_id \=? )    AND gnum_hospital_code \=? AND gnum_isvalid \=?  AND hdrnum_slno \= (SELECT MAX (hdrnum_slno)   FROM hdrt_rosterarea_capacity_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND hdrstr_duty_area_code \= a.hdrstr_duty_area_code    AND gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid ) order by areaName


SELECT_ROSTERS_DEPENDENT_ON_CATG_AREA.HDRT_ROSTER_TYPE_MST=SELECT hdrnum_roster_type_id as rosterId, hdrstr_roster_type_name as rosterName    FROM hdrt_roster_type_mst a   WHERE gnum_hospital_code \=?    AND hdrnum_roster_cat_id \=?     AND hdrnum_area_type_code \=?    AND gnum_isvalid \=? AND hdrnum_slno \=(SELECT MAX (hdrnum_slno)  FROM hdrt_roster_type_mst   WHERE gnum_hospital_code \= a.gnum_hospital_code    AND HDRNUM_ROSTER_TYPE_ID \= a.HDRNUM_ROSTER_TYPE_ID     AND gnum_isvalid \= a.gnum_isvalid) AND hdrnum_roster_type_id IN ( SELECT hdrnum_roster_type_id   FROM hdrt_rosterarea_capacity_mst x  WHERE hdrstr_duty_area_code \=?  and HDRNUM_AREA_TYPE_CODE\=a.HDRNUM_AREA_TYPE_CODE   AND gnum_hospital_code \= a.gnum_hospital_code  and GNUM_ISVALID\=a.GNUM_ISVALID AND hdrnum_slno \= (SELECT MAX (hdrnum_slno)   FROM hdrt_rosterarea_capacity_mst  WHERE hdrnum_roster_type_id \= x.hdrnum_roster_type_id    AND hdrstr_duty_area_code \= x.hdrstr_duty_area_code   AND gnum_hospital_code \= x.gnum_hospital_code and GNUM_ISVALID\=x.GNUM_ISVALID)) order by rosterName
			    
			    
			    

SELECT_ALL_MAPPED_DESIGNATIONS.HDRT_DUTY_AREA_EMPLOYEE_MST.PIST_EMP_PERSONNEL_DTL=SELECT DISTINCT a.str_emp_no AS empid,INITCAP(str_emp_full_name) || '(' || (SELECT gstr_desig_name || ')' FROM gblt_designation_mst x WHERE gnum_hospital_code \= 100 AND gnum_isvalid\=1 and gnum_desig_code\=b.gnum_desig_code) AS empname FROM hdrt_duty_area_employee_mst a, pist_emp_registration_dtl b  WHERE a.hdrnum_duty_area_id \=?  AND a.hdrstr_duty_area_code like ? AND a.gnum_hospital_code \= ?  AND a.gnum_isvalid \=?  AND a.str_emp_no \= b.str_emp_no  AND b.gnum_desig_code IN ( SELECT num_desig_id  FROM hdrt_roster_designation_mst c  WHERE hdrnum_roster_type_id \= ?  AND gnum_hospital_code \= a.gnum_hospital_code    and GNUM_ISVALID\=1 AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_designation_mst  WHERE hdrnum_roster_type_id \=c.hdrnum_roster_type_id  AND num_desig_id \= c.num_desig_id  AND gnum_hospital_code \= c.gnum_hospital_code   and GNUM_ISVALID\=1)) AND a.gnum_hospital_code \= b.gnum_hospital_code  AND a.gnum_isvalid \= b.gnum_isvalid        ORDER BY empName \t\t\t        \t\t\t    \t\t\t   
			   
 	                             
 	                             
SELECT_CAPACITY.HDRT_ROSTERAREA_CAPACITY_MST=SELECT hdrnum_roster_type_id AS rosterId, hdrstr_duty_area_code AS areaCode,hdrnum_morning_capacity AS morningCapacity, hdrnum_eve_capacity AS eveningCapacity,hdrnum_earlymorning_capacity AS earlymorningCapacity,hdrnum_night_capacity AS nightCapacity,hdrnum_day_capacity AS dayCapacity, hdrnum_area_type_code AS areaTypeCode   FROM hdrt_rosterarea_capacity_mst  WHERE hdrnum_roster_type_id \=?    AND hdrstr_duty_area_code \=?    AND gnum_hospital_code \=?    AND hdrnum_area_type_code \=?    AND gnum_isvalid \= ? 
       

       
SELECT_SHIFTS_OF_ROSTER.HDRT_ROSTTYPE_SHIFT_MST=SELECT (SELECT    hdrnum_shift_id || '@' || hdrstr_start_time  || '@' || hdrstr_end_time FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id   AND gnum_hospital_code \= a.gnum_hospital_code      AND gnum_isvalid \= a.gnum_isvalid) AS shiftId,(SELECT hdtstr_shift_desc   FROM hdrt_shift_mst  WHERE hdrnum_shift_id \= a.hdrnum_shift_id   AND gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid) as shiftName FROM hdrt_rosttype_shift_mst a  WHERE hdrnum_roster_type_id \=?   AND gnum_hospital_code \=?  AND gnum_isvalid \=?
		 
		       	                             

ESSENTIAL_ROSTER_TYPE_FOR_ROLE.HDRT_ROSTER_TYPE_MST=SELECT hdrnum_roster_type_id, hdrstr_roster_type_name FROM hdrt_roster_type_mst a WHERE gnum_hospital_code \= ? AND gnum_isvalid \= ? AND hdrnum_slno \= (SELECT MAX (hdrnum_slno) FROM hdrt_roster_type_mst WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_roster_type_id \= a.hdrnum_roster_type_id) AND hdrnum_roster_cat_id IN (SELECT hdrnum_roster_cat_id FROM hdrt_roster_cat_mst WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_slno \= (SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id AND hdrnum_roster_mode \= ?)) ORDER BY hdrstr_roster_type_name

ESSENTIAL_SHIFT_MAPPED_WITH_ROSTER.HDRT_ROSTTYPE_SHIFT_MST=SELECT hdrnum_shift_id AS shiftid, (SELECT hdtstr_shift_desc FROM hdrt_shift_mst WHERE hdrnum_shift_id \= a.hdrnum_shift_id AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_slno \= (SELECT MAX (hdrnum_slno) FROM hdrt_shift_mst WHERE hdrnum_shift_id \= a.hdrnum_shift_id AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid)) AS shiftdesc FROM hdrt_rosttype_shift_mst a WHERE hdrnum_roster_type_id \= ? AND gnum_hospital_code \= ? AND gnum_isvalid \= ? AND hdrnum_slno \= (SELECT MAX (hdrnum_slno) FROM hdrt_rosttype_shift_mst WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id AND hdrnum_shift_id \= a.hdrnum_shift_id AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) ORDER BY shiftdesc    
															
ESSENTIAL_EMPLOYEE_LIST_SHIFT_WISE.HDRT_ROSTER_DTL=SELECT distinct a.str_emp_no as empId, (SELECT INITCAP(str_emp_full_name) || '(' || (SELECT gstr_desig_name || ')' FROM gblt_designation_mst x WHERE gnum_hospital_code \= 100  AND gnum_isvalid IN (?, ?) AND gnum_desig_code IN ( SELECT gnum_desig_code FROM pist_emp_registration_dtl WHERE str_emp_no \= a.str_emp_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= ?) ) FROM pist_emp_registration_dtl WHERE str_emp_no \= a.str_emp_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) AS empname,hdrnum_shift_id as shiftid,a.hdrnum_roster_id as generatedRosterId,a.HDRNUM_DUTY_ROLE_ID as roleId FROM hdrt_roster_dtl a, hdrt_roster_generation_dtl b WHERE b.hdrnum_roster_type_id \= ? AND b.hdrstr_duty_area_code \= ? AND b.hdrnum_area_type_code \= (SELECT hdrnum_area_type_code FROM hdrt_roster_type_mst WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) AND b.gnum_hospital_code \= ? AND b.gnum_isvalid \= ? AND b.hdrnum_roster_status \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND b.gnum_isvalid \= a.gnum_isvalid AND b.hdrnum_roster_id \= a.hdrnum_roster_id AND trunc(hdrdt_start_datetime) between to_date(?,'dd-mon-yyyy') and to_date(?,'dd-mon-yyyy') AND trunc(hdrdt_end_datetime) between to_date(?,'dd-mon-yyyy') and to_date(?,'dd-mon-yyyy') AND TRUNC (a.hdrdt_start_datetime) BETWEEN b.hdrdt_start_date AND b.hdrdt_end_date AND TRUNC (a.hdrdt_end_datetime) BETWEEN b.hdrdt_start_date AND b.hdrdt_end_date AND a.hdrnum_shift_id LIKE ? AND a.hdrnum_shift_id \!\= 0 ORDER BY shiftid,empname



















	ESSENTIAL_EMPLOYEE_LIST_SHIFT_WISE.HDRT_ROSTER_DTL_OLD=SELECT distinct a.str_emp_no as empId, (SELECT INITCAP(str_emp_full_name) || '(' || (SELECT gstr_desig_name || ')' FROM gblt_designation_mst x WHERE gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid IN (?, ?) AND gnum_desig_code IN ( SELECT gnum_desig_code  FROM pist_emp_registration_dtl WHERE str_emp_no \= a.str_emp_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= ?) ) FROM pist_emp_registration_dtl WHERE str_emp_no \= a.str_emp_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) AS empname,hdrnum_shift_id as shiftid,a.hdrnum_roster_id as generatedRosterId,a.HDRNUM_DUTY_ROLE_ID as roleId FROM hdrt_roster_dtl a, hdrt_roster_generation_dtl b WHERE b.hdrnum_roster_type_id \= ? AND b.hdrstr_duty_area_code \= ? AND b.hdrnum_area_type_code \= (SELECT hdrnum_area_type_code FROM hdrt_roster_type_mst WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) AND b.gnum_hospital_code \= ? AND b.gnum_isvalid \= ? AND b.hdrnum_roster_status \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND b.gnum_isvalid \= a.gnum_isvalid AND b.hdrnum_roster_id \= a.hdrnum_roster_id AND trunc(hdrdt_start_datetime) between to_date(?,'dd-mon-yyyy') and to_date(?,'dd-mon-yyyy') AND trunc(hdrdt_end_datetime) between to_date(?,'dd-mon-yyyy') and to_date(?,'dd-mon-yyyy') AND TRUNC (a.hdrdt_start_datetime) BETWEEN b.hdrdt_start_date AND b.hdrdt_end_date AND TRUNC (a.hdrdt_end_datetime) BETWEEN b.hdrdt_start_date AND b.hdrdt_end_date AND a.hdrnum_shift_id LIKE ? AND a.hdrnum_shift_id \!\= 0 ORDER BY shiftid,empname
													
SELECT.ROSTER_DUTY_ROLE.HDRT_ROSTER_ROLE_MST=SELECT a.hdrnum_duty_role_id, (SELECT hdtstr_duty_role_desc || '\#' || HDRSTR_SHORT_NAME FROM hdrt_duty_role_mst WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND hdrnum_duty_role_id \= a.hdrnum_duty_role_id) as roleDesc FROM hdrt_roster_role_mst a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.hdrnum_roster_type_id \= ? ORDER BY roleDesc

												

NURSE_CAT_LIST.HDRT_ROSTER_CAT_MST = select HDRNUM_ROSTER_CAT_ID , HDRSTR_ROSTER_CAT_NAME from HDRT_ROSTER_CAT_MST  where GNUM_HOSPITAL_CODE\=? and GNUM_ISVALID\=? and HDRT_ROSTER_MAIN_CAT\=? order by HDRSTR_ROSTER_CAT_NAME\t\t\t\t\t\t\t\t\t\t\t\t


	
SELECT.ALL.HDRT_DUTY_ROLE_MST = select HDRNUM_DUTY_ROLE_ID,HDTSTR_DUTY_ROLE_DESC from HDRT_DUTY_ROLE_MST  where GNUM_HOSPITAL_CODE\=? and GNUM_ISVALID\=? \t\t\t\t\t\t\t\t\t\t\t\t

												
#////////////////For////////Exchange/////of///////Duty//////Process////////////////////////////////////////											
#									///Change in column_name str_emp_full_name as per new database///
#									///By Chetan Sharma	///

SELECT_EXCHANGE_EMP_LIST.HDRT_ROSTER_DTL=SELECT DISTINCT str_emp_no as empId,NVL ((SELECT   INITCAP(str_emp_full_name)   FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.str_emp_no   AND gnum_isvalid \= a.gnum_isvalid   AND gnum_hospital_code \= a.gnum_hospital_code),'NA' ) as empName FROM hdrt_roster_dtl a    WHERE gnum_isvalid \= ?  AND gnum_hospital_code \=?  AND TRUNC (hdrdt_start_datetime) >\= TRUNC (SYSDATE)  AND TRUNC (hdrdt_end_datetime) >\= TRUNC (SYSDATE)  AND hdrnum_roster_type_id IN ( SELECT hdrnum_roster_type_id    FROM hdrt_roster_type_mst  WHERE hdrnum_roster_cat_id \=?  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid)   order by empName
           
                               	
SELECT.HDRT_ROSTER_CAT_MST.BASED_ON_ROSTER_MAIN_CATEGORY=SELECT hdrnum_roster_cat_id as rosterCategoryId, hdrstr_roster_cat_name as rosterCategoryName   FROM hdrt_roster_cat_mst a  WHERE  hdrt_roster_main_cat \=? AND gnum_hospital_code \= ?    AND gnum_isvalid \= ?  AND hdrnum_slno \=( SELECT MAX (hdrnum_slno) FROM hdrt_roster_cat_mst WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid ) \torder by hdrstr_roster_cat_name
			   
			   
													
												
////////////////For////////Roster////Role////Assignment//////Process////////////////////////////////////////	


SELECT_DATE_RANGE_LIST.HDRT_DUTY_ROLE_DTL=SELECT DISTINCT     TO_CHAR(hdrdt_from_date,'dd-Mon-yyyy') || '@' || TO_CHAR(hdrdt_to_date,'dd-Mon-yyyy')  || '@' || hdrnum_roster_id  || '@'  || hdrnum_shift_id   || '@' || NVL ((SELECT hdtstr_shift_desc   FROM hdrt_shift_mst   WHERE hdrnum_shift_id \= c.hdrnum_shift_id    AND gnum_hospital_code \= c.gnum_hospital_code    AND gnum_isvalid \= c.gnum_isvalid), (SELECT hdtstr_shift_desc   FROM hdrt_shift_type_mst  WHERE hdrnum_shift_type \= c.hdrnum_shift_id  AND gnum_hospital_code \= c.gnum_hospital_code  AND gnum_isvalid \= c.gnum_isvalid) ) AS rosterList ,hdrdt_from_date,hdrdt_to_date,hdrnum_shift_id FROM hdrt_duty_role_dtl c   WHERE TRUNC (hdrdt_to_date) >\= TRUNC (SYSDATE)  and c.GNUM_HOSPITAL_CODE\=? and c.GNUM_ISVALID\=?   AND hdrnum_roster_id IN ( SELECT DISTINCT a.hdrnum_roster_id   FROM hdrt_roster_dtl a,hdrt_roster_generation_dtl b   WHERE a.hdrnum_roster_type_id \=?  AND a.hdrstr_duty_area_code \=?   AND a.gnum_hospital_code \=c.GNUM_HOSPITAL_CODE  AND a.gnum_isvalid \= c.gnum_isvalid  AND TRUNC (a.hdrdt_start_datetime) >\=TRUNC (SYSDATE)  AND TRUNC (a.hdrdt_end_datetime) >\=TRUNC (SYSDATE)      AND TRUNC (a.hdrdt_start_datetime)  BETWEEN TRUNC (hdrdt_start_date)  AND TRUNC (hdrdt_end_date)   AND  TRUNC (a.hdrdt_end_datetime)  BETWEEN TRUNC (hdrdt_start_date)  AND TRUNC (hdrdt_end_date)   AND a.hdrnum_roster_id \= b.hdrnum_roster_id  AND a.gnum_hospital_code \= b.gnum_hospital_code  AND a.gnum_isvalid \= b.gnum_isvalid) order by hdrdt_from_date,hdrdt_to_date,hdrnum_shift_id
			 
			 
			

SELECT_ROSTER_CATEGORY_WISE_AREAS.HDRT_ROSTERAREA_CAPACITY_MST=SELECT DISTINCT    hdrstr_duty_area_code  || '@' || a.hdrnum_area_type_code AS areaCode,(SELECT pkg_duty_roster.areaName(a.gnum_hospital_code,a.hdrnum_area_type_code,a.hdrstr_duty_area_code )  FROM DUAL) || '('  || (SELECT hdtstr_duty_area_type   FROM hdrt_duty_area_mst  WHERE hdrnum_area_type_code \= a.hdrnum_area_type_code  AND gnum_isvalid \= a.gnum_isvalid)  || ')' AS areaName  FROM hdrt_rosterarea_capacity_mst a   WHERE hdrnum_roster_type_id IN (SELECT hdrnum_roster_type_id      FROM hdrt_roster_type_mst   WHERE gnum_hospital_code \= a.gnum_hospital_code     AND gnum_isvalid \= a.gnum_isvalid       AND hdrnum_roster_cat_id \=? )  AND gnum_hospital_code \=?   AND gnum_isvalid \= ? AND hdrnum_slno \=(SELECT MAX (hdrnum_slno)    FROM hdrt_rosterarea_capacity_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id  AND hdrstr_duty_area_code \= a.hdrstr_duty_area_code   AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid)   ORDER BY areaName
			  
			  

SELECT_ROSTER_CATEGORY_WISE_EMP.HDRT_ROSTER_DTL=SELECT DISTINCT a.str_emp_no || '@' || a.hdrnum_roster_id || '@' || a.hdrnum_roster_type_id  AS empId, NVL ((SELECT    INITCAP(str_emp_full_name) FROM pist_emp_registration_dtl  WHERE str_emp_no \= a.str_emp_no   AND gnum_isvalid \= a.gnum_isvalid   AND gnum_hospital_code \= a.gnum_hospital_code),'NA') AS empName  FROM hdrt_roster_dtl a, hdrt_roster_generation_dtl b  WHERE a.gnum_isvalid \= ?  AND a.gnum_hospital_code \=?  AND a.hdrnum_roster_id \= b.hdrnum_roster_id   AND a.gnum_hospital_code \= b.gnum_hospital_code   AND a.gnum_isvalid \= b.gnum_isvalid   AND  trunc(a.hdrdt_start_datetime) BETWEEN b.hdrdt_start_date  AND b.hdrdt_end_date  AND trunc(a.hdrdt_end_datetime) BETWEEN b.hdrdt_start_date   AND b.hdrdt_end_date  AND  EXTRACT (YEAR FROM hdrdt_start_datetime) \=?  AND EXTRACT (YEAR FROM hdrdt_end_datetime) \=?  AND EXTRACT (MONTH FROM hdrdt_start_datetime) \=?  AND EXTRACT (MONTH FROM hdrdt_end_datetime) \= ?   AND TRUNC (hdrdt_start_datetime) >\= TRUNC (SYSDATE)   AND TRUNC (hdrdt_end_datetime) >\= TRUNC (SYSDATE) AND a.hdrnum_roster_type_id IN ( SELECT hdrnum_roster_type_id   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_cat_id \=?  AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid )  ORDER BY empName
       			  			
       			  			
       			  			
       			  			
SELECT_ROSTER_CATEGORY_WISE_RELIVERS.HDRT_ROSTERWISE_RELIEVERS_DTL=SELECT DISTINCT    a.str_emp_no  || '@'  || a.hdrnum_roster_id  || '@'  || a.hdrnum_roster_type_id  || '@' || hdrstr_duty_area_code  || '@'  || (SELECT pkg_duty_roster.areaName (b.gnum_hospital_code,b.hdrnum_area_type_code,b.hdrstr_duty_area_code )  FROM DUAL )  || '@'  || hdrnum_area_type_code AS areaTypeCode,     INITCAP((SELECT   INITCAP(str_emp_full_name)   FROM pist_emp_registration_dtl   WHERE str_emp_no \= a.str_emp_no  AND gnum_isvalid \= a.gnum_isvalid  AND gnum_hospital_code \= a.gnum_hospital_code)) AS empName  FROM hdrt_rosterwise_relievers_dtl a, hdrt_roster_dtl b  WHERE a.hdrnum_roster_type_id IN ( SELECT hdrnum_roster_type_id   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_cat_id \=?  AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid )  AND  a.gnum_isvalid \=?  AND a.gnum_hospital_code \=?  AND a.hdrnum_roster_id \= b.hdrnum_roster_id  AND a.gnum_hospital_code \= b.gnum_hospital_code   AND a.gnum_isvalid \= b.gnum_isvalid  AND a.str_emp_no \= b.str_emp_no    AND EXTRACT (YEAR FROM a.hdrdt_from_date) \=?      AND EXTRACT (YEAR FROM a.hdrdt_to_date) \=?  AND EXTRACT (MONTH FROM a.hdrdt_from_date) \=?  AND EXTRACT (MONTH FROM a.hdrdt_to_date) \=?     ORDER BY empName
		   
		   
		   
SELECT_ROSTER_CATEGORY_WISE_SHIFTS.HDRT_ROSTTYPE_SHIFT_MST=SELECT DISTINCT    hdrnum_roster_type_id  || '@'  || hdrnum_shift_id   || '@' ||  NVL ((SELECT hdrstr_start_time  FROM hdrt_shift_mst   WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid),'0') || '@'   || NVL ((SELECT hdrstr_end_time    FROM hdrt_shift_mst   WHERE hdrnum_shift_id \= a.hdrnum_shift_id  AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid),'0') || '@'  ||  NVL ((SELECT DISTINCT hdrnum_roster_id   FROM hdrt_roster_dtl   WHERE hdrnum_roster_type_id \=a.hdrnum_roster_type_id   AND hdrstr_duty_area_code \=?  AND hdrnum_area_type_code \=? AND gnum_isvalid \= a.gnum_isvalid  AND gnum_hospital_code \=a.gnum_hospital_code AND EXTRACT(YEAR FROM hdrdt_start_datetime) \=?   AND EXTRACT (YEAR FROM hdrdt_end_datetime) \=?  AND EXTRACT(MONTH FROM hdrdt_start_datetime) \=?   AND EXTRACT(MONTH FROM hdrdt_end_datetime) \=? ),-1 ) AS shiftId, (SELECT hdtstr_shift_desc     FROM hdrt_shift_mst    WHERE hdrnum_shift_id \= a.hdrnum_shift_id   AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid)   || '('   ||  ( SELECT hdrstr_roster_type_name   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id   AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid ) || ')' AS shiftDesc FROM hdrt_rosttype_shift_mst a    WHERE gnum_hospital_code \= ?  AND gnum_isvalid \= ?   AND a.hdrnum_roster_type_id IN  ( SELECT hdrnum_roster_type_id  FROM hdrt_roster_type_mst  WHERE hdrnum_roster_cat_id \= ?  AND hdrnum_area_type_code \=?   AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid )  ORDER BY shiftDesc
			     
			     
			     
///////////////Roster-------Main-----Category----whose-----Rosters----are----Mapped----with----Roles//////////


SELECT_ROLE_BASED.HDRT_ROSTER_MAIN_CAT=SELECT   hdrt_roster_main_cat as rosterMainCatgId , hdrstr_main_cat_name as rosterMainCatgName   FROM hdrt_roster_main_cat m    WHERE gnum_hospital_code \= ?     AND gnum_isvalid \= ?    AND hdrt_roster_main_cat IN ( SELECT hdrt_roster_main_cat    FROM hdrt_roster_cat_mst   WHERE gnum_hospital_code \= m.gnum_hospital_code  AND gnum_isvalid \= m.gnum_isvalid   AND  hdrnum_roster_cat_id IN ( SELECT hdrnum_roster_cat_id  FROM hdrt_roster_cat_mst a  WHERE gnum_hospital_code \= m.gnum_hospital_code  AND gnum_isvalid \=m.gnum_isvalid   AND hdrnum_slno \=( SELECT MAX (hdrnum_slno)  FROM hdrt_roster_cat_mst   WHERE hdrnum_roster_cat_id \=a.hdrnum_roster_cat_id   AND gnum_hospital_code \=a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid )      AND hdrnum_roster_cat_id IN ( SELECT hdrnum_roster_cat_id   FROM hdrt_roster_type_mst  WHERE gnum_hospital_code \=a.gnum_hospital_code  AND gnum_isvalid \= a.gnum_isvalid  AND hdrnum_roster_type_id IN  ( SELECT DISTINCT hdrnum_roster_type_id   FROM hdrt_roster_role_mst   WHERE gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid ))))  ORDER BY rosterMainCatgName


///////////////Roster-------Category----whose-----Rosters----are----Mapped----with----Roles/////////////

SELECT_ROLE_BASED.HDRT_ROSTER_CAT_MST=SELECT   hdrnum_roster_cat_id AS rosterCategoryId,hdrstr_roster_cat_name AS rosterCategoryName     FROM hdrt_roster_cat_mst a   WHERE hdrt_roster_main_cat \= ?     AND gnum_hospital_code \= ?   AND gnum_isvalid \= ?    AND hdrnum_slno \=( SELECT MAX (hdrnum_slno)    FROM hdrt_roster_cat_mst    WHERE hdrnum_roster_cat_id \= a.hdrnum_roster_cat_id     AND gnum_hospital_code \= a.gnum_hospital_code   AND gnum_isvalid \= a.gnum_isvalid )  AND hdrnum_roster_cat_id IN ( SELECT hdrnum_roster_cat_id   FROM hdrt_roster_type_mst   WHERE gnum_hospital_code \=a.GNUM_HOSPITAL_CODE   AND gnum_isvalid \= a.GNUM_ISVALID  AND  hdrnum_roster_type_id IN ( SELECT DISTINCT hdrnum_roster_type_id  FROM hdrt_roster_role_mst  WHERE gnum_hospital_code \=a.GNUM_HOSPITAL_CODE    AND gnum_isvalid \= a.GNUM_ISVALID ))   ORDER BY rosterCategoryName


#///////////////--Rosters------that--are----Mapped----with----Roles/////////////////////////////////                                      
			         	  

SELECT_ROLE_BASED.HDRT_ROSTER_TYPE_MST= SELECT   a.hdrnum_roster_type_id || '^'  || a.hdrnum_area_type_code AS rosterId,a.hdrstr_roster_type_name AS rosterName    FROM hdrt_roster_type_mst a    WHERE a.gnum_hospital_code \= ?    AND a.gnum_isvalid \=?  AND a.hdrnum_roster_cat_id \= ?  AND  a.hdrnum_slno \=( SELECT MAX (hdrnum_slno)   FROM hdrt_roster_type_mst   WHERE hdrnum_roster_type_id \= a.hdrnum_roster_type_id   AND gnum_hospital_code \= a.gnum_hospital_code    AND gnum_isvalid \= a.gnum_isvalid )    AND a.hdrnum_roster_type_id IN ( SELECT DISTINCT hdrnum_roster_type_id   FROM hdrt_roster_role_mst   WHERE gnum_hospital_code \=a.GNUM_HOSPITAL_CODE  AND gnum_isvalid \= a.GNUM_ISVALID )  ORDER BY rosterName\t\t    
							 
							 
SELECT_ALL_MAPPED_USER_EMP.HDRT_DUTY_AREA_EMPLOYEE_MST.PIST_EMP_PERSONNEL_DTL=SELECT DISTINCT    a.str_emp_no  || '@' || gnum_userid  || '@'  || 
       
       
#Commented by Chetan Sharma as column name gnum_hospital_code does'nt exist in table gblt_metatable_column_mst

ESSENTIAL.ALL_HOSPTIAL_SEAT_WISE.GBLT_HOSPITAL_MST_OLD = SELECT  distinct gnum_hospital_code, gstr_hospital_name AS orderbyname  FROM gblt_hospital_mst WHERE (gnum_hospital_code\=? or gnum_hospital_code IN ( SELECT gnum_column_value  FROM gblt_role_seat_table_dtl p, gblt_metatable_column_mst q WHERE p.gnum_metatable_id \= q.gnum_metatable_id AND q.gstr_table_name \= 'GBLT_HOSPITAL_MST' AND p.gstr_column_name \= 'GNUM_HOSPITAL_CODE' AND p.gnum_seatid \= pkg_usermgmt.fun_getseatid (?, ?) AND p.gnum_hospital_code \= q.gnum_hospital_code
										             
ESSENTIAL.ALL_HOSPTIAL_SEAT_WISE.GBLT_HOSPITAL_MST = SELECT  distinct gnum_hospital_code, gstr_hospital_name AS orderbyname  FROM gblt_hospital_mst WHERE (gnum_hospital_code\=? or gnum_hospital_code IN ( SELECT gnum_column_value  FROM gblt_role_seat_table_dtl p, gblt_metatable_column_mst q WHERE p.gnum_metatable_id \= q.gnum_metatable_id AND q.gstr_table_name \= 'GBLT_HOSPITAL_MST' AND p.gstr_column_name \= 'GNUM_HOSPITAL_CODE' AND p.gnum_seatid \= pkg_usermgmt.fun_getseatid (?, ?) AND p.gnum_hospital_code \= ? AND p.gbl_isvalid \= ?  )) and GNUM_ISVALID\=1 ORDER BY orderbyname\t\t\t\t\t\t\t\t\t\t\t\t\t

           	  