GENERATE_DECEASED_NO.HMRT_DECEASED_DTL = SELECT PKG_MORTUARY_DTL.GEN_DECEASED_ID(?)


INSERT.HMRT_DECEASED_RELATIVE_DTL =INSERT INTO HMRT_DECEASED_RELATIVE_DTL(HMRNUM_DECEASED_NO, HMRSTR_RELATIVE_NAME, HMRSTR_RELATIVE_ADDRESS, HMRSTR_RELATIVE_CONTACTNO, \
									GNUM_RELATION_CODE, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_RELATIVE_SRNO, GNUM_HOSPITAL_CODE, HMRNUM_RELATIVE_FLAG) \
									VALUES(?,?,?,?,?,?,SYSDATE,?,(SELECT NVL(MAX(HRGNUM_RELATIVE_SRNO),0)+1 FROM HMRT_DECEASED_RELATIVE_DTL WHERE HMRNUM_DECEASED_NO = ?),?,?)


INSERT.HMRT_DECEASED_STORAGE_DTL = INSERT INTO HMRT_DECEASED_STORAGE_DTL(HMRNUM_DECEASED_NO, HMRNUM_SLNO, HMRDT_STORAGE_INTIME, HMRDT_STORAGE_UPTO, \
									HMRSTR_STORAGE_REASON, HMRDT_STORAGE_OUTTIME, HMRNUM_CHAMBERRACK_ID, HMRSTR_BODY_PUTBY, HMRNUM_OUT_FOR, \
									HMRNUM_ISSTORAGE_EXTEND, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID) \
									VALUES(?,(SELECT NVL (MAX(HMRNUM_SLNO),0)+1 FROM HMRT_DECEASED_STORAGE_DTL WHERE HMRNUM_DECEASED_NO=?),SYSDATE,(SYSDATE+(?/24)),?,?,?,?,?,?,?,SYSDATE,?)


INSERT.HMRT_DECEASED_HANDOVER_DTL =  INSERT INTO HMRT_DECEASED_HANDOVER_DTL(HMRNUM_DECEASED_NO, HRGNUM_SLNO, HMRNUM_ISHANDOVER_TO, HPMRSTR_EMP_ID, \
										HMRSTR_HANDOVER_TO_NAME, HMRSTR_HANDOVER_TO_ADDRESS, HRGSTR_HANDOVER_TO_PHONE, HRGSTR_CONSTABLE_DESIG, GNUM_RELATION_CODE, \
										HRGSTR_IP_ADD, HRGSTR_CONSTABLE_BADGENO, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_HOSPITAL_CODE,HRGSTR_POLICE_STATION,HRGSTR_POLICE_CONTACT) \
										VALUES(?,(SELECT NVL (MAX(HRGNUM_SLNO),0)+1 FROM HMRT_DECEASED_HANDOVER_DTL WHERE HMRNUM_DECEASED_NO=?),?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,?)
										
										
INSERT.HMRT_DECEASED_DTL = INSERT INTO HMRT_DECEASED_DTL(HMRNUM_DECEASED_NO, HRGNUM_PUK, HMRNUM_ENTRY_MODE, HMRSTR_FNAME, HMRDT_RECEIVED_DATETIME, \
								HMRSTR_MNAME, HMRSTR_LNAME, HMRSTR_RECEIVED_BY, GNUM_GENDER_CODE, HMRDT_DEATH_DATETIME, HMRNUM_BODY_STATUS, HMRDT_DOB, \
								HMRNUM_ISACTUAL_DOB, HMRDT_STORAGE_UPTO, HMRDT_ISSUE_DATETIME, GNUM_MARITAL_STATUS_CODE, HMRNUM_UNIDENTIFIED_BODY, \
								HMRSTR_FATHER_NAME, HMRNUM_ISBROUGHT_DEAD, HMRSTR_SPOUSE_NAME, HMRSTR_ADD1, HMRNUM_ISMLC_CASE, HMRSTR_ADD2, \
								HMRSTR_CONTACT_NO, HMRSTR_DAIGNOSIS, HMRSTR_DEATH_HISTORY, HMRNUM_ISPREGNANT, HMRSTR_OBSTETRIC_HISTORY, \
								HMRSTR_MOTHER_NAME, HMRSTR_IDMARK1, HMRSTR_IDMARK2, GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_HOSPITAL_CODE, \
								GSTR_IP_ADD, HRGNUM_EPISODE_CODE, HRGNUM_VISIT_NO, HMRNUM_IS_DECOMPOSITION,HMRSTR_HOSPITAL_NAME, HMRSTR_DEPARTMENT_NAME, \
								HMRSTR_CRNO, HMRSTR_ADMNO, HMRSTR_UNIT_NAME, HMRSTR_WARD_NAME, HMRSTR_BED_NO, \
								HMRSTR_DOCTOR_NAME, HMRSTR_HOSPITAL_CONTACTNO, HMRNUM_ISCLAIMED, HMRNUM_POSTMORTEM_REQ,HMRSTR_BELONGING_DETAIL,HMRSTR_REMARKS) \
								VALUES(?,?,?,INITCAP(?),SYSDATE,INITCAP(?),INITCAP(?),?,?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,TO_DATE(?,'dd-Mon-yyyy'),?,(SYSDATE+(?/24)),TO_DATE(?,'dd-Mon-yyyy HH24:MI'), \
								?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)


INSERT.HMRT_DECEASED_BROUGHTBY_DTL = INSERT INTO HMRT_DECEASED_BROUGHTBY_DTL(HMRNUM_DECEASED_NO, HRGNUM_SLNO, HMRNUM_ISBROUGHT_BY, HPMRSTR_EMP_ID, \
										HMRSTR_BROUGHT_BY_NAME, HMRSTR_BROUGHT_BY_ADDRESS, HRGSTR_BROUGHT_BY_PHONE, HRGSTR_CONSTABLE_DESIG, GNUM_RELATION_CODE, \
										HRGSTR_IP_ADD, HRGSTR_CONSTABLE_BADGENO, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_HOSPITAL_CODE, \
										HMRSTR_BROUGHT_LOCATION,HRGSTR_POLICE_STATION,HRGSTR_POLICE_CONTACT)VALUES(?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_DECEASED_BROUGHTBY_DTL WHERE HMRNUM_DECEASED_NO = ?), \
										?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?)
										 

INSERT.HMRT_POLICE_VERIFICATION_DTL = INSERT INTO HMRT_POLICE_VERIFICATION_DTL (HMRNUM_DECEASED_NO, HRGSTR_MLC_NO, HRGSTR_CASE_NO, HRGSTR_POLICE_STATION, \
										HRGSTR_DD_NO, HRGSTR_IO_NAME, HRGSTR_IO_DESIG, HRGSTR_IO_BADGENO, HRGSTR_CONSTABLE_NAME, GNUM_SEAT_ID, GDT_ENTRY_DATE, \
										HRGSTR_CONSTABLE_DESIG, HRGSTR_CONSTABLE_BADGENO, HRGSTR_CASE_REMARKS, GNUM_ISVALID, HMRDT_DEATH_DATETIME, \
										HRGNUM_POLICE_SRNO,HMRDT_INCIDENCE_DATETIME, HMRSTR_DEATH_PLACE, GNUM_HOSPITAL_CODE, HMRNUM_ENTRY_MODE) \
										VALUES(?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,?,TO_DATE(?,'dd-Mon-yyyy HH24:Mi'), \
										(SELECT NVL(MAX(HRGNUM_POLICE_SRNO),0)+1 FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ?),TO_DATE(?,'dd-Mon-yyyy HH24:Mi'),?,?,?)
											

COUNT_DEAD_BODY_IN_RACK.HMRT_CHAMBER_RACK_MST = SELECT COUNT(*) FROM HMRT_DECEASED_STORAGE_DTL WHERE HMRNUM_CHAMBERRACK_ID = ? AND HMRNUM_OUT_FOR IS NULL AND GNUM_ISVALID = ?


INSERT.HMRT_DECEASED_IMAGE_DTL = INSERT INTO HMRT_DECEASED_IMAGE_DTL(HRGNUM_PUK, HMRNUM_DECEASED_NO, HRGNUM_SLNO, HRGNUM_EPISODE_CODE, HRGNUM_IS_DEFAULT, \
									HRGSTR_IP_ADD, HMRNUM_UPLOAD_MODE, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_HOSPITAL_CODE, \
									HRGSTR_FILENO, HRGSTR_PATH, HMRSTR_IMAGE_HEADER, HMRSTR_UPLOAD_REMARKS) VALUES(?,?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_DECEASED_IMAGE_DTL \
									WHERE HMRNUM_DECEASED_NO = ?),?,?,?,?,?,SYSDATE,?,?,(?||'#'||(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_DECEASED_IMAGE_DTL \
									WHERE HMRNUM_DECEASED_NO = ?)),?,?,?)


GET_FILE_NAME.HMRT_DECEASED_IMAGE_DTL = SELECT HRGSTR_FILENO FROM HMRT_DECEASED_IMAGE_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? \
											AND HRGNUM_SLNO = (SELECT MAX(HRGNUM_SLNO) FROM HMRT_DECEASED_IMAGE_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ?)


RACK_ID_BY_DECEASED_NO.HMRT_CHAMBER_RACK_MST = SELECT HMRNUM_CHAMBERRACK_ID FROM HMRT_DECEASED_STORAGE_DTL WHERE HMRNUM_DECEASED_NO = ? AND HMRDT_STORAGE_OUTTIME IS NULL \
												AND GNUM_ISVALID = ? AND HMRNUM_SLNO = (SELECT MAX(HMRNUM_SLNO) FROM HMRT_DECEASED_STORAGE_DTL WHERE HMRNUM_DECEASED_NO = ?)


UPDATE.HMRT_DECEASED_STORAGE_DTL = UPDATE HMRT_DECEASED_STORAGE_DTL SET HMRDT_STORAGE_OUTTIME = SYSDATE, HMRNUM_OUT_FOR = ? WHERE HMRNUM_DECEASED_NO = ? \
									AND GNUM_ISVALID = ? AND HMRNUM_SLNO = (SELECT MAX(HMRNUM_SLNO) FROM HMRT_DECEASED_STORAGE_DTL WHERE HMRNUM_DECEASED_NO = ?)

												
SELECT_DECEASED_POLICE_VER.HMRT_POLICE_VERIFICATION_DTL = SELECT HRGSTR_MLC_NO as patMlcNo, HRGSTR_CASE_NO as caseNo, HRGSTR_POLICE_STATION as policeStation, HRGSTR_DD_NO as docketNo, \
															HRGSTR_IO_NAME as officerIncharge, HRGSTR_IO_DESIG as ioDesignation, HRGSTR_IO_BADGENO as ioBatchNo, \
															HRGSTR_CONSTABLE_NAME as dutyOffName , HRGSTR_CONSTABLE_DESIG as dutyOffDesignation, HRGSTR_CONSTABLE_BADGENO as dutyOffBatchNo, \
															HRGSTR_CASE_REMARKS as caseRemarks, TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24:MI') as deathDate, \
															HMRDT_INCIDENCE_DATETIME as incidenceDate, HMRSTR_DEATH_PLACE as deathPlace \
															FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? \
															AND HRGNUM_POLICE_SRNO=(SELECT MAX(HRGNUM_POLICE_SRNO) FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ? \
															AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?)



INSERT.HMRT_POSTMORTEM_REQ_DTL = INSERT INTO HMRT_POSTMORTEM_REQ_DTL(HMRNUM_POSTMORTEM_ID, HRGSTR_MLC_NO, HMRNUM_DECEASED_NO, HRGSTR_CASE_NO, \
									HMRDT_REQ_DATETIME, HMRNUM_POSTMORTEM_STATUS, HRGSTR_POLICE_STATION, HRGSTR_DD_NO, HRGSTR_IO_NAME, HRGSTR_IO_DESIG, \
									HRGSTR_IO_BADGENO, HRGSTR_CONSTABLE_NAME, GNUM_SEAT_ID, GDT_ENTRY_DATE, HRGSTR_CONSTABLE_DESIG, HRGSTR_CONSTABLE_BADGENO, \
									HRGSTR_CASE_REMARKS, HMRDT_DEATH_DATETIME, GNUM_ISVALID, HMRDT_INCIDENCE_DATETIME, HRGNUM_SRNO, HMRSTR_DEATH_PLACE, \
									GNUM_HOSPITAL_CODE, HMRNUM_IS_REPEAT, HMRSTR_REPEAT_REASON, HMRSTR_APPROVED_BY, HMRNUM_CONDUCT_BY, HMRNUM_POSTMORTUM_TYPE, \
									HMRNUM_REQ_TYPE,HMRNUM_CONSENT_STATUS, HMRNUM_AUTOPSY_CAT_ID, HMRSTR_CANCEL_REASON) \
									VALUES(?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,TO_DATE(?,'dd-Mon-yyyy hh24:mi'),?,TO_DATE(?,'dd-Mon-yyyy hh24:mi'),\
									(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_POSTMORTEM_REQ_DTL WHERE HMRNUM_POSTMORTEM_ID = ?),?,?,?,?,?,?,?,?,?,?,?)
																				 

INSERT.HMRT_POSTMORTEM_ITEMREQ_DTL = INSERT INTO HMRT_POSTMORTEM_ITEMREQ_DTL(HMRNUM_POSTMORTEM_ID, HMRNUM_ITEM_CODE, HMRSTR_REMARKS, GNUM_SEAT_ID, \
										GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE)VALUES (?,?,?,?,SYSDATE,?,(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 \
										FROM HMRT_POSTMORTEM_ITEMREQ_DTL WHERE HMRNUM_POSTMORTEM_ID=?),?)


INSERT.HMRT_POSTMORTEM_OPINIONREQ_DTL = INSERT INTO HMRT_POSTMORTEM_OPINIONREQ_DTL(HMRNUM_POSTMORTEM_ID, HMRNUM_OPINION_CODE, HMRSTR_REMARKS, GNUM_SEAT_ID, \
											GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE)VALUES(?,?,?,?,SYSDATE,?,(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 \
											FROM HMRT_POSTMORTEM_OPINIONREQ_DTL WHERE HMRNUM_POSTMORTEM_ID = ?),?)																				 


GENERATE_POSTMORTEM_ID.HMRT_POSTMORTEM_REQ_DTL = SELECT PKG_MORTUARY_DTL.GEN_POSTMORTEM_ID(?,?) FROM DUAL	


INSERT.HMRT_POSTMORTEM_DTL = INSERT INTO HMRT_POSTMORTEM_DTL(HMRNUM_POSTMORTEM_ID, HMRDT_START_DATETIME, HMRDT_END_DATETIME, HMRSTR_OPINION, \
								HMRSTR_REMARKS, HMRNUM_CONDUCT_BY, HMRSTR_COMPLEXION, HMRSTR_HAIRCOLOR_LENGTH, HMRSTR_EYE_COLOR, HMRNUM_LENGTH, \
								HMRNUM_WEIGHT, GNUM_SEAT_ID, GDT_ENTRY_DATE, HMRSTR_CLOTHES_DETAIL, HMRNUM_BODY_LOOKS, GNUM_ISVALID, HRGNUM_SRNO, \
								GNUM_HOSPITAL_CODE,HMRSTR_PUPIL_RIGHT, HMRSTR_PUPIL_LEFT, HMRSTR_CORNEA_RIGHT, HMRSTR_CORNEA_LEFT, HMRSTR_CYNOSIS, \
								HMRSTR_LIVIDITY, HMRSTR_RIGOR_MORTIS, HMRSTR_ORIFICES, HMRSTR_MOUTH_ODOUR, HMRNUM_IS_DECOMPOSITION, \
								HGNUM_DEATH_MANNER_CODE, HMRDT_INJURY_DATETIME, HRGNUM_INJURY_NATURE_CODE, HRGNUM_INJURY_TYPE_CODE, \
								HMRSTR_INJURY_REMARKS, HMRNUM_WEAPON_USED, HMRSTR_WEAPON_REMARKS, HMRNUM_INJURY_PHOTO, HMRSTR_CLINICAL_DAIGNOSIS, HMRNUM_INCISION_TYPE_CODE, HMRDT_DEATH_DATETIME) \
								VALUES(?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'),TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,?,?,?,?,?,?,?,?, SYSDATE,?,?,?, \
								(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_POSTMORTEM_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ?),?,?,?,?,?,?,?,?,?,?,?,?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,?,?,?,?,?,?,?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'))



GET_DECEASED_DETAIL_BY_DECEASED_NO.HMRT_DECEASED_DTL = SELECT A.HMRNUM_DECEASED_NO as deceasedNo, A.HRGNUM_PUK as patCrNo, A.HMRNUM_ENTRY_MODE as entryMode, INITCAP(A.HMRSTR_FNAME) as patFirstName, \
														TO_CHAR(A.HMRDT_RECEIVED_DATETIME,'dd-Mon-yyyy hh24:mi') as receivedDateTime, INITCAP(A.HMRSTR_MNAME) as patMiddleName, INITCAP(A.HMRSTR_LNAME) as patLastName, \
														A.HMRSTR_RECEIVED_BY as receivedBy, A.GNUM_GENDER_CODE as patGenderCode, TO_CHAR(A.HMRDT_DEATH_DATETIME,'dd-Mon-yyyy hh24:mi') as deathDate, \
														(SELECT  B.STR_EMP_FULL_NAME \
														FROM PIST_EMP_REGISTRATION_DTL B WHERE B.STR_EMP_NO='PGIPER10000168' AND B.GNUM_HOSPITAL_CODE=A.GNUM_HOSPITAL_CODE AND B.GNUM_ISVALID = ?) as receivedByName, \
														(SELECT C.GSTR_GENDER_NAME FROM GBLT_GENDER_MST C WHERE C.GSTR_GENDER_CODE =A.GNUM_GENDER_CODE  AND C.GNUM_ISVALID = ?) as patGender, \
														A.HMRNUM_ISMLC_CASE as isMlcCase,(SELECT D.HRGSTR_CASE_NO FROM HMRT_POSTMORTEM_REQ_DTL D WHERE D.HMRNUM_DECEASED_NO=A.HMRNUM_DECEASED_NO AND D.GNUM_ISVALID=1 AND D.HRGNUM_SRNO=(SELECT MAX(E.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL E \
														WHERE E.HMRNUM_DECEASED_NO=A.HMRNUM_DECEASED_NO)) as caseNo,A.HMRSTR_FATHER_NAME as patGuardianName, AHIS_UTIL.DOB_AGE_ON(A.HMRDT_DOB,SYSDATE) as patAge \
														FROM HMRT_DECEASED_DTL A WHERE A.HMRNUM_DECEASED_NO = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ?


CHECK_EXISTING_RECORD.HMRT_POSTMORTEM_DTL = SELECT * FROM HMRT_POSTMORTEM_DTL WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


INSERT.HMRT_POSTMORTEM_TEAM_DTL = INSERT INTO HMRT_POSTMORTEM_TEAM_DTL(HMRNUM_POSTMORTEM_ID, HMRSTR_EMP_ID, HMRNUM_ROLE_ID, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, \
									HRGNUM_SRNO, GNUM_HOSPITAL_CODE, HMRNUM_INCHARGE, HMRSTR_REASON, HMRNUM_IS_PERFORMED)VALUES(?,?,?,?,SYSDATE,?,(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_POSTMORTEM_TEAM_DTL \
									WHERE HMRNUM_POSTMORTEM_ID = ?),?,?,?,?)


INSERT.HMRT_POSTMORTEM_ITEM_DTL = INSERT INTO HMRT_POSTMORTEM_ITEM_DTL(HMRNUM_POSTMORTEM_ID, HMRNUM_ITEM_CODE, HMRSTR_REMARKS, HMRNUM_IS_PRESERVED, \
									HMRNUM_PRESERVATIVE_ID, HMRNUM_STATUS, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE) \
									VALUES(?,?,?,?,?,?,?,SYSDATE,?,	(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_POSTMORTEM_ITEM_DTL WHERE HMRNUM_POSTMORTEM_ID = ?),?)


INSERT.HMRT_DECEASED_IDENTY_DTL = INSERT INTO HMRT_DECEASED_IDENTY_DTL (HMRNUM_DECEASED_NO, HRGNUM_SLNO, HMRNUM_ISIDENTYFY_BY, HPMRSTR_EMP_ID, \
									HMRSTR_IDENTY_BY_NAME, HMRSTR_IDENTY_BY_ADDRESS, HRGSTR_IDENTY_BY_PHONE, HRGSTR_CONSTABLE_DESIG, \
									GNUM_RELATION_CODE, HRGSTR_IP_ADD, HRGSTR_CONSTABLE_BADGENO, HMRNUM_POSTMORTEM_ID, GNUM_SEAT_ID, \
									GDT_ENTRY_DATE, GNUM_ISVALID, GNUM_HOSPITAL_CODE, HMRNUM_IDENTY_MODE, HMRSTR_IDENTIFY_REMARKS) \
									VALUES(?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_DECEASED_IDENTY_DTL WHERE HMRNUM_DECEASED_NO = ?), \
									?,?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?,?,?)						


CHECK_EXISTING_RECORD.HMRT_DECEASED_IDENTY_DTL = SELECT * FROM HMRT_DECEASED_IDENTY_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


GET_CASE_NO.HMRT_POLICE_VERIFICATION_DTL = SELECT HRGSTR_CASE_NO FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ? \
											AND GNUM_ISVALID = ? AND HRGNUM_POLICE_SRNO = (SELECT MAX(HRGNUM_POLICE_SRNO) FROM HMRT_POLICE_VERIFICATION_DTL WHERE \
											HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?) AND GNUM_HOSPITAL_CODE = ?

UPDATE_INJURY_DETAIL.HMRT_POSTMORTEM_DTL = UPDATE HMRT_POSTMORTEM_DTL SET HGNUM_DEATH_MANNER_CODE = ? , HMRDT_INJURY_DATETIME=TO_DATE(?,'dd-Mon-yyyy hh24:mi'), \
												HRGNUM_INJURY_NATURE_CODE = ?, HRGNUM_INJURY_TYPE_CODE = ?, HMRSTR_INJURY_REMARKS = ?, HMRNUM_WEAPON_USED = ?, \
												HMRSTR_WEAPON_REMARKS = ?, HMRNUM_INJURY_PHOTO = ? \
												WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? \
												AND HRGNUM_SRNO = (SELECT MAX(HRGNUM_SRNO) FROM HMRT_POSTMORTEM_DTL  WHERE HMRNUM_POSTMORTEM_ID = ?)


SELECT_INJURY_DETAIL.HMRT_POSTMORTEM_DTL = SELECT HGNUM_DEATH_MANNER_CODE AS deathMannerCode, TO_CHAR(HMRDT_INJURY_DATETIME,'dd-Mon-yyyy hh24:mi') AS injuryDateTime, \
												HRGNUM_INJURY_NATURE_CODE AS injuryNatureCode, HRGNUM_INJURY_TYPE_CODE AS injuryTypeCode, HMRSTR_INJURY_REMARKS AS injuryRemarks, \
												HMRNUM_WEAPON_USED AS weaponUsed, HMRSTR_WEAPON_REMARKS AS weaponRemarks, HMRNUM_INJURY_PHOTO AS injuryPhoto \
												FROM HMRT_POSTMORTEM_DTL WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? \
												AND  HRGNUM_SRNO = (SELECT MAX(HRGNUM_SRNO) FROM HMRT_POSTMORTEM_DTL WHERE HMRNUM_POSTMORTEM_ID = ? )


SELECT_GENERAL_APPEARANCE_DETAIL.HMRT_POSTMORTEM_DTL = SELECT TO_CHAR(A.HMRDT_START_DATETIME,'dd-Mon-yyyy hh24:mi') AS startDateTime, TO_CHAR(A.HMRDT_END_DATETIME,'dd-Mon-yyyy hh24:mi') AS endDateTime, \
														A.HMRSTR_REMARKS AS remarks, A.HMRNUM_CONDUCT_BY AS conductBy, A.HMRSTR_COMPLEXION AS complexion, A.HMRSTR_HAIRCOLOR_LENGTH AS hairColorLength, \
														A.HMRSTR_EYE_COLOR AS eyeColor, A.HMRNUM_LENGTH AS LENGTH, A.HMRNUM_WEIGHT AS weight, A.HMRSTR_PUPIL_RIGHT AS pupilRight, \
														A.HMRSTR_PUPIL_LEFT AS pupilLeft, A.HMRSTR_CLOTHES_DETAIL AS clothDetails, A.HMRSTR_CORNEA_RIGHT AS corneaRight, \
														A.HMRNUM_BODY_LOOKS AS bodyLooks, A.HMRSTR_CORNEA_LEFT AS corneaLeft, A.HMRSTR_CYNOSIS AS cynosis, A.HMRSTR_LIVIDITY AS lividity, \
														A.HMRSTR_RIGOR_MORTIS AS rigorMortis, A.HMRSTR_ORIFICES AS orifices, A.HMRSTR_MOUTH_ODOUR AS mouthOdour, A.HMRNUM_IS_DECOMPOSITION AS isDecomposition, \
														TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy hh24:mi') AS deathDateTime, A.HMRSTR_OPINION AS opinion, A.HGNUM_DEATH_MANNER_CODE AS deathMannerCode, \
														TO_CHAR(A.HMRDT_INJURY_DATETIME,'dd-Mon-yyyy hh24:mi') AS injuryDateTime, A.HRGNUM_INJURY_NATURE_CODE AS injuryNatureCode, A.HRGNUM_INJURY_TYPE_CODE AS injuryTypeCode, \
														A.HMRSTR_INJURY_REMARKS AS injuryRemarks, A.HMRNUM_WEAPON_USED AS weaponUsed, A.HMRSTR_WEAPON_REMARKS AS weaponRemarks, \
														A.HMRNUM_INJURY_PHOTO AS injuryPhoto, A.HMRSTR_CLINICAL_DAIGNOSIS AS clinicalDiagnosis, A.HMRNUM_INCISION_TYPE_CODE as incisionType, A.HRGNUM_SRNO as srNo \
														FROM HMRT_POSTMORTEM_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ?  AND A.GNUM_ISVALID = ?  AND A.GNUM_HOSPITAL_CODE = ? \
														AND HRGNUM_SRNO = (SELECT MAX (X.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_DTL X WHERE X.HMRNUM_POSTMORTEM_ID = A.HMRNUM_POSTMORTEM_ID)


INSERT.HMRT_POSTMORTEM_OPINION_DTL = INSERT INTO HMRT_POSTMORTEM_OPINION_DTL (HMRNUM_POSTMORTEM_ID, HMRNUM_OPINION_CODE, HMRSTR_OPINION, GNUM_SEAT_ID, \
										GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE)VALUES(?,?,?,?,SYSDATE,?,(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 \
										FROM HMRT_POSTMORTEM_OPINION_DTL WHERE HMRNUM_POSTMORTEM_ID = ?),?) 


UPDATE_GENERAL_APPEARANCE.HMRT_POSTMORTEM_DTL = UPDATE HMRT_POSTMORTEM_DTL SET HMRSTR_REMARKS = ?, HMRNUM_CONDUCT_BY = ?, HMRSTR_COMPLEXION = ?, HMRSTR_HAIRCOLOR_LENGTH = ?, \
													HMRSTR_EYE_COLOR = ?, HMRNUM_LENGTH = ?, HMRNUM_WEIGHT =?, HMRSTR_PUPIL_RIGHT =?, HMRSTR_PUPIL_LEFT =?, HMRSTR_CLOTHES_DETAIL = ?, \
													HMRSTR_CORNEA_RIGHT = ?, HMRNUM_BODY_LOOKS = ?, HMRSTR_CORNEA_LEFT = ?, HMRSTR_CYNOSIS = ?, HMRSTR_LIVIDITY = ?, HMRSTR_RIGOR_MORTIS = ?, \
													HMRSTR_ORIFICES = ?, HMRSTR_MOUTH_ODOUR = ?, HMRNUM_IS_DECOMPOSITION = ?, HGNUM_DEATH_MANNER_CODE = ?, HMRDT_INJURY_DATETIME = TO_DATE(?,'dd-Mon-yyyy hh24:mi'), \
													HRGNUM_INJURY_NATURE_CODE = ?, HRGNUM_INJURY_TYPE_CODE = ?, HMRSTR_INJURY_REMARKS = ?, HMRNUM_WEAPON_USED = ?, HMRSTR_WEAPON_REMARKS = ?, \
													HMRNUM_INJURY_PHOTO = ?, HMRSTR_CLINICAL_DAIGNOSIS = ?, HMRSTR_OPINION = ? \
													WHERE HMRNUM_POSTMORTEM_ID =? AND HRGNUM_SRNO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


INSERT.HMRT_POSTMORTEM_EXAM_DTL = INSERT INTO HMRT_POSTMORTEM_EXAM_DTL(HMRNUM_POSTMORTEM_ID, HRGNUM_SLNO, HGNUM_TEMPLATE_ID, HGSTR_PARA_VALUE, \
									GNUM_ISVALID, GNUM_SEAT_ID, HGNUM_PARA_ID, GDT_ENTRY_DATE, GNUM_HOSPITAL_CODE) VALUES \
									(?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_POSTMORTEM_EXAM_DTL WHERE HMRNUM_POSTMORTEM_ID = ?),?,?,?,?,?,SYSDATE,?)

UPDATE.HMRT_POSTMORTEM_EXAM_DTL = UPDATE HMRT_POSTMORTEM_EXAM_DTL SET HGSTR_PARA_VALUE = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND HGNUM_TEMPLATE_ID = ? \
									AND HGNUM_PARA_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_INVALID_STATUS.HMRT_POSTMORTEM_EXAM_DTL = UPDATE HMRT_POSTMORTEM_EXAM_DTL SET GNUM_ISVALID = ? WHERE HMRNUM_POSTMORTEM_ID = ?  AND GNUM_HOSPITAL_CODE = ?


UPDATE_INVALID_STATUS.HMRT_POSTMORTEM_OPINION_DTL = UPDATE HMRT_POSTMORTEM_OPINION_DTL SET GNUM_ISVALID = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_HOSPITAL_CODE = ?


APPROVED_FINAL_OPINION.HMRT_POSTMORTEM_DTL = INSERT INTO HMRT_POSTMORTEM_DTL(HMRNUM_POSTMORTEM_ID, HMRDT_START_DATETIME, HMRDT_END_DATETIME, HMRSTR_OPINION, \
												HMRSTR_REMARKS, HMRNUM_CONDUCT_BY, HMRSTR_COMPLEXION, HMRSTR_HAIRCOLOR_LENGTH, HMRSTR_EYE_COLOR, HMRNUM_LENGTH, \
												HMRNUM_WEIGHT, GNUM_SEAT_ID, GDT_ENTRY_DATE, HMRSTR_CLOTHES_DETAIL, HMRNUM_BODY_LOOKS, GNUM_ISVALID, HRGNUM_SRNO, \
												GNUM_HOSPITAL_CODE,HMRSTR_PUPIL_RIGHT, HMRSTR_PUPIL_LEFT, HMRSTR_CORNEA_RIGHT, HMRSTR_CORNEA_LEFT, HMRSTR_CYNOSIS, \
												HMRSTR_LIVIDITY, HMRSTR_RIGOR_MORTIS, HMRSTR_ORIFICES, HMRSTR_MOUTH_ODOUR, HMRNUM_IS_DECOMPOSITION, \
												HGNUM_DEATH_MANNER_CODE, HMRDT_INJURY_DATETIME, HRGNUM_INJURY_NATURE_CODE, HRGNUM_INJURY_TYPE_CODE, \
												HMRSTR_INJURY_REMARKS, HMRNUM_WEAPON_USED, HMRSTR_WEAPON_REMARKS, HMRNUM_INJURY_PHOTO, HMRSTR_CLINICAL_DAIGNOSIS, \
												HMRNUM_INCISION_TYPE_CODE, HMRDT_DEATH_DATETIME, GNUM_VERIFY_BY, GDT_VERIFY_DATE) \
												VALUES(?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'),TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,?,?,?,?,?,?,?,?, SYSDATE,?,?,?, \
												(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_POSTMORTEM_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ?),?,?,?,?,?,?,?,?,?,?,?,?, \
												TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,?,?,?,?,?,?,?,TO_DATE(?,'dd-Mon-yyyy HH24:MI'),?,SYSDATE)


UPDATE_ISVALID_STATUS.HMRT_POSTMORTEM_DTL = UPDATE HMRT_POSTMORTEM_DTL SET GNUM_ISVALID = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_HOSPITAL_CODE = ? AND HRGNUM_SRNO= ?


UPDATE_OPINION.HMRT_POSTMORTEM_OPINION_DTL = UPDATE HMRT_POSTMORTEM_OPINION_DTL SET HMRSTR_OPINION = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND HMRNUM_OPINION_CODE = ? AND GNUM_ISVALID = ?


GET_PRESERVED_ITEM_DETAIL.HMRT_POSTMORTEM_ITEM_DTL = SELECT A.HMRNUM_ITEM_CODE AS itemCode,(SELECT B.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST B WHERE B.HMRNUM_ITEM_CODE=A.HMRNUM_ITEM_CODE AND B.GNUM_ISVALID = A.GNUM_ISVALID ) AS itemName, \
														A.HMRNUM_PRESERVATIVE_ID AS preservativeId, (SELECT C.HMRSTR_PRESERVATIVE_NAME FROM HMRT_PRESERVATIVE_MST C WHERE C.HMRNUM_PRESERVATIVE_ID=A.HMRNUM_PRESERVATIVE_ID AND C.GNUM_ISVALID = A.GNUM_ISVALID  ) AS preservativeName, \
														A.HMRNUM_IS_PRESERVED AS isPreserved,DECODE(A.HMRNUM_IS_PRESERVED,0,'No',1,'Yes') AS isPreservedLabel, A.HMRSTR_REMARKS AS remarks \
														FROM HMRT_POSTMORTEM_ITEM_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? ORDER BY itemName

SELECT_DECEASED_POLICE_DETAIL_WAVEOFF.HMRT_POLICE_VERIFICATION_DTL = SELECT HRGSTR_MLC_NO as patMlcNo, HRGSTR_CASE_NO as caseNo, HRGSTR_POLICE_STATION as policeStation, HRGSTR_DD_NO as docketNo, \
															HRGSTR_IO_NAME as officerIncharge, HRGSTR_IO_DESIG as ioDesignation, HRGSTR_IO_BADGENO as ioBatchNo, \
															HRGSTR_CONSTABLE_NAME as dutyOffName , HRGSTR_CONSTABLE_DESIG as dutyOffDesignation, HRGSTR_CONSTABLE_BADGENO as dutyOffBatchNo, \
															HRGSTR_CASE_REMARKS as caseRemarks, TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24:MI') as deathDate, \
															TO_CHAR(HMRDT_INCIDENCE_DATETIME,'dd-Mon-yyyy HH24:MI') as incidenceDate, HMRSTR_DEATH_PLACE as deathPlace \
															FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? AND HMRNUM_ENTRY_MODE IN (?,?) \
															AND HRGNUM_POLICE_SRNO=(SELECT MAX(HRGNUM_POLICE_SRNO) FROM HMRT_POLICE_VERIFICATION_DTL WHERE HMRNUM_DECEASED_NO = ? \
															AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?)
							 										
INSERT.HMRT_POSTMORTEM_WAVEOFF_DTL=		INSERT INTO HMRT_POSTMORTEM_WAVEOFF_DTL(HMRNUM_POSTMORTEM_ID, HMRNUM_DECEASED_NO, HMRDT_REQ_DATETIME, HMRSTR_WAVEOFF_BY, HMRNUM_WAVEOFF_MODE, HMRSTR_DEPARTMENT_INFO, HMRSTR_WAVEOFF_REASON, HMRSTR_LETTER_NO, HRGSTR_IO_NAME, HRGSTR_IO_DESIG, HRGSTR_IO_BADGENO, HRGSTR_CONSTABLE_NAME, GNUM_SEAT_ID, GDT_ENTRY_DATE, HMRSTR_APPROVED_BY, HRGSTR_CONSTABLE_DESIG, HRGSTR_CONSTABLE_BADGENO, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE) \
	   								    VALUES(?,?,sysdate,?,?,?,?,?,?,?,?,?,?,sysdate,?,?,?,?,(select nvl(Max(HRGNUM_SRNO),0)+1 from HMRT_POSTMORTEM_WAVEOFF_DTL where HMRNUM_DECEASED_NO = ? and GNUM_HOSPITAL_CODE=?),?)
	   								    
UPDATE_POSTMORTEM_STATUS.HMRT_POSTMORTEM_REQ_DTL=		UPDATE HMRT_POSTMORTEM_REQ_DTL SET HMRNUM_POSTMORTEM_STATUS=?,GDT_LSTMOD_DATE = SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND HRGNUM_SRNO = (SELECT MAX(HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL WHERE HMRNUM_POSTMORTEM_ID=? AND GNUM_HOSPITAL_CODE=?) AND GNUM_HOSPITAL_CODE=?

UPDATE_POSTMORTEM_REQ.HMRT_DECEASED_DTL=   UPDATE HMRT_DECEASED_DTL SET HMRNUM_POSTMORTEM_REQ=? WHERE HMRNUM_DECEASED_NO=? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?


INSERT.HMRT_EXTLAB_INVREQ_DTL = INSERT INTO HMRT_EXTLAB_INVREQ_DTL (HMRNUM_REQ_ID, HMRNUM_EXT_LABTEST_ID, HMRSTR_REMARKS, HMRSTR_RESULT, \
									GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_SRNO, GNUM_HOSPITAL_CODE) VALUES(?,?,?,?,?,SYSDATE,?, \
									(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_EXTLAB_INVREQ_DTL WHERE HMRNUM_REQ_ID = ?),?) 


INSERT.HMRT_EXTLAB_REQ_DTL = INSERT INTO HMRT_EXTLAB_REQ_DTL (HMRNUM_POSTMORTEM_ID, HMRNUM_REQ_ID, HMRSTR_RESULT, HMRNUM_STATUS, HMRNUM_EXT_LAB_ID, \
								HRGSTR_POLICE_STATION, GNUM_SEAT_ID, HRGSTR_CONSTABLE_NAME, GDT_ENTRY_DATE, HRGSTR_CONSTABLE_DESIG, GNUM_ISVALID, \
								HRGSTR_CONSTABLE_BADGENO, HRGNUM_SRNO, GNUM_HOSPITAL_CODE)VALUES(?,?,?,?,?,?,?,?,SYSDATE,?,?,?, \
								(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_EXTLAB_REQ_DTL WHERE HMRNUM_REQ_ID = ?),?)


INSERT.HMRT_EXTREQ_SAMPLE_DTL = INSERT INTO HMRT_EXTREQ_SAMPLE_DTL (HMRNUM_REQ_ID, HMRNUM_ITEM_CODE, HMRNUM_STATUS, GNUM_SEAT_ID, GDT_ENTRY_DATE, \
									GNUM_ISVALID, HMSRSTR_RECEIVE_REMARKS, HRGNUM_SRNO, GNUM_HOSPITAL_CODE)VALUES(?,?,?,?,SYSDATE,?,?, \
									(SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_EXTREQ_SAMPLE_DTL WHERE HMRNUM_REQ_ID = ?),?)


UPDATE_ITEM_STATUS.HMRT_POSTMORTEM_ITEM_DTL = UPDATE HMRT_POSTMORTEM_ITEM_DTL SET HMRNUM_STATUS = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND HMRNUM_ITEM_CODE = ? AND GNUM_HOSPITAL_CODE = ?


GET_PRESERVED_ITEM_IN_MORTUARY_DETAIL.HMRT_POSTMORTEM_ITEM_DTL = SELECT A.HMRNUM_ITEM_CODE AS itemCode,(SELECT B.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST B WHERE B.HMRNUM_ITEM_CODE=A.HMRNUM_ITEM_CODE AND B.GNUM_ISVALID = A.GNUM_ISVALID ) AS itemName, \
																	A.HMRNUM_PRESERVATIVE_ID AS preservativeId, (SELECT C.HMRSTR_PRESERVATIVE_NAME FROM HMRT_PRESERVATIVE_MST C WHERE C.HMRNUM_PRESERVATIVE_ID=A.HMRNUM_PRESERVATIVE_ID AND C.GNUM_ISVALID = A.GNUM_ISVALID  ) AS preservativeName, \
																	A.HMRNUM_IS_PRESERVED AS isPreserved,DECODE(A.HMRNUM_IS_PRESERVED,0,'No',1,'Yes') AS isPreservedLabel, A.HMRSTR_REMARKS AS remarks \
																	FROM HMRT_POSTMORTEM_ITEM_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? AND HMRNUM_STATUS = ? ORDER BY itemName


GET_MAX_SR_NO.HMRT_EXTLAB_REQ_DTL = SELECT NVL(MAX(HRGNUM_SRNO),0)+1 FROM HMRT_EXTLAB_REQ_DTL WHERE HMRNUM_POSTMORTEM_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


GET_SAMPLE_REQUESTED_DETAIL.HMRT_EXTLAB_REQ_DTL = SELECT A.HMRNUM_REQ_ID AS requestId,  TO_CHAR(A.GDT_ENTRY_DATE,'dd-Mon-yyyy HH24:MI') AS requestDate, A.HMRNUM_EXT_LAB_ID AS extLabId, \
													(SELECT B.HMRSTR_EXT_LAB_NAME FROM HMRT_EXT_LAB_MST B WHERE B.HMRNUM_EXT_LAB_ID=A.HMRNUM_EXT_LAB_ID \
													AND B.GNUM_ISVALID=A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE=A.GNUM_HOSPITAL_CODE )AS extLabName \
													FROM HMRT_EXTLAB_REQ_DTL A WHERE A.HMRNUM_POSTMORTEM_ID = ?  AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? AND HMRNUM_STATUS = ?


GET_REQUESTED_SAMPLE_DETAIL_BY_REQUESTID.HMRT_EXTREQ_SAMPLE_DTL = SELECT a.HMRNUM_ITEM_CODE AS itemCode,(SELECT b.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST b WHERE b.HMRNUM_ITEM_CODE=a.HMRNUM_ITEM_CODE \
																	AND  b.GNUM_ISVALID=a.GNUM_ISVALID) AS itemName FROM HMRT_EXTREQ_SAMPLE_DTL a \
																	WHERE a.HMRNUM_REQ_ID = ? AND a.HMRNUM_STATUS = ? AND a.GNUM_ISVALID = ? AND a.GNUM_HOSPITAL_CODE = ? ORDER BY itemName


GET_REQUESTED_INV_DETAIL_BY_REQUESTID.HMRT_EXTLAB_INVREQ_DTL = SELECT A.HMRNUM_EXT_LABTEST_ID AS labTestId, A.HMRSTR_REMARKS AS labTestRemrks,A.HMRSTR_RESULT AS labTestResult, \
																(SELECT B.HMRSTR_EXT_LABTEST_NAME FROM HMRT_EXT_LABTEST_MST B WHERE B.HMRNUM_EXT_LABTEST_ID=A.HMRNUM_EXT_LABTEST_ID \
																AND B.GNUM_HOSPITAL_CODE=A.GNUM_HOSPITAL_CODE AND B.GNUM_ISVALID=A.GNUM_ISVALID) AS labTestName \
																FROM HMRT_EXTLAB_INVREQ_DTL A WHERE A.HMRNUM_REQ_ID = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? ORDER BY labTestName													
																

UPDATE_RESULT.HMRT_EXTLAB_INVREQ_DTL = UPDATE HMRT_EXTLAB_INVREQ_DTL SET HMRSTR_RESULT = ? WHERE HMRNUM_REQ_ID = ? AND HMRNUM_EXT_LABTEST_ID = ? \
										AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?

UPDATE_FINAL_RESULT.HMRT_EXTLAB_REQ_DTL = UPDATE HMRT_EXTLAB_REQ_DTL SET HMRSTR_RESULT = ?,GNUM_RECEIVED_SEATID = ?, GDT_RECEIVED_DATE = SYSDATE, \
											HMRNUM_STATUS = ? WHERE HMRNUM_REQ_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_RECEIVED_REMARKS.HMRT_EXTREQ_SAMPLE_DTL = UPDATE HMRT_EXTREQ_SAMPLE_DTL SET HMRNUM_STATUS = ?, HMSRSTR_RECEIVE_REMARKS = ? WHERE HMRNUM_REQ_ID = ? \
													AND HMRNUM_ITEM_CODE = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


GET_POSTMORTEM_STATUS_FOR_HANDOVER.HMRT_POSTMORTEM_REQ_DTL = SELECT  DECODE(A.HMRNUM_POSTMORTEM_STATUS,1,'Request Raised',2,'Request Approved',3,'Cancelled',4,'Wave Off',5,'Postmortm Entry',6,'Postmortem Done')||'@'|| \
																A.HMRNUM_POSTMORTEM_STATUS FROM HMRT_POSTMORTEM_REQ_DTL A WHERE A.HMRNUM_DECEASED_NO =  ? \
																AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? \
																AND A.HMRNUM_POSTMORTEM_ID = (SELECT MAX(B.HMRNUM_POSTMORTEM_ID) FROM HMRT_POSTMORTEM_REQ_DTL B \
																WHERE B.HMRNUM_DECEASED_NO=A.HMRNUM_DECEASED_NO AND B.GNUM_ISVALID = A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE = A.GNUM_HOSPITAL_CODE) \
																AND A.HRGNUM_SRNO = (SELECT MAX(B.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL B \
																WHERE B.HMRNUM_DECEASED_NO=A.HMRNUM_DECEASED_NO AND A.HMRNUM_POSTMORTEM_ID=B.HMRNUM_POSTMORTEM_ID \
																AND B.GNUM_ISVALID = A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE = A.GNUM_HOSPITAL_CODE)


SELECT_DECEASED_DETAIL_BY_DECEASED_NO.HMRT_DECEASED_DTL = SELECT A.HMRNUM_DECEASED_NO AS deceasedNo, A.HRGNUM_PUK AS patCrNo, A.HMRNUM_ENTRY_MODE AS entryMode, A.HMRSTR_FNAME AS patFirstName, \
															A.HMRDT_RECEIVED_DATETIME AS receivedDateTime, A.HMRSTR_MNAME AS patMiddleName, A.HMRSTR_LNAME AS patLastName, A.HMRSTR_RECEIVED_BY AS receivedBy, \
															A.GNUM_GENDER_CODE AS patGenderCode, A.HMRDT_DEATH_DATETIME AS deathDate, A.HMRNUM_BODY_STATUS AS bodyStatus, TO_CHAR(A.HMRDT_DOB,'dd-Mon-yyyy') AS patDOB, \
															A.HMRNUM_ISACTUAL_DOB AS isActualDob, A.HMRDT_STORAGE_UPTO AS storageUpto, A.HMRDT_ISSUE_DATETIME AS issueDateTime, \
															A.GNUM_MARITAL_STATUS_CODE AS patMaritalStatusCode, A.HMRNUM_UNIDENTIFIED_BODY AS unidentifiedBody, A.HMRSTR_FATHER_NAME AS patGuardianName, \
															A.HMRNUM_ISBROUGHT_DEAD AS isBroughtDead, A.HMRSTR_SPOUSE_NAME AS patHusbandName, A.HMRSTR_ADD1 AS add1, A.HMRNUM_ISMLC_CASE AS isMlcCase, \
															A.HMRSTR_ADD2 AS add2, A.HMRSTR_CONTACT_NO AS contactNo, A.HMRSTR_DAIGNOSIS AS diagnosis, A.HMRSTR_DEATH_HISTORY AS deathHistory, \
															A.HMRNUM_ISPREGNANT AS isPregnant, A.HMRSTR_OBSTETRIC_HISTORY AS obstetricHistory, A.HMRSTR_MOTHER_NAME AS patMotherName, \
															A.HMRSTR_IDMARK1 AS patIdMark1, A.HMRSTR_IDMARK2 AS patIdMark2, A.HRGNUM_EPISODE_CODE AS episodeCode, \
															A.HRGNUM_VISIT_NO AS episodeVisitNo, A.HMRNUM_ISCLAIMED AS isClaimed, A.HMRNUM_POSTMORTEM_REQ AS postmortemReq, AHIS_UTIL.DOB_AGE_ON(A.HMRDT_DOB,SYSDATE) as patAge \
															FROM HMRT_DECEASED_DTL A WHERE A.HMRNUM_DECEASED_NO = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ?
				

UPDATE_UNKNOWN_TO_KNOWN_DETAIL.HMRT_DECEASED_DTL = UPDATE HMRT_DECEASED_DTL SET HMRSTR_FNAME = ? , HMRSTR_MNAME = ? , HMRSTR_LNAME = ? , GNUM_GENDER_CODE = ? , \
													HMRDT_DOB = TO_DATE(?,'dd-Mon-yyyy'), HMRNUM_ISACTUAL_DOB = ?, GNUM_MARITAL_STATUS_CODE = ?, HMRNUM_UNIDENTIFIED_BODY = ?, \
													HMRSTR_FATHER_NAME = ?, HMRSTR_SPOUSE_NAME = ? , HMRSTR_ADD1 = ? , HMRSTR_ADD2 = ? , HMRSTR_CONTACT_NO = ?, \
													HMRSTR_MOTHER_NAME = ?, HMRNUM_ISCLAIMED = ? \
													WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_IS_CLAIMED_FLAG.HMRT_DECEASED_DTL = UPDATE HMRT_DECEASED_DTL SET HMRNUM_ISCLAIMED = ? WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


INSERT.HMRT_POSTMORTEM_HANDOVER_DTL = INSERT INTO HMRT_POSTMORTEM_HANDOVER_DTL (HMRNUM_POSTMORTEM_ID, HRGNUM_SLNO, HMRNUM_ISHANDOVER_TO, HPMRSTR_EMP_ID, \
										HMRSTR_HANDOVER_TO_NAME, HMRSTR_HANDOVER_TO_ADDRESS, HRGSTR_HANDOVER_TO_PHONE, HRGSTR_CONSTABLE_DESIG, \
										GNUM_RELATION_CODE, HRGSTR_IP_ADD, HRGSTR_CONSTABLE_BADGENO, HMRSTR_HANDOVER_BY, GNUM_SEAT_ID, GDT_ENTRY_DATE, \
										GNUM_ISVALID, GNUM_HOSPITAL_CODE)VALUES(?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HMRT_POSTMORTEM_HANDOVER_DTL \
										WHERE HMRNUM_POSTMORTEM_ID = ?),?,?,?,?,?,?,?,?,?,?,?,SYSDATE,?,?)


UDDATE.HMRT_POSTMORTEM_TEAM_DTL = UPDATE HMRT_POSTMORTEM_TEAM_DTL SET HMRSTR_REASON = ? , HMRNUM_IS_PERFORMED = ? \
									WHERE HMRNUM_POSTMORTEM_ID = ? AND HMRSTR_EMP_ID = ? AND GNUM_ISVALID = ? AND HRGNUM_SRNO = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_POSTMORTEM_STATUS_COMPLETED.HMRT_POSTMORTEM_REQ_DTL = UPDATE HMRT_POSTMORTEM_REQ_DTL SET HMRNUM_POSTMORTEM_STATUS=?,GDT_LSTMOD_DATE = SYSDATE, GNUM_LSTMOD_SEATID = ? \
																WHERE HMRNUM_POSTMORTEM_ID = ? AND HRGNUM_SRNO = (SELECT MAX(HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL \
																WHERE HMRNUM_POSTMORTEM_ID=? AND GNUM_HOSPITAL_CODE=?) AND GNUM_HOSPITAL_CODE=?


UPDATE_GENERAL_APPEARANCE.HMRT_DECEASED_DTL = UPDATE HMRT_DECEASED_DTL SET HMRSTR_COMPLEXION = ?, HMRSTR_HAIRCOLOR_LENGTH = ? , HMRSTR_EYE_COLOR = ? , HMRNUM_LENGTH = ?, \
												HMRNUM_WEIGHT = ?, HMRSTR_CLOTHES_DETAIL = ?, HMRNUM_BODY_LOOKS =?, HMRNUM_IS_DECOMPOSITION =? \
												WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


SELECT_DECEASED_GENERL_APPEARANCE_BY_DECEASED_NO.HMRT_DECEASED_DTL = SELECT HMRSTR_COMPLEXION AS complexion, HMRSTR_HAIRCOLOR_LENGTH AS hairColorLength, HMRSTR_EYE_COLOR AS eyeColor, \
																		HMRNUM_LENGTH AS LENGTH,HMRNUM_WEIGHT AS weight, HMRSTR_CLOTHES_DETAIL AS clothDetails, HMRNUM_BODY_LOOKS AS bodyLooks, \
																		HMRNUM_IS_DECOMPOSITION AS isDecomposition \
																		FROM HMRT_DECEASED_DTL WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


SELECT_DECEASED_DEFAULT_IMAGE.HMRT_DECEASED_IMAGE_DTL = SELECT HRGSTR_FILENO AS fileNo, HRGSTR_PATH AS filePath FROM HMRT_DECEASED_IMAGE_DTL WHERE HMRNUM_DECEASED_NO = ? \
															AND  HRGNUM_IS_DEFAULT = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


GET_RECEIVED_REPORT_DETAIL.HMRT_EXTLAB_REQ_DTL = SELECT b.HMRNUM_REQ_ID AS requestId,b.HMRNUM_EXT_LAB_ID AS extLabId, TO_CHAR(B.GDT_ENTRY_DATE,'dd-Mon-yyyy') AS requestDate, \
													B.HMRSTR_RESULT AS result, DECODE(B.HMRNUM_STATUS,2,'Sample Send',3,'Report Received') AS status, A.HMRSTR_RESULT AS extLabTestResult, \
													(SELECT d.HMRSTR_EXT_LAB_NAME FROM HMRT_EXT_LAB_MST d WHERE d.HMRNUM_EXT_LAB_ID=b.HMRNUM_EXT_LAB_ID \
													AND D.GNUM_ISVALID=B.GNUM_ISVALID AND D.GNUM_HOSPITAL_CODE=B.GNUM_HOSPITAL_CODE) AS extLabName,b.HMRNUM_STATUS AS statusCode, \
													(SELECT c.HMRSTR_EXT_LABTEST_NAME FROM HMRT_EXT_LABTEST_MST c WHERE c.HMRNUM_EXT_LABTEST_ID=a.HMRNUM_EXT_LABTEST_ID \
													AND A.GNUM_ISVALID=C.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE=C.GNUM_HOSPITAL_CODE) AS extLabTest, \
													(SELECT COUNT(x.HMRNUM_REQ_ID) FROM HMRT_EXTLAB_REQ_DTL x WHERE x.HMRNUM_POSTMORTEM_ID=B.HMRNUM_POSTMORTEM_ID AND b.HMRNUM_STATUS=x.HMRNUM_STATUS) AS countRequestId, \
 													(SELECT COUNT(y.HMRNUM_EXT_LABTEST_ID) FROM HMRT_EXTLAB_INVREQ_DTL y WHERE y.HMRNUM_REQ_ID=a.HMRNUM_REQ_ID) AS countLabTestId \
													FROM HMRT_EXTLAB_INVREQ_DTL A , HMRT_EXTLAB_REQ_DTL B \
													WHERE B.HMRNUM_POSTMORTEM_ID=? AND A.HMRNUM_REQ_ID=B.HMRNUM_REQ_ID AND A.GNUM_ISVALID=B.GNUM_ISVALID \
													AND A.GNUM_HOSPITAL_CODE=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID=? AND A.GNUM_HOSPITAL_CODE=? 


SELECT_PM_REQUEST_RELATIVE.HMRT_DECEASED_RELATIVE_DTL = SELECT A.HMRSTR_RELATIVE_NAME AS relativeName, A.HMRSTR_RELATIVE_ADDRESS AS relativeAddress, A.HMRSTR_RELATIVE_CONTACTNO AS relativeContactNo, A.GNUM_RELATION_CODE AS relativeCode \
															FROM HMRT_DECEASED_RELATIVE_DTL A WHERE A.HMRNUM_DECEASED_NO = ? AND A.GNUM_ISVALID = ? AND A.GNUM_HOSPITAL_CODE = ? AND A.HMRNUM_RELATIVE_FLAG = ? \
															AND A.GDT_ENTRY_DATE=(SELECT MAX(B.GDT_ENTRY_DATE) FROM HMRT_DECEASED_RELATIVE_DTL B WHERE B.HMRNUM_DECEASED_NO=A.HMRNUM_DECEASED_NO AND B.HMRNUM_RELATIVE_FLAG = A.HMRNUM_RELATIVE_FLAG)


CHECK_EXISTING_RECORD.HMRT_POSTMORTEM_HANDOVER_DTL = SELECT * FROM HMRT_POSTMORTEM_HANDOVER_DTL a  WHERE a.GNUM_ISVALID = ? AND a.GNUM_HOSPITAL_CODE = ? \
														AND a.HMRNUM_POSTMORTEM_ID = (SELECT MAX(B.HMRNUM_POSTMORTEM_ID) FROM HMRT_POSTMORTEM_REQ_DTL B \
														WHERE B.HMRNUM_DECEASED_NO=? AND B.GNUM_ISVALID = A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE = A.GNUM_HOSPITAL_CODE)


SELECT_BODY_HANDOVER_DTL.HMRT_DECEASED_HANDOVER_DTL = SELECT HMRNUM_DECEASED_NO AS DECEASEDNO,HMRNUM_ISHANDOVER_TO AS ISHANDOVERTO,HMRSTR_HANDOVER_TO_NAME AS HANDOVERTONAME,HMRSTR_HANDOVER_TO_ADDRESS AS HANDOVERTOADDRESS,HRGSTR_HANDOVER_TO_PHONE AS HANDOVERTOPHONE \
														,HRGSTR_CONSTABLE_DESIG AS OFFICERDESIGNATION,HRGSTR_CONSTABLE_BADGENO AS OFFICERBADGENO, \
														(SELECT GSTR_RELATION_NAME FROM GBLT_RELATION_MST A WHERE A.GNUM_RELATION_CODE=B.GNUM_RELATION_CODE AND A.GNUM_ISVALID=1) AS RELATIONNAME, \
														TO_CHAR(GDT_ENTRY_DATE,'DD-MON-YYYY') AS HANDOVERDATE, \
														HRGSTR_POLICE_STATION AS POLICESTNHANDOVER,HRGSTR_POLICE_CONTACT AS POLICECONTACTNO \
														,(SELECT HMRSTR_BELONGING_DETAIL FROM HMRT_DECEASED_DTL a WHERE A.HMRNUM_DECEASED_NO=B.HMRNUM_DECEASED_NO AND A.gnum_isvalid=1) AS BELONGINGDETAIL \
														FROM HMRT_DECEASED_HANDOVER_DTL B WHERE GNUM_ISVALID = ? \
														AND GNUM_HOSPITAL_CODE = ? AND HMRNUM_DECEASED_NO = ?

#added by Shruti Shail on 11-May-2017
CHK_DUPLICATE_MLC.HMRT_DECEASED_DTL = SELECT COUNT(HMRNUM_DECEASED_NO) FROM HMRT_POLICE_VERIFICATION_DTL \
										WHERE HRGSTR_MLC_NO = ? AND GNUM_ISVALID = 1 AND GNUM_HOSPITAL_CODE = ?																																			 																