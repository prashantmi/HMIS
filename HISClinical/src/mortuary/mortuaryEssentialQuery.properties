GET_ALL_DEPT.GBLT_DEPARTMENT_MST =  SELECT GNUM_DEPT_CODE, GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE = ? AND GNUM_DEPT_TYPE=? ORDER BY GSTR_DEPT_NAME


GET_ALL_BUILDING.EST_BUILDING_MST =  SELECT NUM_BUILDING_CODE,STR_BUILDING_NAME FROM EST_BUILDING_MST WHERE GNUM_ISVALID=?  ORDER BY STR_BUILDING_NAME


GET_ALL_BLOCK_BASED_ON_BUILDING.EST_BLOCK_MST = SELECT distinct NUM_BLOCK_ID,STR_BLOCK_NAME FROM est_block_mst WHERE num_hospital_code=? AND GNUM_ISVALID=? AND NUM_BUILDING_CODE=? order by  STR_BLOCK_NAME



GET_ALL_FLOOR_BASED_ON_BLOCK.EST_FLOOR_MST = select NUM_FLOOR_ID, STR_FLOOR_NAME from EST_FLOOR_MST where NUM_BLOCK_ID=? and  GNUM_ISVALID=? order by  NUM_FLOOR_NUMBER


GET_ALL_ROOM_BASED_ON_FLOOR.EST_ROOM_MST = select NUM_ROOM_ID, NUM_ROOM_NUMBER from EST_ROOM_MST where NUM_FLOOR_ID=?  AND GNUM_ISVALID=?  order by  NUM_ROOM_NUMBER



GET_ALL_EMPLOYEE_BASED_ON_DEPT.HGBT_UNIT_CONSULTANT_MST = SELECT DISTINCT STR_EMP_NO||'@'||(SELECT GSTR_HOD_CODE FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE ), A.STR_EMP_FULL_NAME FROM PIST_EMP_REGISTRATION_DTL A , HGBT_UNIT_CONSULTANT_MST B WHERE  SUBSTR(HGNUM_DEPTUNITCODE,0,3) \=? AND B.GNUM_HOSPITAL_CODE \= ? AND B.GNUM_ISVALID \= ? and A.STR_EMP_NO=B.HGSTR_EMP_CODE ORDER BY STR_EMP_FULL_NAME
												

SELECT_ALL_DEAD_PATIENT_SEND_TO_MORTUARY.HPMRT_PAT_DEATH_DTL = SELECT A.HRGNUM_PUK as patCrNo, A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo, A.HRGNUM_ADMISSION_NO as patAdmNo, A.GNUM_DEPT_CODE as departmentCode, A.HGNUM_DEPTUNITCODE as departmentUnitCode, A.HIPNUM_WARD_CODE as wardCode, TO_CHAR(A.HPMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') as deathDate, A.HIPNUM_ROOM_NO as roomCode, A.HGNUM_BED_CODE as bedCode, A.HRGSTR_MLC_NO as patMlcNo, A.HRGNUM_IS_BROUGHTDEAD as isBroughtDead, A.HPMRNUM_ISPREGNANT as isPregnant, (SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE\= A.GNUM_DEPT_CODE AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= ?) AS departmentName, (SELECT HGSTR_UNITNAME FROM HGBT_UNIT_MST WHERE HGNUM_DEPTUNITCODE\=A.HGNUM_DEPTUNITCODE AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= ?) AS departmentUnitName, (SELECT HIPSTR_WARD_NAME FROM HIPT_WARD_MST WHERE HIPNUM_WARD_CODE\=A.HIPNUM_WARD_CODE AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= ?) AS wardName, (SELECT InitCap(HRGSTR_FNAME)||' '||InitCap(HRGSTR_MNAME)||' '||InitCap(HRGSTR_LNAME) FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK\=A.HRGNUM_PUK) AS patName , (SELECT HRGNUM_ISUNKNOWN FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK\=A.HRGNUM_PUK) AS isUnknown, HPMRSTR_IMMEDIATE_CAUSE1 as immediateCause1, DATE_PART('DAY',SYSDATE-A.HPMRDT_DEATH_DATETIME)|| ' Days ' || DATE_PART('HOUR',SYSDATE-A.HPMRDT_DEATH_DATETIME) || ' Hrs ' || DATE_PART('MINUTE',SYSDATE-A.HPMRDT_DEATH_DATETIME) || ' Minutes ' AS deathDuration, (SELECT U.HRGNUM_PUK FROM HRGT_UNKNOWN_CHANGE_DTL U WHERE U.HRGNUM_PUK\=A.HRGNUM_PUK AND A.GNUM_ISVALID \=U.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=U.GNUM_HOSPITAL_CODE ) as unknownCrNo ,(SELECT GSTR_USR_NAME FROM GBLT_USER_MST WHERE GNUM_ISVALID\=1 AND GNUM_USERID\=A.GNUM_SEAT_ID) as deathEnteredBy FROM HPMRT_PAT_DEATH_DTL A WHERE  HPMRNUM_BODY_HANDOVER_TO \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND A.HRGNUM_PUK NOT IN (SELECT HRGNUM_PUK FROM HMRT_DECEASED_DTL WHERE HRGNUM_PUK IS NOT NULL) ORDER BY patName



GET_ALL_RELATION.GBLT_RELATION_MST = SELECT   GNUM_RELATION_CODE, NVL(GSTR_RELATION_NAME,'Not Available') FROM GBLT_RELATION_MST WHERE GNUM_ISVALID = ? AND GNUM_RELATION_CODE != ? ORDER BY GSTR_RELATION_NAME


GET_ALL_CHAMBER.HMRT_CHAMBER_MST = SELECT HMRNUM_CHAMBER_ID, HMRSTR_CHAMBER_NAME FROM HMRT_CHAMBER_MST WHERE HMRNUM_CHAMBER_STATUS \= ? AND HMRNUM_CHAMBER_TYPE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?
									


GET_ALL_CHAMBER_RACK.HMRT_CHAMBER_RACK_MST = SELECT HMRNUM_CHAMBERRACK_ID AS chamberRackId, HMRSTR_RACK_NAME AS rackName, HMRNUM_CHAMBER_ID AS chamberId FROM HMRT_CHAMBER_RACK_MST WHERE HMRNUM_RACK_STATUS \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?\t\t\t\t\t\t\t\t\t


SELECT.PATIENT.HRGT_PATIENT_ADD_DTL = select  b.hrgstr_city AS pataddcity,  INITCAP (b.hrgstr_district) AS patadddistrict, b.gnum_state_code AS pataddstatecode, b.hrgnum_pincode AS pataddpin, b.gstr_country_code AS pataddcountrycode, b.hrgstr_address_line1 AS pataddhno, b.hrgstr_sub_locality1 AS pataddstreet, b.hrgstr_mobile_no AS pataddcontactno,  (SELECT INITCAP (c.gstr_state_name) FROM gblt_state_mst c WHERE c.gnum_state_code \= b.gnum_state_code ) pataddstate, (SELECT INITCAP (d.gstr_country_name) FROM gblt_country_mst d WHERE d.gstr_country_code \= b.gstr_country_code ) pataddcountry FROM HRGT_PATIENT_ADD_DTL B WHERE B.HRGNUM_PUK \= ? AND B.GNUM_ISVALID \= ? AND b.GNUM_HOSPITAL_CODE \= ?\t\t
											

GET_POLICE_VERIFICATION_BY_MLCNO.HRGT_POLICE_VERIFICATION_DTL = SELECT A.HRGSTR_CASE_NO as caseNo, A.HRGSTR_POLICE_STATION as policeStation, A.HRGSTR_DD_NO as docketNo, A.HRGSTR_IO_NAME as officerIncharge, A.HRGSTR_IO_DESIG as ioDesignation, A.HRGSTR_CASE_REMARKS as caseRemarks, A.HRGSTR_IO_BADGENO as ioBatchNo, A.HRGSTR_CONSTABLE_NAME as dutyOffName, A.HRGSTR_CONSTABLE_DESIG as dutyOffDesignation, A.HRGSTR_CONSTABLE_BADGENO as dutyOffBatchNo, A.HRGSTR_MLC_NO as patMlcNo FROM HRGT_POLICE_VERIFICATION_DTL A WHERE A.HRGSTR_MLC_NO \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND  A.HRGNUM_S_NO \=(SELECT MAX(HRGNUM_S_NO) FROM HRGT_POLICE_VERIFICATION_DTL WHERE HRGSTR_MLC_NO\=A.HRGSTR_MLC_NO )


COUNT_DEAD_BODY_IN_RACK.HMRT_CHAMBER_RACK_MST = SELECT HMRNUM_MAX_CAPACITY FROM HMRT_CHAMBER_RACK_MST WHERE HMRNUM_CHAMBERRACK_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_RACK_STATUS.HMRT_CHAMBER_RACK_MST = UPDATE HMRT_CHAMBER_RACK_MST SET HMRNUM_RACK_STATUS = ? WHERE HMRNUM_CHAMBERRACK_ID = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?



SELECT_ALL_DECEASED_IMAGE.HRGT_PATIENT_IMAGE_DTL = SELECT HRGNUM_EPISODE_CODE AS episodeCode, TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') as entryDate, HRGNUM_IS_DEFAULT AS isImageDefault FROM HRGT_PATIENT_IMAGE_DTL WHERE HRGNUM_PUK \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?


SELECT_ALL_DECEASED_IN_STREACHER.HMRT_DECEASED_DTL = SELECT HMRNUM_DECEASED_NO as deceasedNo, INITCAP(HMRSTR_FNAME) as patFirstName, INITCAP(HMRSTR_MNAME) as patMiddleName, INITCAP(HMRSTR_LNAME) as patLastName , TO_CHAR(HMRDT_RECEIVED_DATETIME,'dd-Mon-yyyy HH24\:MI') as receivedDateTime, TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') as deathDate, HMRNUM_ISMLC_CASE as isMlcCase, HRGNUM_PUK as patCrNo, HMRNUM_UNIDENTIFIED_BODY as unidentifiedBody, HMRNUM_ISBROUGHT_DEAD as isBroughtDead FROM HMRT_DECEASED_DTL WHERE HMRNUM_BODY_STATUS \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY deceasedNo


UPDATE_DECEASED_BODY_STATUS.HMRT_DECEASED_DTL =UPDATE HMRT_DECEASED_DTL SET HMRNUM_BODY_STATUS = ? WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


SELECT_ALL_DECEASED_IN_STORAGE.HMRT_DECEASED_DTL = SELECT HMRNUM_DECEASED_NO as deceasedNo, HRGNUM_PUK as patCrNo, INITCAP(HMRSTR_FNAME) as patFirstName, INITCAP(HMRSTR_MNAME) as patMiddleName, TO_CHAR(HMRDT_RECEIVED_DATETIME,'dd-Mon-yyyy HH24\:MI') as receivedDateTime, INITCAP(HMRSTR_LNAME) as patLastName, TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') as deathDate, HMRNUM_BODY_STATUS as bodyStatus, HMRNUM_ISMLC_CASE as isMlcCase, HMRNUM_UNIDENTIFIED_BODY as unidentifiedBody, HMRNUM_ISBROUGHT_DEAD as isBroughtDead, HMRNUM_POSTMORTEM_REQ as postmortemReq FROM HMRT_DECEASED_DTL WHERE (HMRNUM_BODY_STATUS \= ? OR HMRNUM_BODY_STATUS \= ?) AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY deceasedNo


UPDATE_DECEASED_BODY_STATUS_N_ISSUETIME.HMRT_DECEASED_DTL = UPDATE HMRT_DECEASED_DTL SET HMRNUM_BODY_STATUS \= ?, HMRDT_ISSUE_DATETIME \= SYSDATE WHERE HMRNUM_DECEASED_NO \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?


GET_CHAMBER_N_RACK_NAME.HMRT_CHAMBER_RACK_MST = SELECT HMRSTR_CHAMBER_NAME||'@'||HMRSTR_RACK_NAME FROM HMRT_CHAMBER_MST A ,HMRT_CHAMBER_RACK_MST B,HMRT_DECEASED_STORAGE_DTL C WHERE C.HMRNUM_DECEASED_NO \= ? AND C.GNUM_ISVALID \= ? AND  C.HMRNUM_SLNO\=(SELECT MAX(B.HMRNUM_SLNO) FROM HMRT_DECEASED_STORAGE_DTL B WHERE C.HMRNUM_DECEASED_NO\=B.HMRNUM_DECEASED_NO) AND C.HMRNUM_CHAMBERRACK_ID\=B.HMRNUM_CHAMBERRACK_ID AND B.HMRNUM_CHAMBER_ID\=A.HMRNUM_CHAMBER_ID AND C.GNUM_ISVALID\=A.GNUM_ISVALID AND C.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE\=?


GET_PATIENT_HANDOVER_DETAIL.HPMRT_PAT_DEATH_DTL = SELECT  A.HRGNUM_PUK AS patcrno, A.HRGNUM_EPISODE_CODE AS episodecode, A.HRGNUM_VISIT_NO AS episodevisitno, A.HRGNUM_ADMISSION_NO AS patadmno, A.GNUM_DEPT_CODE AS departmentcode, A.HGNUM_DEPTUNITCODE AS departmentunitcode, A.HIPNUM_WARD_CODE AS wardcode, A.HIPNUM_ROOM_NO AS roomcode, A.HGNUM_BED_CODE AS bedcode, A.HRGSTR_MLC_NO AS patmlcno,A.HPMRNUM_ISPREGNANT AS ispregnant, TO_CHAR (A.HPMRDT_DEATH_DATETIME, 'dd-Mon-yyyy HH24\:MI') AS deathdate, A.HRGNUM_IS_BROUGHTDEAD AS isbroughtdead, A.HPMRNUM_BODY_HANDOVER_TO AS bodyhandoverto, TO_CHAR (A.HPMRDT_BODY_HANDOVER_DATETIME, 'dd-Mon-yyyy HH24\:MI') AS bodyhandoverdatetime, A.HPMRSTR_RELATIVE_NAME AS relativename, A.HPMRSTR_IMMEDIATE_CAUSE1 AS immediatecause1, A.HPMRSTR_RELATIVE_ADDRESS AS relativeaddress, A.GNUM_RELATIVECODE AS relativecode, A.HPMRSTR_OFFICER_NAME AS officername, A.HPMRSTR_OFFICER_DESIG AS officerdesignation, A.HPMRSTR_OFFICER_BADGENO AS officerbadgeno FROM HPMRT_PAT_DEATH_DTL A WHERE A.HRGNUM_PUK \= ?  AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_BODY_HANDOVER_TO \!\= ? AND A.HRGNUM_PUK NOT IN (SELECT B.HRGNUM_PUK FROM HMRT_DECEASED_DTL B WHERE B.HMRNUM_BODY_STATUS \!\= ? AND B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= ? AND b.hrgnum_puk IS NOT NULL)


GET_EXISTING_RELATIVE.HMRT_DECEASED_RELATIVE_DTL = SELECT DISTINCT HMRSTR_RELATIVE_NAME as relativeName, HMRSTR_RELATIVE_ADDRESS as relativeAddress, HMRSTR_RELATIVE_CONTACTNO as relativeContactNo, GNUM_RELATION_CODE as relativeCode,NVL((SELECT gstr_relation_name FROM GBLT_RELATION_MST a WHERE a.gnum_relation_code \= b.gnum_relation_code  AND a.gnum_isvalid \= b.gnum_isvalid),'Not Available') AS relativecodename FROM HMRT_DECEASED_RELATIVE_DTL b WHERE HMRNUM_DECEASED_NO \= ? AND GNUM_ISVALID \= ?


SELECT_ALL_DECEASED_FOR_POSTMORTEM_REQUEST.HMRT_DECEASED_DTL = SELECT HMRNUM_DECEASED_NO as deceasedNo, HRGNUM_PUK as patCrNo, INITCAP(HMRSTR_FNAME) as patFirstName, INITCAP(HMRSTR_MNAME) as patMiddleName, TO_CHAR(HMRDT_RECEIVED_DATETIME,'dd-Mon-yyyy HH24\:MI') as receivedDateTime, INITCAP(HMRSTR_LNAME) as patLastName, TO_CHAR(HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') as deathDate, HMRNUM_BODY_STATUS as bodyStatus, HMRNUM_ISMLC_CASE as isMlcCase, HMRNUM_UNIDENTIFIED_BODY as unidentifiedBody, HMRNUM_ISBROUGHT_DEAD as isBroughtDead FROM HMRT_DECEASED_DTL WHERE (HMRNUM_BODY_STATUS \= ? OR HMRNUM_BODY_STATUS \= ?) AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HMRNUM_POSTMORTEM_REQ \!\= ? AND HMRNUM_DECEASED_NO NOT IN (SELECT A.HMRNUM_DECEASED_NO FROM HMRT_POSTMORTEM_REQ_DTL A WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HMRNUM_POSTMORTEM_STATUS \!\= ? AND A.HRGNUM_SRNO\=(SELECT MAX(B.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL B WHERE A.HMRNUM_POSTMORTEM_ID\=B.HMRNUM_POSTMORTEM_ID)) ORDER BY deceasedNo


GET_ALL_OPINION.HMRT_OPINION_MST = SELECT HMRNUM_OPINION_CODE, HMRSTR_OPINION_NAME FROM HMRT_OPINION_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_OPINION_NAME


GET_ALL_DECEASED_ITEM.HMRT_DECEASED_ITEM_MST = SELECT HMRNUM_ITEM_CODE, HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_ITEM_NAME

 
SELECT_ALL_DECEASED_FOR_POSTMORTEM_ENTRY.HMRT_DECEASED_DTL = SELECT TO_CHAR(A.HMRDT_DOB,'dd-Mon-yyyy') as patDOB, A.HMRNUM_DECEASED_NO as deceasedNo, A.HRGNUM_PUK as patCrNo, A.HMRSTR_FNAME as patFirstName, TO_CHAR(A.HMRDT_RECEIVED_DATETIME,'dd-Mon-yyyy HH24\:MI') as receivedDateTime, A.HMRSTR_MNAME as patMiddleName, A.HMRSTR_LNAME as patLastName, TO_CHAR(A.HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') as deathDate, A.HMRNUM_UNIDENTIFIED_BODY as unidentifiedBody, A.HMRNUM_ISBROUGHT_DEAD as isBroughtDead, A.HMRNUM_ISMLC_CASE as isMlcCase, B.HMRNUM_POSTMORTEM_ID as postmortemId, TO_CHAR(B.HMRDT_REQ_DATETIME,'dd-Mon-yyyy HH24\:MI') as requestDateTime, B.HMRNUM_POSTMORTEM_STATUS as postmortemStatus, B.HRGNUM_SRNO as srNo, B.HMRNUM_POSTMORTUM_TYPE AS postmortemType FROM HMRT_DECEASED_DTL A ,HMRT_POSTMORTEM_REQ_DTL B WHERE A.HMRNUM_DECEASED_NO\=B.HMRNUM_DECEASED_NO AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND B.HMRNUM_POSTMORTEM_STATUS IN (?,?) AND b.HRGNUM_SRNO\=(SELECT MAX(c.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL c WHERE c.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID) AND B.HMRNUM_POSTMORTEM_ID NOT IN (SELECT X.HMRNUM_POSTMORTEM_ID FROM HMRT_POSTMORTEM_DTL X WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_VERIFY_BY IS NOT NULL AND GDT_VERIFY_DATE IS NOT NULL)


GET_ALL_ROLE.HMRT_ROLE_MST = SELECT HMRNUM_ROLE_ID, HMRSTR_ROLE_NAME FROM HMRT_ROLE_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_ROLE_NAME


GET_ALL_ITEM_TOBE_PRESERVED.HMRT_POSTMORTEM_ITEMREQ_DTL = SELECT HMRNUM_ITEM_CODE AS itemCode, (SELECT B.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST B WHERE B.HMRNUM_ITEM_CODE\=A.HMRNUM_ITEM_CODE AND  B.GNUM_ISVALID \=? ) AS itemName, A.HMRSTR_REMARKS as remarks FROM HMRT_POSTMORTEM_ITEMREQ_DTL A WHERE A.HMRNUM_POSTMORTEM_ID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GDT_LSTMOD_DATE IS NULL AND  HMRNUM_ITEM_CODE NOT IN(SELECT C.HMRNUM_ITEM_CODE FROM HMRT_POSTMORTEM_ITEM_DTL C WHERE C. HMRNUM_POSTMORTEM_ID \= A.HMRNUM_POSTMORTEM_ID AND C.GNUM_ISVALID \= A.GNUM_ISVALID) ORDER BY itemName 



SELECT_MORTUARYNAME.HMRT_MORTUARY_MST = select initcap(HMRSTR_MORTURY_NAME) from HMRT_MORTUARY_MST where HMRNUM_MORTURY_CODE=? and GNUM_ISVALID=? and GNUM_HOSPITAL_CODE=?																					

SELECT_ALL_DECEASED_IMAGE.HMRT_DECEASED_IMAGE_DTL = SELECT HRGNUM_IS_DEFAULT AS isDefaultImage , DECODE(HMRNUM_UPLOAD_MODE,1,'Mortuary',2,'Emergency') AS uploadMode, HRGSTR_FILENO AS fileNo, HRGSTR_PATH AS filePath, TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') AS entryDate, HMRSTR_UPLOAD_REMARKS AS uploadRemarks, nvl(HMRSTR_IMAGE_HEADER,'Not Available') AS imageHeader ,HRGNUM_SLNO slNo,hmrnum_deceased_no deceasedNo,HRGNUM_PUK patCrNo FROM HMRT_DECEASED_IMAGE_DTL WHERE HMRNUM_DECEASED_NO \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY entryDate,fileNo


UPDATE_IS_DEFAULT_IMAGE_NO.HMRT_DECEASED_IMAGE_DTL = UPDATE HMRT_DECEASED_IMAGE_DTL SET HRGNUM_IS_DEFAULT = ? WHERE HMRNUM_DECEASED_NO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


UPDATE_IS_DEFAULT_IMAGE.HMRT_DECEASED_IMAGE_DTL = UPDATE HMRT_DECEASED_IMAGE_DTL SET HRGNUM_IS_DEFAULT = ? WHERE HMRNUM_DECEASED_NO = ? AND HRGNUM_SLNO = ? AND GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ?


REMOVE.IMAGE.HMRT_DECEASED_IMAGE_DTL =	update HMRT_DECEASED_IMAGE_DTL set GNUM_ISVALID=?,GDT_LSTMOD_DATE=sysdate,GNUM_LSTMOD_SEATID=? where HMRNUM_DECEASED_NO=? and HRGNUM_SLNO=? and GNUM_HOSPITAL_CODE=? 

GET_DEATH_MANNER.HGBT_DEATH_MANNER_MST = SELECT HGNUM_DEATH_MANNER_CODE, INITCAP(HGSTR_DEATH_MANNER_NAME) FROM HGBT_DEATH_MANNER_MST WHERE GNUM_ISVALID \= ?  ORDER BY  HGSTR_DEATH_MANNER_NAME


GET_INJURY_NATURE.HRGT_INJURY_NATURE_MST = SELECT HRGNUM_INJURY_NATURE_CODE, HRGSTR_INJURY_NATURE FROM HRGT_INJURY_NATURE_MST WHERE GNUM_ISVALID = ? 


GET_INJURY_TYPE.HRGT_INJURY_TYPE_MST = SELECT HRGNUM_INJURY_TYPE_CODE, INITCAP(HRGSTR_INJURY_TYPE) FROM HRGT_INJURY_TYPE_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?


GET_EXISTING_INJURY_DETAIL.HPMRT_PAT_DEATH_DTL = SELECT A.HRGNUM_INJURY_NATURE_CODE AS injuryNatureCode, A.HRGNUM_INJURY_TYPE_CODE AS injuryTypeCode, A.HPMRSTR_INJURY_REMARKS AS injuryRemarks, A.HGNUM_DEATH_MANNER_CODE AS deathMannerCode FROM HPMRT_PAT_DEATH_DTL A WHERE A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_SLNO\=(SELECT MAX( B.HPMRNUM_SLNO) FROM HPMRT_PAT_DEATH_DTL B WHERE B.HRGNUM_PUK\=A.HRGNUM_PUK )


GET_IDENTIFY_BY_DETAIL.HMRT_DECEASED_IDENTY_DTL = SELECT HMRNUM_ISIDENTYFY_BY AS isIdentifiyBy, HMRSTR_IDENTY_BY_NAME AS identifiyByName, HMRSTR_IDENTY_BY_ADDRESS AS identifiyByAddress, HRGSTR_IDENTY_BY_PHONE AS identifiyByPhone, HRGSTR_CONSTABLE_DESIG AS officerDesignation, GNUM_RELATION_CODE AS relativeCode, HRGSTR_CONSTABLE_BADGENO AS officerBadgeNo, (SELECT GSTR_RELATION_NAME FROM GBLT_RELATION_MST a WHERE a.GNUM_RELATION_CODE\=b.GNUM_RELATION_CODE AND a.GNUM_ISVALID\=b.GNUM_ISVALID) AS relativeCodeName FROM HMRT_DECEASED_IDENTY_DTL b WHERE HMRNUM_DECEASED_NO \=? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY HMRNUM_ISIDENTYFY_BY, HMRSTR_IDENTY_BY_NAME


SELECT_ALL_UNKNOWN_N_UNCLAIMED_BODY.HMRT_DECEASED_DTL = SELECT hmrnum_deceased_no AS deceasedno, INITCAP (hmrstr_fname) AS patfirstname, INITCAP (hmrstr_mname) AS patmiddlename, INITCAP (hmrstr_lname) AS patlastname, TO_CHAR (hmrdt_received_datetime, 'dd-Mon-yyyy HH24\:MI' ) AS receiveddatetime, TO_CHAR (hmrdt_death_datetime, 'dd-Mon-yyyy HH24\:MI') AS deathdate, hmrnum_ismlc_case AS ismlccase, hrgnum_puk AS patcrno, hmrnum_unidentified_body AS unidentifiedbody, hmrnum_isbrought_dead AS isbroughtdead, HMRNUM_ISCLAIMED AS isClaimed FROM HMRT_DECEASED_DTL WHERE hmrnum_body_status IN (?,?) AND gnum_isvalid \= ? AND gnum_hospital_code \= ? AND (HMRNUM_UNIDENTIFIED_BODY\=? OR HMRNUM_ISCLAIMED\=?) 


GET_UNKNOWN_PATIENT_ID_MARK.HRGT_PATIENT_DTL = SELECT HRGSTR_IDMARK1||'#'|| HRGSTR_IDMARK2 FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK = ? AND GNUM_ISVALID = ? AND  GNUM_HOSPITAL_CODE = ?


GET_AUTOPSY_TYPE.HMRT_AUTOPSY_CAT_MST = SELECT HMRNUM_AUTOPSY_CAT_ID, HMRSTR_AUTOPSY_CAT FROM HMRT_AUTOPSY_CAT_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_AUTOPSY_CAT


GET_INCISION_TYPE.HMRT_INCISION_TYPE_MST = select HMRNUM_INCISION_TYPE_CODE, HMRSTR_INCISION_TYPE from HMRT_INCISION_TYPE_MST where GNUM_ISVALID = ? and GNUM_HOSPITAL_CODE = ? order by HMRSTR_INCISION_TYPE


GET_REQUESTED_OPINION.HMRT_POSTMORTEM_OPINIONREQ_DTL = SELECT B.HMRNUM_OPINION_CODE AS opinionCode,(SELECT A.HMRSTR_OPINION_NAME FROM HMRT_OPINION_MST A WHERE A.HMRNUM_OPINION_CODE\=B.HMRNUM_OPINION_CODE AND  A.GNUM_ISVALID \=B.GNUM_ISVALID ) AS opinionName, B.HMRSTR_REMARKS as remarks FROM HMRT_POSTMORTEM_OPINIONREQ_DTL B WHERE B.HMRNUM_POSTMORTEM_ID \= ? AND B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= ? AND B.GDT_LSTMOD_DATE IS NULL ORDER BY opinionName 


GET_OPINION_NOT_REQUESTED.HMRT_OPINION_MST = SELECT a.HMRNUM_OPINION_CODE, a.HMRSTR_OPINION_NAME FROM HMRT_OPINION_MST a  WHERE a.GNUM_ISVALID \= ? AND a.GNUM_HOSPITAL_CODE \= ? AND a.HMRNUM_OPINION_CODE NOT IN (SELECT b.HMRNUM_OPINION_CODE FROM HMRT_POSTMORTEM_OPINIONREQ_DTL b WHERE HMRNUM_POSTMORTEM_ID \= ? AND b.GNUM_ISVALID \= a.GNUM_ISVALID AND b.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE AND B.GDT_LSTMOD_DATE IS NULL) ORDER BY A.HMRSTR_OPINION_NAME
														 

GET_ADD_TEAM.HMRT_POSTMORTEM_TEAM_DTL = SELECT a.HMRSTR_EMP_ID AS empId, (SELECT c.STR_EMP_FULL_NAME FROM PIST_EMP_REGISTRATION_DTL c WHERE c.STR_EMP_NO\=a.HMRSTR_EMP_ID AND c.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE AND c.GNUM_ISVALID \= ?) AS empName, a.HMRNUM_ROLE_ID AS roleId,NVL((SELECT b.HMRSTR_ROLE_NAME FROM HMRT_ROLE_MST b WHERE b.HMRNUM_ROLE_ID\=a.HMRNUM_ROLE_ID AND b.GNUM_ISVALID \= ?),'Not Available') AS roleName, a.HRGNUM_SRNO as srNO, a.HMRNUM_INCHARGE AS isIncharge, DECODE(a.HMRNUM_INCHARGE,0,'No',1,'Yes',2,'No') AS isInchargeLabel, A.HMRNUM_IS_PERFORMED as isPerformed, DECODE(a.HMRNUM_IS_PERFORMED,0,'No',1,'Assign',2,'Yes') AS isPerformedLabel,a.HMRSTR_REASON AS reason FROM HMRT_POSTMORTEM_TEAM_DTL a WHERE a.HMRNUM_POSTMORTEM_ID \= ? AND a.GNUM_ISVALID \= ? AND a.GNUM_HOSPITAL_CODE \= ? ORDER BY isincharge DESC, empName
																					
																					
GET_ADDED_OPINION.HMRT_POSTMORTEM_OPINION_DTL = SELECT A.HMRNUM_OPINION_CODE AS opinionCode, (SELECT B.HMRSTR_OPINION_NAME FROM HMRT_OPINION_MST B WHERE B.HMRNUM_OPINION_CODE\=A.HMRNUM_OPINION_CODE AND B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE) AS opinionName, A.HMRSTR_OPINION AS opinion FROM HMRT_POSTMORTEM_OPINION_DTL A WHERE A.HMRNUM_POSTMORTEM_ID \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE\=?


GET_MORTUARY.HMRT_MORTUARY_MST = SELECT HMRNUM_MORTURY_CODE, HMRSTR_MORTURY_NAME FROM HMRT_MORTUARY_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HMRNUM_MORTUARY_TYPE \= ? AND GNUM_ISVALID \= ? AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND NVL(GDT_EFFECTIVE_TO,SYSDATE+1)>\=TRUNC(SYSDATE) ORDER BY HMRSTR_MORTURY_NAME


GET_CHAMBER_BASEDON_MORTUARY_AREA.HMRT_CHAMBER_MST = SELECT HMRNUM_CHAMBER_ID, HMRSTR_CHAMBER_NAME FROM HMRT_CHAMBER_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HMRNUM_CHAMBER_STATUS \= ? AND HMRNUM_AREA_CODE \= ? ORDER BY HMRSTR_CHAMBER_NAME
																																												

GET_AREA_BASEDON_MORTUARY.HMRT_MORTUARY_AREA_MST = SELECT HMRNUM_AREA_CODE, HMRSTR_AREA_NAME FROM HMRT_MORTUARY_AREA_MST WHERE GNUM_HOSPITAL_CODE \=? AND  GNUM_ISVALID \= ? AND HMRNUM_MORTURY_CODE \= ?  ORDER BY HMRSTR_AREA_NAME

																																												
SELECT_BY_POSTMORTEMID.HMRT_POSTMORTEM_EXAM_DTL = SELECT HGNUM_TEMPLATE_ID AS TEMPLATEID, HGSTR_PARA_VALUE AS PARAVALUE, HGNUM_PARA_ID AS PARAID FROM HMRT_POSTMORTEM_EXAM_DTL WHERE HMRNUM_POSTMORTEM_ID \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?


SELECT_TEMPLATE_ID.HMRT_CAT_TEMPLATE_MST = SELECT HGNUM_TEMPLATE_ID FROM HMRT_CAT_TEMPLATE_MST WHERE GNUM_ISVALID =?AND GNUM_HOSPITAL_CODE = ? AND HMRNUM_AUTOPSY_CAT_ID=?


GET_AUTOPSY_CAT_ID.HMRT_AUTOPSY_CAT_MST = SELECT PKG_MORTUARY_DTL.GET_AUTOSPY_CAT(?,?) FROM DUAL


SELECT_OPINION_TO_BE_APPROVED.HMRT_DECEASED_DTL = SELECT TO_CHAR(A.HMRDT_DOB,'dd-Mon-yyyy') AS patDOB, A.HMRNUM_DECEASED_NO AS deceasedno, A.HRGNUM_PUK AS patcrno, A.HMRSTR_FNAME AS patfirstname, TO_CHAR (A.HMRDT_RECEIVED_DATETIME, 'dd-Mon-yyyy HH24\:MI' ) AS receiveddatetime, A.HMRSTR_MNAME AS patmiddlename, A.HMRSTR_LNAME AS patlastname, TO_CHAR (A.HMRDT_DEATH_DATETIME, 'dd-Mon-yyyy HH24\:MI') AS deathdate, A.HMRNUM_UNIDENTIFIED_BODY AS unidentifiedbody, a.hmrnum_isbrought_dead AS isbroughtdead, A.HMRNUM_ISMLC_CASE AS ismlccase, B.HMRNUM_POSTMORTEM_ID AS postmortemid, TO_CHAR (B.HMRDT_REQ_DATETIME, 'dd-Mon-yyyy HH24\:MI') AS requestdatetime, B.HMRNUM_POSTMORTEM_STATUS AS postmortemstatus,TO_CHAR(C.HMRDT_START_DATETIME,'dd-Mon-yyyy HH24\:MI') AS performDateTime FROM HMRT_DECEASED_DTL A, HMRT_POSTMORTEM_REQ_DTL B, HMRT_POSTMORTEM_DTL C WHERE A.HMRNUM_DECEASED_NO \= B.HMRNUM_DECEASED_NO AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND A.GNUM_ISVALID \= C.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND B.HMRNUM_POSTMORTEM_ID\=C.HMRNUM_POSTMORTEM_ID AND b.HRGNUM_SRNO\=(SELECT MAX(x.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL x WHERE x.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID) AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND B.HMRNUM_POSTMORTEM_STATUS \= ? AND C.GNUM_VERIFY_BY IS NULL AND C.GDT_VERIFY_DATE IS NULL


GET_OPINION_NOT_ADDED.HMRT_OPINION_MST = SELECT HMRNUM_OPINION_CODE, HMRSTR_OPINION_NAME FROM HMRT_OPINION_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HMRNUM_OPINION_CODE NOT IN (SELECT A.HMRNUM_OPINION_CODE FROM HMRT_POSTMORTEM_OPINION_DTL A WHERE A.HMRNUM_POSTMORTEM_ID \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ?)


GET_RELATIVE_DETAIL.HMRT_DECEASED_RELATIVE_DTL = SELECT DISTINCT a.HMRSTR_RELATIVE_NAME AS relativeName, a.HMRSTR_RELATIVE_ADDRESS AS relativeAddress, a.HMRSTR_RELATIVE_CONTACTNO AS relativeContactNo, a.GNUM_RELATION_CODE AS relativeCode, NVL((SELECT B.GSTR_RELATION_NAME FROM GBLT_RELATION_MST B WHERE B.GNUM_RELATION_CODE\=A.GNUM_RELATION_CODE AND B.GNUM_ISVALID\=A.GNUM_ISVALID ),'-') AS relativeCodeName FROM HMRT_DECEASED_RELATIVE_DTL A WHERE A.HMRNUM_DECEASED_NO \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? ORDER BY  a.HMRSTR_RELATIVE_NAME
													

GET_POSTMORTEM_REQUEST_LIST.HMRT_POSTMORTEM_REQ_DTL = SELECT A.HMRNUM_POSTMORTEM_ID AS postmortemId, A.HMRNUM_DECEASED_NO AS deceasedNo, TO_CHAR(A.HMRDT_REQ_DATETIME,'dd-Mon-yyyy HH24\:MI') AS requestDateTime, DECODE(A.HMRNUM_POSTMORTEM_STATUS,1,'Raised',2,'Approved') AS postmortemStatusLabel,A.HMRNUM_POSTMORTEM_STATUS AS postmortemStatus, DECODE(A.HMRNUM_POSTMORTUM_TYPE,1,'Forensic',2,'Clinical') AS postmortemTypeName, A.HMRNUM_POSTMORTUM_TYPE as postmortemType, (SELECT B.HMRSTR_FNAME||' '||B.HMRSTR_MNAME||' '||B.HMRSTR_LNAME FROM HMRT_DECEASED_DTL B WHERE B.HMRNUM_DECEASED_NO\=A.HMRNUM_DECEASED_NO AND B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= ?) AS deceasedName FROM HMRT_POSTMORTEM_REQ_DTL A WHERE A.HMRNUM_REQ_TYPE \= ? AND A.HMRNUM_POSTMORTEM_STATUS IN(?,?) AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND (A.HMRNUM_POSTMORTEM_STATUS|| A.HMRNUM_POSTMORTUM_TYPE) \!\= (?||?) AND A.GDT_LSTMOD_DATE IS NULL ORDER BY A.HMRDT_REQ_DATETIME


SELECT_WAVEOFF_DETAILS.HMRT_DECEASED_DTL=SELECT a.HMRNUM_DECEASED_NO as deceasedNo, a.HRGNUM_PUK as patCrNo, INITCAP(a.HMRSTR_FNAME) as patFirstName, INITCAP(a.HMRSTR_MNAME) as patMiddleName, INITCAP(a.HMRSTR_LNAME) as patLastName,(SELECT c.gstr_gender_name FROM gblt_gender_mst c WHERE c.gstr_gender_code \= a.gnum_gender_code  AND c.gnum_isvalid \= ?) AS patgender,ahis_util.dob_age_on (a.hmrdt_dob, SYSDATE) AS patage, DECODE(b.HMRNUM_POSTMORTUM_TYPE,1,'Forensic',2,'Clinical') as postmortemType, b.HMRNUM_POSTMORTEM_ID as postmortemId, DECODE(b.HMRNUM_POSTMORTEM_STATUS,1,'Raised',2,'Approved',3,'Cancelled',4,'Waveoff',5, 'Postmortem Entry') as postmortemStatus FROM HMRT_DECEASED_DTL a,hmrt_postmortem_req_dtl b WHERE b.HMRNUM_POSTMORTUM_TYPE\=? AND b.HMRNUM_POSTMORTEM_STATUS IN (?,?) AND a.GNUM_HOSPITAL_CODE\=? AND a.GNUM_ISVALID\=? AND a.HMRNUM_DECEASED_NO\= b.HMRNUM_DECEASED_NO ORDER BY a.HMRNUM_DECEASED_NO


GET_POSTMORTEM_REQUEST_DTL.HMRT_POSTMORTEM_REQ_DTL = SELECT A.HRGSTR_CASE_NO AS caseNo, TO_CHAR(A.HMRDT_REQ_DATETIME,'dd-Mon-yyyy HH24\:MI') AS requestDateTime, A.HMRNUM_POSTMORTEM_STATUS AS postmortemStatusCode, DECODE(A.HMRNUM_POSTMORTEM_STATUS,1,'Raised',2,'Approved') AS postmortemStatus, A.HRGSTR_POLICE_STATION AS policeStation, A.HRGSTR_DD_NO AS docketNo, A.HRGSTR_IO_NAME AS officerIncharge, A.HRGSTR_IO_DESIG AS ioDesignation, A.HRGSTR_IO_BADGENO AS ioBatchNo, A.HRGSTR_CONSTABLE_NAME AS dutyOffName, A.HRGSTR_CONSTABLE_DESIG AS dutyOffDesignation, A.HRGSTR_CONSTABLE_BADGENO AS dutyOffBatchNo, A.HRGSTR_CASE_REMARKS AS caseRemarks, TO_CHAR(A.HMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') AS deathDate, TO_CHAR(A.HMRDT_INCIDENCE_DATETIME,'dd-Mon-yyyy HH24\:MI') AS incidenceDate, A.HMRSTR_DEATH_PLACE AS deathPlace, A.HMRNUM_POSTMORTEM_ID AS postmortemId, A.HRGSTR_MLC_NO AS patMlcNo, A.HMRNUM_DECEASED_NO AS deceasedNo, A.HMRNUM_REQ_TYPE AS postmortemReqType, A.HRGNUM_SRNO AS srNo, A.HMRNUM_IS_REPEAT AS isRepeat, A.HMRSTR_REPEAT_REASON AS RepeatReason, A.HMRSTR_APPROVED_BY AS approvedBy, A.HMRNUM_CONDUCT_BY AS conductBy, A.HMRNUM_POSTMORTUM_TYPE AS postmortemType,A.HMRNUM_CONSENT_STATUS AS consentStatus, A.HMRNUM_AUTOPSY_CAT_ID AS autopsyType FROM HMRT_POSTMORTEM_REQ_DTL A WHERE A.HMRNUM_POSTMORTEM_ID \= ? AND HRGNUM_SRNO\=(SELECT MAX(B.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL B WHERE B.HMRNUM_POSTMORTEM_ID\=A.HMRNUM_POSTMORTEM_ID) AND A.GNUM_ISVALID \=? AND A.GNUM_HOSPITAL_CODE \= ?



GET_ITEM_NOT_REQUESTED.HMRT_DECEASED_ITEM_MST = SELECT a.HMRNUM_ITEM_CODE, a.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST a WHERE a.GNUM_ISVALID \= ? AND a.GNUM_HOSPITAL_CODE \= ? AND a.HMRNUM_ITEM_CODE NOT IN (SELECT b.HMRNUM_ITEM_CODE FROM HMRT_POSTMORTEM_ITEMREQ_DTL b WHERE b.HMRNUM_POSTMORTEM_ID \= ? AND GNUM_LSTMOD_SEATID IS NULL) ORDER BY a.HMRSTR_ITEM_NAME


UPDATE.HMRT_POSTMORTEM_REQ_DTL = UPDATE HMRT_POSTMORTEM_REQ_DTL SET GDT_LSTMOD_DATE = SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE HMRNUM_POSTMORTEM_ID = ? AND HRGNUM_SRNO = ?


UPDATE.HMRT_POSTMORTEM_OPINIONREQ_DTL = UPDATE HMRT_POSTMORTEM_OPINIONREQ_DTL SET GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE HMRNUM_POSTMORTEM_ID \= ? AND  HMRNUM_OPINION_CODE \= ? AND GDT_LSTMOD_DATE IS NULL


UPDATE.HMRT_POSTMORTEM_ITEMREQ_DTL = UPDATE HMRT_POSTMORTEM_ITEMREQ_DTL SET GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE HMRNUM_POSTMORTEM_ID \= ? AND HMRNUM_ITEM_CODE \= ?  AND GDT_LSTMOD_DATE IS NULL


GET_ALL_PRESERVATIVE.HMRT_PRESERVATIVE_MST = SELECT HMRNUM_PRESERVATIVE_ID, HMRSTR_PRESERVATIVE_NAME FROM HMRT_PRESERVATIVE_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY HMRSTR_PRESERVATIVE_NAME \t\t\t\t\t\t\t\t\t\t
												
												
GET_ITEM_NOT_REQ_N_PRESERVED.HMRT_DECEASED_ITEM_MST = SELECT A.HMRNUM_ITEM_CODE, A.HMRSTR_ITEM_NAME FROM HMRT_DECEASED_ITEM_MST A WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HMRNUM_ITEM_CODE NOT IN (SELECT b.HMRNUM_ITEM_CODE FROM HMRT_POSTMORTEM_ITEMREQ_DTL b WHERE b.HMRNUM_POSTMORTEM_ID \= ? AND b.GDT_LSTMOD_DATE IS NULL) AND A.HMRNUM_ITEM_CODE NOT IN (SELECT c.HMRNUM_ITEM_CODE FROM HMRT_POSTMORTEM_ITEM_DTL c WHERE c.HMRNUM_POSTMORTEM_ID \= ?) ORDER BY A.HMRSTR_ITEM_NAME\t\t\t\t\t\t\t\t\t\t\t\t


GET_ALL_MARITIAL_STATUS.GBLT_MARITAL_STATUS_MST = SELECT GNUM_MARITAL_STATUS_CODE, GSTR_MARITAL_STATUS FROM GBLT_MARITAL_STATUS_MST WHERE GNUM_ISVALID = ?  ORDER BY GSTR_MARITAL_STATUS


GET_ALL_GENDER.GBLT_GENDER_MST = SELECT GSTR_GENDER_CODE, GSTR_GENDER_NAME FROM GBLT_GENDER_MST WHERE GNUM_ISVALID = ?  ORDER BY GSTR_GENDER_NAME


GET_ALL_EXT_LAB.HMRT_EXT_LAB_MST = SELECT HMRNUM_EXT_LAB_ID, HMRSTR_EXT_LAB_NAME FROM HMRT_EXT_LAB_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_EXT_LAB_NAME


GET_ALL_EXT_LAB.HMRT_EXT_LABTEST_MST = SELECT HMRNUM_EXT_LABTEST_ID, HMRSTR_EXT_LABTEST_NAME FROM HMRT_EXT_LABTEST_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY HMRSTR_EXT_LABTEST_NAME


GET_DECEASED_NO_BY_POSTMORTEM_ID.HMRT_POSTMORTEM_REQ_DTL = SELECT a.HMRNUM_DECEASED_NO FROM HMRT_POSTMORTEM_REQ_DTL a WHERE a.HMRNUM_POSTMORTEM_ID \= ? AND a.GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HRGNUM_SRNO\=(SELECT MAX(b.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL b WHERE b.HMRNUM_POSTMORTEM_ID\=a.HMRNUM_POSTMORTEM_ID)


SELECT_POSTMORTE_READY_TO_HANDOVER.HMRT_POSTMORTEM_DTL = SELECT A.HMRNUM_POSTMORTEM_ID AS postmortemId,C.HMRNUM_DECEASED_NO AS deceasedNo, E.HMRSTR_FNAME AS patFirstName, E.HMRSTR_MNAME AS patMiddleName, E.HMRSTR_LNAME AS patLastName,TO_CHAR(C.HMRDT_REQ_DATETIME,'dd-Mon-yyyy HH24\:MI') AS requestDateTime, C.HMRNUM_POSTMORTUM_TYPE AS postmortemType FROM HMRT_POSTMORTEM_DTL A, HMRT_POSTMORTEM_REQ_DTL C, HMRT_DECEASED_DTL E WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GDT_VERIFY_DATE IS NOT NULL AND A.HMRNUM_POSTMORTEM_ID\=C.HMRNUM_POSTMORTEM_ID AND C.HMRNUM_DECEASED_NO\=E.HMRNUM_DECEASED_NO AND C.HRGNUM_SRNO\=(SELECT MAX(D.HRGNUM_SRNO) FROM HMRT_POSTMORTEM_REQ_DTL D WHERE C.HMRNUM_POSTMORTEM_ID\=D.HMRNUM_POSTMORTEM_ID) AND A.HMRNUM_POSTMORTEM_ID NOT IN (SELECT B.HMRNUM_POSTMORTEM_ID FROM HMRT_POSTMORTEM_HANDOVER_DTL B WHERE B.GNUM_ISVALID \= A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE)\t\t\t\t\t\t\t\t\t\t\t\t


SELECT_CHAMBER_NAME.HMRT_CHAMBER_MST= SELECT hmrstr_chamber_name || '@' || HMRNUM_RACK_NUMBERS  FROM hmrt_chamber_mst  WHERE hmrnum_chamber_id =? AND gnum_isvalid =?  AND gnum_hospital_code =? 
											

GET_ALL_ASSOCIATED_HOSPITAL.GBLT_EXT_INSTITUTE_MST = SELECT   GNUM_INSTITUTE_CODE,GSTR_INSTITUTE_NAME FROM GBLT_EXT_INSTITUTE_MST WHERE gnum_isvalid = ? AND gnum_hospital_code = ? ORDER BY GSTR_INSTITUTE_NAME


SELECT_CONSENT_MAPPING_DETAIL.HGBT_CONSENT_MAPPING = SELECT HGNUM_SERVICE_TYPE_ID AS serviceTypeId, HGNUM_TEMPLATE_ID AS templateId, HGSTR_SERVICE_ID AS serviceId FROM HGBT_CONSENT_MAPPING WHERE HGNUM_SERVICE_TYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ?

UPDATE_CONSENT_RECEIVED_STATUS.HGBT_CONSENT_DTL = UPDATE HGBT_CONSENT_DTL SET HGNUM_CONSENT_STATUS \= ?, HGNUM_RECEIVED_BY \= ?, HGDT_RECEIVED_DATE \= SYSDATE, HRGNUM_CONSENT_GIVENBY \= ?, HRGSTR_RELATIVE_NAME \= ?, HRGSTR_RELATIVE_ADDRESS \= ?, HRGSTR_RELATIVE_IDMARK \= ?, GNUM_RELATION_CODE \= ?, HRGSTR_RELATIVE_CONTACTNO \= ? WHERE HGSTR_REQ_ID \= ? AND HGNUM_SERVICE_TYPE_ID \= ? AND  HGSTR_SERVICE_ID \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?

						



													