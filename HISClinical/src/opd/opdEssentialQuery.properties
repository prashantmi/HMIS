

OPDESSENTIAL.MENU_DTL.GBLT_USER_DESKMENU_MST=SELECT  B.GNUM_DESK_MENU_ID AS DESKMENUID,B.GSTR_COLOR AS COLOR,GSTR_USER_DESKMENU_NAME AS USERDESKMENUNAME, X.GSTR_DESK_URL AS DESKURL FROM GBLT_USER_DESKMENU_MST A, GBLT_DESK_DTL B, GBLT_DESK_MENU_MST X WHERE  X.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND X.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND B.GNUM_DESK_ID \= A.GNUM_DESK_ID AND B.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND A.GNUM_USERSEAT_ID\=? AND A.HGNUM_DEPTUNITCODE\=? AND B.GNUM_LOCATION\=? AND A.GNUM_DESK_TYPE\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? ORDER BY GNUM_DISPLAY_ORDER 

SELECT.HRGT_DAILY_PATIENT_DTL.RETRIEVE_FOR_TODAY=SELECT a.HRGNUM_CHANGE_TYPE as patChangeType, a.hrgnum_puk AS patcrno, INITCAP (a.hrgstr_fname) AS patfirstname, INITCAP (a.hrgstr_mname) AS patmiddlename, INITCAP (a.hrgstr_lname) AS patlastname,gnum_marital_status_code AS patmaritalstatuscode,DECODE (a.gstr_gender_code, 1, 'M', 2, 'F', 'O') || '/' || ahis_util.puk_age (a.hrgnum_puk) patgenderage,INITCAP (a.hrgstr_father_name) AS patguardianname, INITCAP (a.hrgstr_momname) AS patmomname,a.hrgnum_episode_code AS episodecode,a.hrgnum_visit_no AS episodevisitno, a.hrgnum_episode_type_code AS episodetypecode,a.hgnum_deptunitcode AS departmentunitcode, DECODE(a.HRGNUM_CHANGE_TYPE,0,TO_CHAR(a.hrgnum_que_no),1,a.hrgstr_display_queno) AS queno,a.GNUM_DEPT_CODE AS departmentCode, TO_CHAR (a.gdt_entry_date, 'dd-Mon-YYYY') AS episodedate,hgnum_patient_cat_code AS patprimarycatcode, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_patient_cat_code AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) patPrimaryCat, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_treatment_cat_code AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) patSecondaryCat, (SELECT INITCAP (e.gstr_dept_name) FROM gblt_department_mst e WHERE e.gnum_dept_code \= a.gnum_dept_code AND a.GNUM_HOSPITAL_CODE\=e.GNUM_HOSPITAL_CODE AND e.GNUM_ISVALID\=1) department, (SELECT INITCAP (x.HGSTR_UNITNAME) FROM HGBT_UNIT_MST x WHERE x.HGNUM_DEPTUNITCODE \= a.HGNUM_DEPTUNITCODE AND x.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND x.GNUM_ISVALID\=1) departmentUnit, (SELECT HGNUM_ISGENERAL  FROM HGBT_UNIT_MST x   WHERE x.hgnum_deptunitcode \= a.hgnum_deptunitcode   AND x.gnum_hospital_code \= a.gnum_hospital_code AND x.GNUM_ISVALID\=1 )  departmentunittype, a.hrgnum_is_confirmed isConfirmed FROM hrgt_daily_patient_dtl a WHERE TRUNC (a.gdt_entry_date) \= TRUNC (SYSDATE) AND a.hrgnum_is_confirmed IN (?,?) AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? AND a.GNUM_HOSPITAL_CODE\=? AND a.GNUM_ISVALID\=? ORDER BY  a.hrgnum_is_confirmed, a.hrgnum_que_no 
   

ESSENTIAL.DISEASE.LIST.UNIT.WISE.HGBT_DEPT_HOSDIS_MST= select a.HGBSTR_HOSPITAL_DISEASE_CODE, b.HGBSTR_DISEASE_DESC from HGBT_DEPT_HOSDISEASE_MST a,HGBT_HOSPITAL_DISEASE_MST b where HGNUM_DEPTUNITCODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_HOSPITAL_DISEASE_CODE\=a.HGBSTR_HOSPITAL_DISEASE_CODE and b.HGBSTR_PARENT_DISEASE_CODE is null and a.GNUM_HOSPITAL_CODE\=?


ESSENTIAL.SUBDISEASE.LIST.UNIT.WISE.HGBT_DEPT_HOSDIS_MST= select a.HGBSTR_HOSPITAL_DISEASE_CODE, b.HGBSTR_DISEASE_DESC from HGBT_DEPT_HOSDISEASE_MST a,HGBT_HOSPITAL_DISEASE_MST b where HGNUM_DEPTUNITCODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_HOSPITAL_DISEASE_CODE\=a.HGBSTR_HOSPITAL_DISEASE_CODE and b.HGBSTR_PARENT_DISEASE_CODE is not null and a.GNUM_HOSPITAL_CODE\=?
   														  												 

#ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID	=SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE\=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HGNUM_DEPTUNITCODE IN (SELECT GNUM_COLUMN_VALUE FROM GBLT_ROLE_SEAT_TABLE_DTL B, GBLT_METATABLE_COLUMN_MST C WHERE B.GNUM_METATABLE_ID\=C.GNUM_METATABLE_ID AND  C.GSTR_TABLE_NAME\='HGBT_UNIT_MST' AND B.GNUM_HOSPITAL_CODE\=? AND B.GBL_ISVALID\=? AND C.GBL_ISVALID\=? AND C.GSTR_COLUMN_NAME\='HGNUM_DEPTUNITCODE' AND B.GNUM_MODULE_ID \= 13 AND B.GNUM_SEATID\=PKG_USERMGMT.FUN_GETSEATID(?,x.GNUM_HOSPITAL_CODE)) AND X.HGNUM_DEPTUNITCODE IN (SELECT DISTINCT D.HOPNUM_DEPTUNITCODE FROM HOPT_DEPT_UNIT_ROSTER_DTL D WHERE D.HOPDT_START_DT<\=SYSDATE AND D.HOPDT_END_DT>\=SYSDATE AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_ROSTER_TYPE IN (?,?)) ORDER BY UNITNAME
#updated by Dheeraj on 28-Dec-2018 for OPD Doctore Desk Optimization
#ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID	=SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE\=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HGNUM_DEPTUNITCODE IN (SELECT GNUM_COLUMN_VALUE FROM GBLT_ROLE_SEAT_TABLE_DTL B WHERE B.GSTR_TABLE_NAME\='HGBT_UNIT_MST' AND B.GNUM_HOSPITAL_CODE\=? AND B.GBL_ISVALID\=?  AND B.GSTR_COLUMN_NAME\='HGNUM_DEPTUNITCODE' AND B.GNUM_MODULE_ID \= 13 AND B.GNUM_SEATID\=PKG_USERMGMT.FUN_GETSEATID(?,x.GNUM_HOSPITAL_CODE)) AND X.HGNUM_DEPTUNITCODE IN (SELECT DISTINCT D.HOPNUM_DEPTUNITCODE FROM HOPT_DEPT_UNIT_ROSTER_DTL D WHERE D.HOPDT_START_DT<\=SYSDATE AND D.HOPDT_END_DT>\=SYSDATE AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_ROSTER_TYPE IN (?,?)) ORDER BY UNITNAME
#updated by Dheeraj on 03-Jan-2018
#ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID = WITH ROLE_DEPTUNITCODE AS (SELECT DISTINCT GNUM_COLUMN_VALUE as unitcode FROM GBLT_ROLE_SEAT_TABLE_DTL A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GBL_ISVALID\= ? AND A.GNUM_MODULE_ID\=13 AND A.GNUM_SEATID\=PKG_USERMGMT.FUN_GETSEATID( ?,?) AND A.GSTR_COLUMN_NAME\='HGNUM_DEPTUNITCODE' AND A.GSTR_TABLE_NAME\='HGBT_UNIT_MST'), ROLE_UNIT_CODE AS ( SELECT DISTINCT D.HOPNUM_DEPTUNITCODE as unitcode FROM HOPT_DEPT_UNIT_ROSTER_DTL D WHERE D.HOPDT_START_DT<\=SYSDATE AND D.HOPDT_END_DT>\=SYSDATE AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_ROSTER_TYPE IN (?,?)) SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE\=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HGNUM_DEPTUNITCODE IN (select unitcode from ROLE_DEPTUNITCODE) and X.HGNUM_DEPTUNITCODE IN (select unitcode from ROLE_UNIT_CODE) order by 2

#Modified by Vasu on 05.March.2019
ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID =WITH ROLE_DEPTUNITCODE AS (SELECT DISTINCT GNUM_COLUMN_VALUE as unitcode FROM GBLT_ROLE_SEAT_TABLE_DTL A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GBL_ISVALID\= ? AND A.GNUM_MODULE_ID\=13 AND A.GNUM_SEATID\=PKG_USERMGMT.FUN_GETSEATID( ?,?) AND A.GSTR_COLUMN_NAME\='HGNUM_DEPTUNITCODE' AND A.GSTR_TABLE_NAME\='HGBT_UNIT_MST') SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE\=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HGNUM_DEPTUNITCODE IN (select unitcode from ROLE_DEPTUNITCODE) order by 2

ESSENTIAL.HGBT_ROOM_MST.RETRIEVE_BY_DEPTUNITCODE	=SELECT X.HGNUM_ROOM_CODE, (SELECT A.HGSTR_ROOM_NAME FROM HGBT_ROOM_MST A WHERE A.HGNUM_ROOM_CODE\=X.HGNUM_ROOM_CODE AND A.GNUM_HOSPITAL_CODE\=X.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=?) AS ROOMNAME FROM HOPT_DEPT_UNIT_ROSTER_DTL X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HOPNUM_DEPTUNITCODE\=? AND X.HOPDT_START_DT<\=SYSDATE AND X.HOPDT_END_DT>\=SYSDATE ORDER BY ROOMNAME


SELECT._SOURCE_FLAG_TABLE_NAME_AND_COLUMNLIST.HGBT_ALLERGIES_TYPE_MST=select HGNUM_SOURCE_FLAG , HGSTR_TABLE_NAME, HGSTR_COLUMN_LIST from HGBT_ALLERGIES_TYPE_MST where HGNUM_ALLERGIES_CODE\=? and GNUM_ISVALID\=?\t\t\t\t\t\t\t\t\t\t\t 


ESSENTIAL.DISEASE.LIST.DEPT.WISE.HGBT_DEPT_HOSDIS_MST= select a.HGBSTR_HOSPITAL_DISEASE_CODE, b.HGBSTR_DISEASE_DESC from HGBT_DEPT_HOSDISEASE_MST a,HGBT_HOSPITAL_DISEASE_MST b where GNUM_DEPT_CODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_HOSPITAL_DISEASE_CODE\=a.HGBSTR_HOSPITAL_DISEASE_CODE and b.HGBSTR_PARENT_DISEASE_CODE is null and a.GNUM_HOSPITAL_CODE\=?
   														  
ESSENTIAL.SUBDISEASE.LIST.DEPT.WISE.HGBT_DEPT_HOSDIS_MST= select a.HGBSTR_HOSPITAL_DISEASE_CODE, b.HGBSTR_DISEASE_DESC from HGBT_DEPT_HOSDISEASE_MST a,HGBT_HOSPITAL_DISEASE_MST b where GNUM_DEPT_CODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_HOSPITAL_DISEASE_CODE\=a.HGBSTR_HOSPITAL_DISEASE_CODE and b.HGBSTR_PARENT_DISEASE_CODE is not null and a.GNUM_HOSPITAL_CODE\=?
   														  											 
											 
SELECT._SOURCE_FLAG_AND_TABLE_QUERY.HGBT_ALLERGY_TYPE_MST=select HGNUM_SOURCE_FLAG , HGSTR_TABLE_QUERY from HGBT_ALLERGY_TYPE_MST where HGNUM_ALLERGY_TYPE_CODE\=? and GNUM_ISVALID\=?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 
											 

ESSENTIAL.SUBDISEASE.HGBT_ICD_DISEASE_MST=SELECT HGBSTR_DISEASE_CODE,HGBSTR_DISEASE,GNUM_HOSPITAL_CODE FROM HGBT_ICD_DISEASE_MST WHERE GNUM_ISVALID\=? AND HGBSTR_PARENT_CODE IS NOT NULL ORDER BY HGBSTR_DISEASE_CODE

ESSENTIAL.DISEASE.HGBT_ICD_DISEASE_MST=SELECT HGBSTR_DISEASE_CODE,HGBSTR_DISEASE FROM HGBT_ICD_DISEASE_MST WHERE GNUM_ISVALID\=? AND HGBSTR_PARENT_CODE IS NULL and gnum_hospital_code\=? and HGNUM_RECORD_TYPE\=0 ORDER BY HGBSTR_DISEASE_CODE

ESSENTIAL.DISEASE.HGBT_ICD_DISEASE_MST_HOSP_DISEASE=SELECT HGBSTR_DISEASE_CODE,HGBSTR_DISEASE_CODE || '(' || HGBSTR_DISEASE || ')' FROM HGBT_ICD_DISEASE_MST WHERE GNUM_ISVALID\=? and gnum_hospital_code\=? and HGNUM_RECORD_TYPE\=0 ORDER BY HGBSTR_DISEASE_CODE


ESSENTIAL.HGBT_ICD_SUBGROUP_MST=SELECT HGBSTR_ICD_SUBGRP_CODE,HGBSTR_ICD_SUBGROUP FROM HGBT_ICD_SUBGROUP_MST WHERE GNUM_ISVALID\=? ORDER BY HGBSTR_ICD_SUBGRP_CODE

ESSENTIAL.HGBT_ICD_GROUP_MST=SELECT HGBSTR_ICD_GROUP_CODE,HGBSTR_ICD_GROUP FROM HGBT_ICD_GROUP_MST WHERE GNUM_ISVALID\=? ORDER BY HGBSTR_ICD_GROUP_CODE
											
											
ESSENTIAL.DISEASE.HGBT_HOS_DISEASE_MST= SELECT HGBSTR_HOSPITAL_DISEASE_CODE,INITCAP(HGBSTR_DISEASE_DESC) FROM HGBT_HOSPITAL_DISEASE_MST WHERE GNUM_ISVALID\=? AND HGBSTR_PARENT_DISEASE_CODE IS NULL ORDER BY HGBSTR_HOSPITAL_DISEASE_CODE
                                           
ESSENTIAL.SUBDISEASE.HGBT_HOSDIS_DISEASE_MST= SELECT HGBSTR_HOSPITAL_DISEASE_CODE,INITCAP(HGBSTR_DISEASE_DESC) FROM HGBT_HOSPITAL_DISEASE_MST WHERE GNUM_ISVALID\=? AND HGBSTR_PARENT_DISEASE_CODE IS NOT NULL ORDER BY HGBSTR_HOSPITAL_DISEASE_CODE                                           \t\t\t\t\t\t\t\t\t\t\t
											
ESSENTIAL.GROUP.LIST.DEPT.WISE.HGBT_DEPT_ICD_MST=select distinct(HGBSTR_ICD_GROUP_CODE), (select HGBSTR_ICD_GROUP from HGBT_ICD_GROUP_MST where HGBSTR_ICD_GROUP_CODE\=a.HGBSTR_ICD_GROUP_CODE) from HGBT_DEPT_ICD_MST a where GNUM_DEPT_CODE\=?\tand GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?
															
ESSENTIAL.GROUP.LIST.UNIT.WISE.HGBT_DEPT_ICD_MST=select distinct(HGBSTR_ICD_GROUP_CODE), (select HGBSTR_ICD_GROUP from HGBT_ICD_GROUP_MST where HGBSTR_ICD_GROUP_CODE\=a.HGBSTR_ICD_GROUP_CODE) from HGBT_DEPT_ICD_MST a where HGNUM_DEPTUNITCODE\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?
															
ESSENTIAL.SUBGROUP.LIST.DEPT.WISE.HGBT_DEPT_ICD_MST=select distinct(HGBSTR_ICD_SUBGRP_CODE), (select HGBSTR_ICD_SUBGROUP from HGBT_ICD_SUBGROUP_MST where HGBSTR_ICD_SUBGRP_CODE\=a.HGBSTR_ICD_SUBGRP_CODE) from HGBT_DEPT_ICD_MST a where GNUM_DEPT_CODE\=?\t and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?
																
ESSENTIAL.SUBGROUP.LIST.UNIT.WISE.HGBT_DEPT_ICD_MST=select distinct(HGBSTR_ICD_SUBGRP_CODE), (select HGBSTR_ICD_SUBGROUP from HGBT_ICD_SUBGROUP_MST where HGBSTR_ICD_SUBGRP_CODE\=a.HGBSTR_ICD_SUBGRP_CODE) from HGBT_DEPT_ICD_MST a where HGNUM_DEPTUNITCODE\=?\tand GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?
																
ESSENTIAL.DISEASE.LIST.DEPT.WISE.HGBT_DEPT_ICD_MST=select a.HGBSTR_DISEASE_CODE, b.HGBSTR_DISEASE from HGBT_DEPT_ICD_MST a,HGBT_ICD_DISEASE_MST b where GNUM_DEPT_CODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_DISEASE_CODE\=a.HGBSTR_DISEASE_CODE and b.HGBSTR_PARENT_CODE is null and a.GNUM_HOSPITAL_CODE\=? and b.HGNUM_RECORD_TYPE\=0
 													
ESSENTIAL.DISEASE.LIST.UNIT.WISE.HGBT_DEPT_ICD_MST=select a.HGBSTR_DISEASE_CODE, b.HGBSTR_DISEASE from HGBT_DEPT_ICD_MST a,HGBT_ICD_DISEASE_MST b where HGNUM_DEPTUNITCODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_DISEASE_CODE\=a.HGBSTR_DISEASE_CODE and b.HGBSTR_PARENT_CODE is null and a.GNUM_HOSPITAL_CODE\=?
															
ESSENTIAL.SUBDISEASE.LIST.DEPT.WISE.HGBT_DEPT_ICD_MST=select a.HGBSTR_DISEASE_CODE, b.HGBSTR_DISEASE from HGBT_DEPT_ICD_MST a,HGBT_ICD_DISEASE_MST b where GNUM_DEPT_CODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_DISEASE_CODE\=a.HGBSTR_DISEASE_CODE and b.HGBSTR_PARENT_CODE is not null and a.GNUM_HOSPITAL_CODE\=?
 													
ESSENTIAL.SUBDISEASE.LIST.UNIT.WISE.HGBT_DEPT_ICD_MST=select a.HGBSTR_DISEASE_CODE, b.HGBSTR_DISEASE from HGBT_DEPT_ICD_MST a,HGBT_ICD_DISEASE_MST b where HGNUM_DEPTUNITCODE\=? and a.GNUM_ISVALID\=? and b.HGBSTR_DISEASE_CODE\=a.HGBSTR_DISEASE_CODE and b.HGBSTR_PARENT_CODE is not null  and a.GNUM_HOSPITAL_CODE\=? ORDER BY HGBSTR_ICD_GROUP_CODE

ESSENTIAL.ALL_DEPT.GBLT_DEPARTMENT_MST=SELECT GNUM_DEPT_CODE, INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE  GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_DEPT_TYPE \= ? ORDER BY GSTR_DEPT_NAME
											
ESSENTIAL.ALL_SEATS.GBLT_SEAT_MST=SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE GDT_EFFECT_DATE<\=TRUNC(SYSDATE) and GNUM_ISVALID\=? ORDER BY GSTR_SEAT_NAME
											
ESSENTIAL.SYSTEM_DATE=						SELECT TO_CHAR(SYSDATE,'DD'),TO_CHAR(SYSDATE,'MM'), TO_CHAR(SYSDATE,'YYYY'),\
											TO_CHAR(SYSDATE,'HH'), TO_CHAR(SYSDATE,'MI'),TO_CHAR(SYSDATE,'SS') FROM DUAL
												
												
ESSENTIAL.SEATS_BY_DEPT.GBLT_SEAT_MST=SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE GDT_EFFECT_DATE<\=TRUNC(SYSDATE) AND GNUM_ISVALID\=? AND GNUM_DEPT_CODE\=? ORDER BY GSTR_SEAT_NAME
											
ESSENTIAL.MENUS_BY_TYPE.GBLT_DESK_MENU_MST=SELECT GNUM_DESK_MENU_ID,GSTR_DESK_MENU_NAME FROM GBLT_DESK_MENU_MST WHERE GNUM_ISVALID\=? AND GNUM_DESK_TYPE\=?\t\t\t\t\t\t\t\t\t\t
 
ESSENTIAL.MENUS_ALL.GBLT_DESK_MENU_MST=SELECT A.GNUM_DESK_MENU_ID,(SELECT B.GSTR_DESK_MENU_NAME FROM GBLT_DESK_MENU_MST  B WHERE B.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_DESK_MENU_ID \= B.GNUM_DESK_MENU_ID AND B.GNUM_ISVALID \= ? ) FROM    GBLT_DESKTYPE_MENU_MAPPING A  WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_DESK_TYPE \= ?   

SELECT.HRGT_DAILY_PATIENT_DTL.RETRIEVE_COUNT	=SELECT COUNT(*) FROM HRGT_DAILY_PATIENT_DTL A WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND TRUNC(GDT_ENTRY_DATE)\=TRUNC(SYSDATE) AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? AND HRGNUM_IS_CONFIRMED\=?
											 
SELECT.HRGT_DAILY_PATIENT_DTL.RETRIEVE_COUNT_ATTENDED_PAT=SELECT count(*) FROM hrgt_daily_patient_dtl a WHERE TRUNC (gdt_entry_date) \= TRUNC (SYSDATE) AND (hrgnum_is_confirmed \= ? or hrgnum_is_confirmed \= ?) AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? 
											 
ESSENTIAL.DIAGNOSIS.CODE.UNIT.WISE.HGBT_DEPT_ICD_MST=SELECT hgbstr_disease_code, (SELECT hgbstr_disease FROM HGBT_ICD_DISEASE_MST WHERE hgbstr_disease_code \= a.hgbstr_disease_code and HGNUM_RECORD_TYPE\=0) FROM HGBT_DEPT_ICD_MST a WHERE DECODE(HGNUM_DEPTUNITCODE,0,gnum_dept_code,HGNUM_DEPTUNITCODE)\= DECODE((SELECT COUNT(*) FROM HGBT_DEPT_ICD_MST WHERE HGNUM_DEPTUNITCODE\=?),0,SUBSTR (?, 4, 3),?) AND GNUM_ISVALID \= ?
														
ESSENTIAL.DIAGNOSIS.CODE.HGBT_ICD_DISEASE_MST=SELECT hgbstr_disease_code, hgbstr_disease FROM hgbt_icd_disease_mst WHERE gnum_isvalid \= ? AND HGNUM_RECORD_TYPE\=0\t\t\t\t\t\t\t\t\t\t\t\t\t\t


ESSENTIAL.DIAGNOSIS_CODE_ONLY.HGBT_ICD_DISEASE_MST =SELECT hgbstr_disease_code as value, hgbstr_disease_code as label FROM hgbt_icd_disease_mst WHERE gnum_isvalid \= ? AND HGNUM_RECORD_TYPE\=0\tORDER BY value\t\t\t\t\t\t\t\t\t\t\t\t\t

 														
SELECT.BY.ICD.CODE.HGBT_DEPT_ICD_MST=SELECT hgbstr_disease_code, hgbstr_disease FROM hgbt_icd_disease_mst WHERE hgbstr_disease_code LIKE UPPER (?) AND gnum_isvalid \= ? AND HGNUM_RECORD_TYPE<>2 order by hgbstr_disease_code
   											
SELECT.BY.DISEASE.NAME.HGBT_DEPT_ICD_MST=SELECT hgbstr_disease_code, hgbstr_disease FROM hgbt_icd_disease_mst WHERE upper(hgbstr_disease) LIKE UPPER('%'||?||'%') AND gnum_isvalid \= ? AND HGNUM_RECORD_TYPE<>2 order by hgbstr_disease\t

SELECT.SEARCH_BY_ICD_CODE.HGBT_DEPT_ICD_MST	=SELECT HGBSTR_DISEASE_CODE || DECODE(HGNUM_RECORD_TYPE,1,' (I)',2,' (E)',3,' (S)','') AS diseaseCode, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, HGBSTR_DISEASE AS disease, HGBSTR_DISEASE AS fullDiseaseName, HGBSTR_PARENT_CODE AS parentCode, HGNUM_RECORD_TYPE AS recordType, GBL_ISCOMMON AS isCommon, HGBSTR_DISEASE_REMARK AS diseaseRemark, HBSTR_MAIN_DISEASE AS mainDisease, HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode, (SELECT COUNT(*) FROM HGBT_ICD_DISEASE_MST WHERE HGBSTR_PARENT_CODE\=X.HGBSTR_DISEASE_CODE AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE<>2) AS haveChildren FROM HGBT_ICD_DISEASE_MST X WHERE HGBSTR_DISEASE_CODE LIKE UPPER (?) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE<>2 ORDER BY HGBSTR_DISEASE_CODE
   											
SELECT.SEARCH_BY_ICD_NAME.HGBT_DEPT_ICD_MST	=SELECT HGBSTR_DISEASE_CODE || DECODE(HGNUM_RECORD_TYPE,1,' (I)',2,' (E)',3,' (S)','') AS diseaseCode, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, HGBSTR_DISEASE AS disease, HGBSTR_DISEASE AS fullDiseaseName, HGBSTR_PARENT_CODE AS parentCode, HGNUM_RECORD_TYPE AS recordType, GBL_ISCOMMON AS isCommon, HGBSTR_DISEASE_REMARK AS diseaseRemark, HBSTR_MAIN_DISEASE AS mainDisease, HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode, (SELECT COUNT(*) FROM HGBT_ICD_DISEASE_MST WHERE HGBSTR_PARENT_CODE\=X.HGBSTR_DISEASE_CODE AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE<>2) AS haveChildren FROM HGBT_ICD_DISEASE_MST X WHERE UPPER(HGBSTR_DISEASE) LIKE UPPER('%'||?||'%') AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE<>2 ORDER BY HGBSTR_DISEASE_CODE

SELECT.SUB_DISEASE_BY_PARENT_ICD_CODE.HGBT_DEPT_ICD_MST	=SELECT HGBSTR_DISEASE_CODE || DECODE(HGNUM_RECORD_TYPE,1,' (I)',2,' (E)',3,' (S)','') AS diseaseCode, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, HGBSTR_DISEASE AS disease, HGBSTR_DISEASE AS fullDiseaseName, HGBSTR_PARENT_CODE AS parentCode, HGNUM_RECORD_TYPE AS recordType, GBL_ISCOMMON AS isCommon, HGBSTR_DISEASE_REMARK AS diseaseRemark, HBSTR_MAIN_DISEASE AS mainDisease, HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode FROM HGBT_ICD_DISEASE_MST WHERE HGBSTR_PARENT_CODE IS NOT NULL AND HGBSTR_PARENT_CODE \= ? AND GNUM_ISVALID \= ? AND HGNUM_RECORD_TYPE<>2 ORDER BY HGBSTR_DISEASE_CODE

SELECT.BY.HOSPITAL.DIAGNOSIS.CODE.HGBT_HOSPITAL_DISEASE_MST=SELECT HGBSTR_HOSPITAL_DISEASE_CODE, HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE UPPER(TRIM(HGBSTR_HOSPITAL_DISEASE_CODE)) LIKE UPPER(TRIM(?)) AND gnum_hospital_code \= ? AND GNUM_ISVALID \= ?
 																
SELECT.BY.HOSPITAL.DIAGNOSIS.NAME.HGBT_HOSPITAL_DISEASE_MST=SELECT HGBSTR_HOSPITAL_DISEASE_CODE, HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE UPPER(TRIM(HGBSTR_DISEASE_DESC)) LIKE UPPER( TRIM(?)) AND gnum_hospital_code \= ?\tAND GNUM_ISVALID \= ?\t\t\t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t\t

ESSENTIAL.ALL_UNIT.HGBT_UNIT_MST=SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'

SELECT.UNITS_NOT_ASSIGNED_DESK.GBLT_SEAT_MST =SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE TRUNC(GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND GNUM_SEATID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HGNUM_DEPTUNITCODE IN (@) AND GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE \= ? ORDER BY INITCAP(GSTR_SEAT_NAME)
####Commented by Chetan  Dated 2015-11-18
SELECT.UNITS_NOT_ASSIGNED_DESK.GBLT_USER_MST_old =SELECT GNUM_USERID, INITCAP(GSTR_USER_NAME) FROM GBLT_USER_MST WHERE GNUM_USER_SEATID IN (SELECT GNUM_SEATID FROM GBLT_SEAT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE\=?) AND GNUM_USERID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HGNUM_DEPTUNITCODE IN (@) AND HIPNUM_WARD_CODE IS NULL AND GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY INITCAP(GSTR_USER_NAME)

#### Change as per Global Mapping Concept By Chetan  Dated 2015-11-18
SELECT.UNITS_NOT_ASSIGNED_DESK.GBLT_USER_MST =SELECT GNUM_USERID, INITCAP(GSTR_USER_NAME) FROM GBLT_USER_MST WHERE GNUM_USER_SEATID IN (SELECT GNUM_SEATID FROM GBLT_SEAT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE\=?) AND GNUM_USERID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HIPNUM_WARD_CODE IS NULL AND GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY INITCAP(GSTR_USER_NAME)


SELECT.DESK_BY_TYPE.GBLT_DESK_MST 		=SELECT GNUM_DESK_ID, INITCAP(GSTR_DESK_NAME) FROM GBLT_DESK_MST WHERE GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_ISDEFAULT_DESK\=? ORDER BY INITCAP(GSTR_DESK_NAME)
											
SELECT.DESK_BASEDON_TYPE.GBLT_DESK_MST 		=SELECT GNUM_DESK_ID, INITCAP(GSTR_DESK_NAME) FROM GBLT_DESK_MST WHERE GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID \=? ORDER BY INITCAP(GSTR_DESK_NAME)\t\t\t\t\t\t\t\t\t\t\t
 	  
#MODIFIED ON 09.09.2016
SELECT.PREVIOUS.DIAGNOSIS.HRGT_EPISODE_DIAGNOSIS_DTL=SELECT hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode, hrgnum_diagnostic_code AS diagnosticcode, DECODE (hrgnum_diagnosis_code_type, 1, (SELECT hgbstr_disease FROM hgbt_icd_disease_mst WHERE TRIM(hgbstr_disease_code) \=TRIM(a.hrgnum_diagnostic_code) and HGNUM_RECORD_TYPE\=0) || '(' || hrgnum_diagnostic_code ||')', 2, HRGSTR_DIAGNOSTIC_NAME || '(' || hrgnum_diagnostic_code ||')', HRGSTR_DIAGNOSTIC_NAME ) AS dignosisname, gnum_diagnostic_type_code AS diagnostictypecode, (SELECT HGBSTR_DIAGNOSTIC_TYPE_NAME FROM HGBT_DIAGNOSIS_TYPE_MST WHERE a.gnum_diagnostic_type_code \= HGBNUM_DIAGNOSTIC_TYPE_CODE AND gnum_hospital_code \= ?) AS diagnostictypename, hrgstr_remarks AS remarks, hrgnum_diagnosis_code_type AS diagnosiscodetype, decode(hrgnum_diagnosis_code_type,1,'ICD',2,'Hospital', 3,'SNOMED-CT') AS diagnosiscodeLabel, hrgnum_episode_code AS episodecode, hrgnum_s_no AS serialno, hrgnum_admission_no AS admissionno, hrgnum_visit_no AS episodevisitno, gnum_seat_id AS seatid, TO_CHAR (hrgt_episode_date, 'dd-Mon-yyyy') AS episodedate, TO_CHAR (gdt_entry_date, 'dd-Mon-yyyy') AS entrydate,HBNUM_ISREPEAT as isRepeat, HGNUM_DISEASE_SITE_ID as diagnosisSite, DECODE (hrgnum_diagnosis_code_type, 1, (SELECT HGSTR_DISEASE_SITE FROM HGBT_DISEASE_SITE_MST WHERE HGNUM_DISEASE_SITE_ID\=a.HGNUM_DISEASE_SITE_ID AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=a.GNUM_ISVALID),2, (SELECT HGSTR_DISEASE_SITE FROM HGBT_DISEASE_SITE_MST WHERE HGNUM_DISEASE_SITE_ID\=a.HGNUM_DISEASE_SITE_ID AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=a.GNUM_ISVALID), 3, HGSTR_DISEASE_SITE) AS diagnosisSiteLabel FROM hrgt_episode_diagnosis_dtl a WHERE hrgnum_puk \= ? AND hrgnum_episode_code \= ? AND gnum_hospital_code \= ? ORDER BY hrgnum_visit_no, hrgnum_s_no

# disease name--> 1, (SELECT HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE TRIM(HGBSTR_HOSPITAL_DISEASE_CODE) =TRIM(a.hrgnum_diagnostic_code) AND gnum_hospital_code = 100)      

     											
ESSENTIAL.HOSPITAL.DIAGNOSIS.CODE.HGBT_HOSPITAL_DISEASE_MST=SELECT HGBSTR_HOSPITAL_DISEASE_CODE, HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE gnum_seat_id \= ? AND gnum_isvalid \= ? AND gnum_hospital_code \= ?

ESSENTIAL.ALL_HOSPITAL_DIAGNOSIS.HGBT_HOSPITAL_DISEASE_MST	=SELECT HGBSTR_HOSPITAL_DISEASE_CODE, HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?
 																
 																
ESSENTIAL.DIAGNOSIS.CODE.HGBT_HOSPITAL_DISEASE_MST=	SELECT HGBSTR_HOSPITAL_DISEASE_CODE, HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE  gnum_isvalid = ? AND gnum_hospital_code = ?
 																
ESSENTIAL.DOCTOR_LIST.HOPT_CONSULTATION_DTL=SELECT   b.str_emp_no AS empno,b.str_emp_full_name || ' (' || gstr_user_name || ')' as empname, gnum_userid AS userid  FROM PIST_EMP_REGISTRATION_DTL b, gblt_user_mst a WHERE b.gnum_hospital_code \= a.gnum_hospital_code AND b.str_emp_no \= a.psrstr_emp_no AND b.gnum_desig_code IN ( SELECT gnum_desig_code FROM hgbt_doctor_desig_mapping WHERE hgnum_process_type \= ? AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) AND a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? ORDER BY empname
											
ESSENTIALS.DOCTOR_LIST_WITH_SEADTID_EMPNO.HOPT_CONSULTATION_DTL=SELECT a.PSRSTR_EMP_NO,GNUM_USERID FROM GBLT_USER_MST A, PSRT_EMPLOYEE_MST B WHERE a.PSRSTR_EMP_NO\=b.PSRSTR_EMP_NO\t\t\t\t\t\t\t\t\t\t\t


SELECT.DOCTOR_DETAIL_BY_SEATID.GBLT_USER_MST=SELECT a.PSRSTR_EMP_NO,INITCAP(GSTR_USER_NAME) FROM GBLT_USER_MST A WHERE GNUM_USER_SEATID\=?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t\t\t
											 
SELECT.ALLERGY_TYPE.HGBT_ALLERGY_TYPE_MST=SELECT HGNUM_ALLERGY_TYPE_CODE, HGSTR_ALLERGY_TYPE FROM HGBT_ALLERGY_TYPE_MST WHERE gnum_isvalid \= ?\tand gnum_hospital_code \= ? ORDER BY hgstr_allergy_type
  												
SELECT.ALLERGY_REASON.HGBT_ALLERGY_MST=SELECT HGNUM_ALLERGY_ID, HGSTR_ALLERGY_NAME FROM HGBT_ALLERGY_MST WHERE HGNUM_ALLERGY_TYPE_CODE \= ? AND gnum_isvalid \= ? and gnum_hospital_code \= ? order by hgstr_allergy_name
 													
SELECT.ALLERGY_SENSITIVITY.HGBT_ALLERGY_SENSITIVITY_MST=SELECT HGNUM_SENSITIVITY_CODE, HGSTR_SENSITIVITY_TYPE FROM HGBT_ALLERGY_SENSITIVITY_MST WHERE gnum_isvalid \= ? and gnum_hospital_code \= ? order by HGSTR_SENSITIVITY_TYPE\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 


SELECT.ACTIVITY.HAPT_ACTIVITY_MST	   =SELECT HAPNUM_ACTIVITY_CODE actCode,HAPSTR_ACTIVITY_NAME actName FROM HAPT_ACTIVITY_MST WHERE GNUM_ISVALID\=1 AND HAPNUM_ACTIVITY_CODE\=?             
            				
								
			
								
SELECT.PARALIST.1.HAPT_ACTIVITY_PARA_MST  = SELECT HAPNUM_PARA_CODE FROM HAPT_ACTIVITY_PARA_MST WHERE GNUM_ISVALID \= 1 AND HAPNUM_ACTIVITY_CODE \=? AND HAPNUM_PARA_LEVEL \=?
                         
SELECT.PARALIST.2.HAPT_PARAMETER_MST  = SELECT INITCAP(HAPSTR_PARA_NAME),HAPSTR_TABLE_NAME,HAPSTR_COLUMN_LIST FROM HAPT_PARAMETER_MST WHERE GNUM_ISVALID \= 1 AND HAPNUM_PARA_CODE \= ?


                         
SELECT.NEXT.SLOT.DATE.HAPT_SLOT_DTL	=SELECT  TO_CHAR(HAPDT_SLOT_DATE,'DD MON, YYYY') SLOTDATE FROM HAPT_SLOT_DTL WHERE HAPDT_SLOT_DATE>SYSDATE AND HAPNUM_ACT_APT_CODE \=(SELECT HAPNUM_ACT_APT_CODE FROM HAPT_APPOINTMENT_PARA_MST WHERE HAPNUM_ACTIVITY_CODE \= ? ^) ORDER BY HAPDT_SLOT_DATE                         
                         
SELECT.SLOT.DTL.HAPT_SLOT_DTL	   =SELECT HAPNUM_ACT_APT_CODE aptActCode,HAPNUM_SLOT_CODE slotCode,(HAPNUM_MAX_PSN-HAPNUM_TOT_APT_PSN) aptPersonLeft, HAPNUM_TOT_APT_PSN totAptPersons, TO_CHAR (HAPDT_START_TIME, 'HH\:MI\:AM') slotStartTime,TO_CHAR (HAPDT_END_TIME, 'HH\:MI\:AM') slotEndTime FROM HAPT_SLOT_DTL WHERE  TO_DATE(HAPDT_SLOT_DATE,'DD-MM-YY') \= TO_DATE('?', 'DD-MM-YY') AND  HAPNUM_TOT_APT_PSN< HAPNUM_MAX_PSN AND HAPNUM_SLOT_STATUS\=@ AND HAPNUM_ACT_APT_CODE \=(SELECT HAPNUM_ACT_APT_CODE FROM HAPT_APPOINTMENT_PARA_MST WHERE HAPNUM_ACTIVITY_CODE\=$ AND ^) ORDER BY HAPNUM_SLOT_CODE
										 ahis
										 

#SELECT.ALL.CONSULTATION.HOPT_CONSULTATION_DTL=SELECT   hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode,hrgnum_visit_no AS episodevisitno, hrgnum_req_id AS mailrequestid,hopstr_subject AS subject, hrgnum_par_req_id AS mailparentrequestid, hopstr_content AS content, hopnum_mail_type AS mailtype,hopstr_from_doct_code AS fromdoctorcode,pkg_bloodbank_mst.emp_name_useridwise(gnum_hospital_code,hopnum_from_doct_seatid) || '(' || (SELECT gstr_user_name FROM gblt_user_mst b WHERE gnum_isvalid \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND gnum_userid \= hopnum_from_doct_seatid) || ')' AS fromdoctor,pkg_bloodbank_mst.emp_name_useridwise(gnum_hospital_code,hopnum_to_doct_seatid) || '(' || (SELECT gstr_user_name FROM gblt_user_mst b WHERE gnum_isvalid \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND gnum_userid \= hopnum_to_doct_seatid) || ')' AS todoctor, hopnum_from_doct_seatid AS fromdoctorseatid,hopstr_to_doct_code AS todoctorcode,hopnum_to_doct_seatid AS todoctorseatid,TO_CHAR (hopdt_sent_date, 'dd-Mon-yyyy') AS sentdate,TO_CHAR (hopdt_receive_date, 'dd-Mon-yyyy') AS receivedate, hopnum_ack_status AS ackstatus FROM hopt_consultation_dtl a WHERE hopnum_to_doct_seatid \= ? AND (hopnum_ack_status \= ? OR hopnum_ack_status \= ?) AND gnum_hospital_code \= ? ORDER BY hopdt_sent_date desc\t\t\t\t\t\t\t\t\t\t  

#Modified by Vqasu on 26.Feb.2019
#SELECT.ALL.CONSULTATION.HOPT_CONSULTATION_DTL=SELECT   hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode,hrgnum_visit_no AS episodevisitno, hrgnum_req_id AS mailrequestid,hopstr_subject AS subject, hrgnum_par_req_id AS mailparentrequestid, hopstr_content AS content, hopnum_mail_type AS mailtype,hopstr_from_doct_code AS fromdoctorcode,pkg_bloodbank_mst.emp_name_useridwise(gnum_hospital_code,hopnum_from_doct_seatid)  || (SELECT gstr_user_name FROM gblt_user_mst b WHERE gnum_isvalid \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND gnum_userid \= hopnum_from_doct_seatid)  AS fromdoctor,HOPSTR_TO_DOCT_NAME AS todoctor, hopnum_from_doct_seatid AS fromdoctorseatid,hopstr_to_doct_code AS todoctorcode,hopnum_to_doct_seatid AS todoctorseatid,TO_CHAR (hopdt_sent_date, 'dd-Mon-yyyy') AS sentdate,TO_CHAR (hopdt_receive_date, 'dd-Mon-yyyy') AS receivedate, hopnum_ack_status AS ackstatus,(select DECODE(hopnum_to_user_type,1,'Doctor',2,' Unit',null))receiver FROM hopt_consultation_dtl a WHERE hopnum_to_doct_seatid \= ?   OR hopstr_to_doct_code IN (select hgnum_deptunitcode from hgbt_unit_consultant_mst where hgstr_emp_code\=? and gnum_hospital_code\=a.gnum_hospital_code and gnum_isvalid\=1) AND (hopnum_ack_status \= ? OR hopnum_ack_status \= ?) AND gnum_hospital_code \= ? ORDER BY hopdt_sent_date desc\t\t\t\t\t\t\t\t\t\t  
SELECT.ALL.CONSULTATION.HOPT_CONSULTATION_DTL=SELECT   hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode,hrgnum_visit_no AS episodevisitno, hrgnum_req_id AS mailrequestid,hopstr_subject AS subject, hrgnum_par_req_id AS mailparentrequestid, hopstr_content AS content, hopnum_mail_type AS mailtype,hopstr_from_doct_code AS fromdoctorcode,pkg_bloodbank_mst.emp_name_useridwise(gnum_hospital_code,hopnum_from_doct_seatid)  || (SELECT gstr_user_name FROM gblt_user_mst b WHERE gnum_isvalid \= ? AND b.gnum_hospital_code \= a.gnum_hospital_code AND gnum_userid \= hopnum_from_doct_seatid)  AS fromdoctor,HOPSTR_TO_DOCT_NAME AS todoctor, hopnum_from_doct_seatid AS fromdoctorseatid,hopstr_to_doct_code AS todoctorcode,hopnum_to_doct_seatid AS todoctorseatid,TO_CHAR (hopdt_sent_date, 'dd-Mon-yyyy') AS sentdate,TO_CHAR (hopdt_receive_date, 'dd-Mon-yyyy') AS receivedate, hopnum_ack_status AS ackstatus,(select DECODE(hopnum_to_user_type,1,'Doctor',2,' Unit',null))receiver FROM hopt_consultation_dtl a WHERE hopnum_to_doct_seatid \= ? AND (hopnum_ack_status \= ? OR hopnum_ack_status \= ?) AND gnum_hospital_code \= ? ORDER BY hopdt_sent_date desc\t\t\t\t\t\t\t\t\t\t  


SELECT.ALL_PARAMETERS.HGBT_PARAMETER_MST	=SELECT HGSTR_PARA_ID,INITCAP(HGSTR_PARA_NAME) FROM HGBT_PARAMETER_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY INITCAP(HGSTR_PARA_NAME) 
											  
SELECT.ALL_TEMPLATE.HGBT_TEMPLATE_MST	=SELECT DISTINCT HGNUM_TEMPLATE_ID, HGSTR_TEMPLATE_NAME FROM HGBT_TEMPLATE_MST WHERE TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY HGNUM_TEMPLATE_ID

SELECT.PARA_LIST_BY_TEMP_ID.HGBT_TEMPLATE_PARA_MST	=SELECT A.HGSTR_PARA_ID, A.HGSTR_PARA_NAME FROM HGBT_PARAMETER_MST A, HGBT_TEMPLATE_PARA_MST B WHERE A.HGSTR_PARA_ID\=B.HGSTR_PARA_ID AND B.HGNUM_TEMPLATE_ID\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=?\t\t\t\t\t\t\t\t\t\t\t  

SELECT.ALL_PARA_BY_TEMP_ID.HGBT_TEMPLATE_PARA_MST	=SELECT HGNUM_TEMPLATE_ID,HGSTR_PARA_ID,HGSTR_PARENT_PARA_ID,HGNUM_LOCATION_ID,HGNUM_ROW_ID,HGNUM_COL_ID,HGSTR_VALUE_OBJ_ID,HGSTR_VALUE_OBJ_PROP,HGSTR_PARA_VALUE,HGNUM_SOURCE_FLAG,HGSTR_TABLE_QUERY,HGNUM_COLSPAN,HGNUM_ISCOMPULSORY,HGNUM_ISRANGE FROM HGBT_TEMPLATE_PARA_MST WHERE HGNUM_TEMPLATE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?

SELECT.CRNO_LIST.HOPT_PATIENT_PARA_DTL	=	SELECT DISTINCT HRGNUM_PUK, HRGNUM_PUK FROM HOPT_PATIENT_PARA_DTL

SELECT.ALL_TEMP_BY_CRNO.HOPT_PATIENT_PARA_DTL	=SELECT DISTINCT A.HGNUM_TEMPLATE_ID,HGSTR_TEMPLATE_NAME FROM HGBT_TEMPLATE_MST A,HOPT_PATIENT_PARA_DTL B WHERE A.HGNUM_TEMPLATE_ID \=B.HGNUM_TEMPLATE_ID AND HRGNUM_PUK\=?
												
SELECT.PARA_LIST_BY_CRNO.HOPT_PATIENT_PARA_DTL	=	SELECT HGNUM_PARA_ID FROM HOPT_PATIENT_PARA_DTL WHERE HRGNUM_PUK=?

SELECT.PARA_IN_LIST.HGBT_PARAMETER_MST	=	SELECT DISTINCT HGSTR_PARA_ID,HGSTR_PARA_NAME FROM HGBT_PARAMETER_MST WHERE HGSTR_PARA_ID IN (@)

SELECT.ACTUAL_TEMP.HOPT_PATIENT_PARA_DTL	=SELECT  DISTINCT HGNUM_TEMPLATE_ID FROM HOPT_PATIENT_PARA_DTL WHERE HRGNUM_PUK\=?  AND (0\=1 @)

SELECT.ACTUAL_PARA_VALUES.HOPT_PATIENT_PARA_DTL	=	SELECT  COUNT(*) FROM HOPT_PATIENT_PARA_DTL WHERE HRGNUM_PUK=? @

SELECT.VALUES_BY_CRNO.HOPT_PATIENT_PARA_DTL	=	SELECT HGNUM_PARA_ID ,HGSTR_PARA_VALUE FROM HOPT_PATIENT_PARA_DTL WHERE HRGNUM_PUK=?

#changed by Akash Singh, dated on 01-10-2015, due to mongoDb changes for document upload process
SELECT.DOCMENT_DETAIL_BY_CRNO.HOPT_DOC_UPLOAD_DTL_OLD=SELECT a.HRGSTR_DOC_TITLE AS documenttitle,TO_CHAR(a.gdt_entry_date,'dd-Mon-yyyy hh24\:mi') AS entrydate, HRGSTR_DOCUMENT_ID as documentName,a.HRGSTR_DIR_PATH as documentDirectoryPath,GNUM_FILE_TYPE as fileType FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=? and HRGNUM_EPISODE_CODE\=?


SELECT.DOCMENT_DETAIL_BY_CRNO.HOPT_DOC_UPLOAD_DTL= SELECT a.GDT_ENTRY_DATE, HRGSTR_DOCUMENT_ID as documentName, a.HRGSTR_DOC_TITLE AS documenttitle, a.hrgnum_episode_code AS episodecode, a.hrgnum_visit_no AS episodevisitno,to_char(a.gdt_entry_date ,'dd-Mon-yyyy hh24:mi') AS entrydate, (SELECT hgnum_deptunitcode FROM hrgt_episode_dtl WHERE hrgnum_puk = a.hrgnum_puk  AND hrgnum_episode_code = a.hrgnum_episode_code  AND hrgnum_visit_no = a.hrgnum_visit_no  AND gnum_isvalid = a.gnum_isvalid AND gnum_hospital_code = a.gnum_hospital_code) AS departmentunitcode, hrgnum_admission_no AS patadmno, a.gnum_hospital_code as hospitalCode,a.gdt_entry_date as generationDate,a.HRGSTR_DIR_PATH as documentDirectoryPath,(SELECT X.hpmrstr_flag_desc FROM hpmrt_flag_mst X WHERE X.hpmrnum_table_id = 10 AND X.hpmrnum_flag_value = GNUM_FILE_TYPE) as fileType,hrgstr_document_id as documentCode FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE a.hrgnum_puk = ? AND a.gnum_isvalid = 1 Order by 1

#SELECT documenttitle,entrydate,documentName,documentDirectoryPath,fileType,documentCode,documentDirectoryPath1 AS documentDirectoryPath FROM(SELECT a.HRGSTR_DOC_TITLE AS documenttitle,TO_CHAR(a.gdt_entry_date,'dd-Mon-yyyy hh24\:mi') AS entrydate, HRGSTR_DOCUMENT_ID as documentName,a.HRGSTR_DIR_PATH as documentDirectoryPath, (SELECT X.hpmrstr_flag_desc FROM hpmrt_flag_mst X WHERE X.hpmrnum_table_id \= 10 AND X.hpmrnum_flag_value \= GNUM_FILE_TYPE) as fileType, hrgstr_document_id as documentCode , hrgstr_dir_path as documentDirectoryPath1  FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=? and HRGNUM_EPISODE_CODE\=? UNION SELECT a.HRGSTR_DOC_TITLE AS documenttitle,TO_CHAR(a.gdt_entry_date,'dd-Mon-yyyy hh24\:mi') AS entrydate, HRGSTR_DOCUMENT_ID as documentName,a.HRGSTR_DIR_PATH as documentDirectoryPath, (SELECT X.hpmrstr_flag_desc FROM hpmrt_flag_mst X WHERE X.hpmrnum_table_id \= 10 AND X.hpmrnum_flag_value \= GNUM_FILE_TYPE) as fileType, hrgstr_document_id as documentCode , hrgstr_dir_path as documentDirectoryPath1  FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=? and HRGNUM_EPISODE_CODE\=NULL )ORDER BY TO_DATE(entrydate,'dd-Mon-yyyy hh24\:mi') DESC


SELECT.DOCMENT_DETAIL_BY_CRNO.HOPT_DOC_UPLOAD_DTL_OLD2=SELECT a.HRGSTR_DOC_TITLE AS documenttitle,TO_CHAR(a.gdt_entry_date,'dd-Mon-yyyy hh24\:mi') AS entrydate, HRGSTR_DOCUMENT_ID as documentName,a.HRGSTR_DIR_PATH as documentDirectoryPath,GNUM_FILE_TYPE as fileType, hrgstr_document_id as documentCode , hrgstr_dir_path as documentDirectoryPath  FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=? and HRGNUM_EPISODE_CODE\=? UNION SELECT a.HRGSTR_DOC_TITLE AS documenttitle,TO_CHAR(a.gdt_entry_date,'dd-Mon-yyyy hh24\:mi') AS entrydate, HRGSTR_DOCUMENT_ID as documentName,a.HRGSTR_DIR_PATH as documentDirectoryPath,GNUM_FILE_TYPE as fileType, hrgstr_document_id as documentCode , hrgstr_dir_path as documentDirectoryPath FROM HRGT_PATIENT_DOCUMENT_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=? and HRGNUM_EPISODE_CODE\=NULL 



OPD_ESSENTIAL.GBLT_VERIFICATION_DOCUMENT_MST=SELECT gnum_document_code, gstr_document_name FROM gblt_verification_document_mst WHERE gnum_isvalid = ?

SELECT.TEMPIDS_BY_SEATUNITMENU.GBLT_USER_DESKMENU_TEMPLATE	=SELECT DISTINCT A.HGNUM_TEMPLATE_ID ||'\#'|| A.HGNUM_ISDEFAULT, B.HGSTR_TEMPLATE_NAME FROM GBLT_USER_DESKMENU_TEMPLATE A, HGBT_TEMPLATE_MST B WHERE A.HGNUM_TEMPLATE_ID\=B.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_USERSEAT_ID\=? AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DESK_MENU_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=?

ESSENTIAL.ALL_USER_DESKMENU_UNIT.HGBT_UNIT_MST=SELECT DISTINCT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B, GBLT_USER_DESKMENU_MST C WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE\=C.HGNUM_DEPTUNITCODE AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
										
SELECT.USERDESK_SEATS_IN_UNITS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_USERSEAT_ID AS userSeatId, INITCAP(B.GSTR_SEAT_NAME) AS seatName FROM GBLT_SEAT_MST B, (SELECT GNUM_USERSEAT_ID FROM (SELECT DISTINCT GNUM_USERSEAT_ID,HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_MST WHERE hgnum_deptunitcode IN (@) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) GROUP BY GNUM_USERSEAT_ID HAVING COUNT(HGNUM_DEPTUNITCODE)\=\#) A WHERE A.GNUM_USERSEAT_ID\=B.GNUM_SEATID AND TRUNC(B.GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND B.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=?

SELECT.USERDESK_SEATS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_USERSEAT_ID, INITCAP (b.gstr_seat_name) AS seatname FROM GBLT_SEAT_MST b, (SELECT   gnum_userseat_id FROM (SELECT DISTINCT gnum_userseat_id, hipnum_ward_code FROM GBLT_USER_DESKMENU_MST WHERE gnum_userseat_id IS NOT NULL AND hipnum_ward_code IN (@) AND hgnum_deptunitcode \= ? AND gnum_hospital_code \= ? AND gnum_isvalid \= ?) GROUP BY gnum_userseat_id HAVING COUNT (hipnum_ward_code) \= *) a WHERE a.gnum_userseat_id \= b.gnum_seatid AND TRUNC (b.gdt_effect_date) <\= TRUNC (SYSDATE) AND b.gnum_hospital_code \= ? AND b.gnum_isvalid \= ?

SELECT.USERDESK_SEATSFORMODIFY.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_USERSEAT_ID,A.HGNUM_DEPTUNITCODE,b.GSTR_SEAT_NAME FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_SEAT_MST B WHERE a.GNUM_SLNO \=? AND a.GNUM_USERSEAT_ID\=b.GNUM_SEATID AND a.GNUM_HOSPITAL_CODE \= ?



										
SELECT.USERDESK_WARDS.GBLT_USER_DESKMENU_MST = SELECT a.HIPNUM_WARD_CODE, a.hgnum_deptunitcode, b.HIPSTR_WARD_NAME FROM GBLT_USER_DESKMENU_TEMPLATE a, HIPT_WARD_MST b WHERE a.gnum_slno \= ? AND a.gnum_hospital_code \= ? AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.HIPNUM_WARD_CODE\=b.HIPNUM_WARD_CODE\t\t\t\t\t\t\t\t


SELECT.USERDESK_DESKS_IN_UNITSSEATS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_DESK_ID, INITCAP(B.GSTR_DESK_NAME) FROM GBLT_DESK_MST B, (SELECT DISTINCT GNUM_DESK_ID FROM(SELECT GNUM_DESK_ID,GNUM_USERSEAT_ID FROM (SELECT DISTINCT GNUM_DESK_ID,GNUM_USERSEAT_ID,HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_MST WHERE HGNUM_DEPTUNITCODE IN (@) AND GNUM_USERSEAT_ID IN (%) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) GROUP BY GNUM_DESK_ID,GNUM_USERSEAT_ID HAVING COUNT(HGNUM_DEPTUNITCODE)\=\#) GROUP BY GNUM_DESK_ID HAVING COUNT(GNUM_USERSEAT_ID)\=*) A WHERE A.GNUM_DESK_ID\=B.GNUM_DESK_ID
									
SELECT.USERDESK_DESKS_IN_UNITSWARDS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_DESK_ID, INITCAP (B.GSTR_DESK_NAME) FROM GBLT_DESK_MST B, (SELECT DISTINCT GNUM_DESK_ID FROM (SELECT GNUM_DESK_ID, HIPNUM_WARD_CODE FROM (SELECT DISTINCT GNUM_DESK_ID, HIPNUM_WARD_CODE, HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_MST WHERE HGNUM_DEPTUNITCODE IN (@) AND HIPNUM_WARD_CODE IN (%) AND GNUM_USERSEAT_ID IS NULL AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ?)GROUP BY GNUM_DESK_ID, HIPNUM_WARD_CODE HAVING COUNT (HGNUM_DEPTUNITCODE) \= \#) GROUP BY GNUM_DESK_ID HAVING COUNT (HIPNUM_WARD_CODE) \= *) A WHERE A.GNUM_DESK_ID \= B.GNUM_DESK_ID

SELECT.USERDESK_DESKS_IN_UNITSWARDSSEAT.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_DESK_ID, INITCAP (B.GSTR_DESK_NAME) FROM GBLT_DESK_MST B, (SELECT DISTINCT GNUM_DESK_ID FROM (SELECT GNUM_DESK_ID, GNUM_USERSEAT_ID FROM (SELECT DISTINCT GNUM_DESK_ID, GNUM_USERSEAT_ID, HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_MST WHERE HIPNUM_WARD_CODE IN (@) AND GNUM_USERSEAT_ID IN (\#) AND HGNUM_DEPTUNITCODE \=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) GROUP BY GNUM_DESK_ID, GNUM_USERSEAT_ID HAVING COUNT(HIPNUM_WARD_CODE)\=*) GROUP BY GNUM_DESK_ID HAVING COUNT(GNUM_USERSEAT_ID)\=%) A WHERE A.GNUM_DESK_ID \= B.GNUM_DESK_ID AND B.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=?
								

SELECT.WARDS_INALLUNITS_NOTSEAT.GBLT_USER_DESKMENU_MST = SELECT a.hipnum_ward_code, b.hipstr_ward_name FROM HIPT_WARD_MST b, (SELECT DISTINCT hipnum_ward_code FROM (SELECT DISTINCT hipnum_ward_code, hgnum_deptunitcode FROM GBLT_USER_DESKMENU_MST WHERE hgnum_deptunitcode IN (@) AND hipnum_ward_code IS NOT NULL AND gnum_userseat_id IS NULL AND gnum_hospital_code \= ? AND gnum_isvalid \= ?) GROUP BY hipnum_ward_code HAVING COUNT (hgnum_deptunitcode) \= \#) a WHERE a.hipnum_ward_code \= b.hipnum_ward_code

SELECT.WARDS_INALLUNITS.GBLT_USER_DESKMENU_MST = SELECT a.hipnum_ward_code, b.hipstr_ward_name FROM HIPT_WARD_MST b, (SELECT DISTINCT hipnum_ward_code FROM (SELECT DISTINCT hipnum_ward_code, hgnum_deptunitcode FROM GBLT_USER_DESKMENU_MST WHERE hgnum_deptunitcode IN (@) AND hipnum_ward_code IS NOT NULL AND gnum_userseat_id IS NOT NULL AND gnum_hospital_code \= ? AND gnum_isvalid \= ?) GROUP BY hipnum_ward_code HAVING COUNT (hgnum_deptunitcode) \= \#) a WHERE a.hipnum_ward_code \= b.hipnum_ward_code



SELECT.DESKS_INALLUNITS_NOTSEAT.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_DESK_ID, INITCAP(B.GSTR_DESK_NAME) FROM GBLT_DESK_MST B, (SELECT DISTINCT GNUM_DESK_ID FROM (SELECT DISTINCT GNUM_DESK_ID,HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_MST WHERE HGNUM_DEPTUNITCODE IN (@) AND GNUM_USERSEAT_ID Is NULL AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) GROUP BY GNUM_DESK_ID HAVING COUNT(HGNUM_DEPTUNITCODE)\=\# ) A WHERE A.GNUM_DESK_ID\=B.GNUM_DESK_ID

SELECT.TEMPLATEBASED_MENU_BYID.GBLT_DESK_DTL=SELECT A.GNUM_DESK_MENU_ID, INITCAP(B.GSTR_DESK_MENU_NAME) FROM GBLT_DESK_DTL A,GBLT_DESK_MENU_MST B WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_DESK_ID\=? AND B.GNUM_ISTEMPLATE\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=?

SELECT.TEMPLATES_BYUNITSEATDESK.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HGNUM_ISDEFAULT,A.GNUM_DESK_MENU_ID||'&'||INITCAP(B.GSTR_DESK_MENU_NAME)||'\#'||A.HGNUM_TEMPLATE_ID||'&'||INITCAP(C.HGSTR_TEMPLATE_NAME) FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_DESK_MENU_MST B,HGBT_TEMPLATE_MST C WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_TEMPLATE_ID\=C.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO,SYSDATE)) AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_USERSEAT_ID\=? AND A.GNUM_DESK_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?


SELECT.TEMPLATES_BYUNITWARD.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HGNUM_ISDEFAULT,A.GNUM_DESK_MENU_ID||'&'||INITCAP(B.GSTR_DESK_MENU_NAME)||'\#'||A.HGNUM_TEMPLATE_ID||'&'||INITCAP(C.HGSTR_TEMPLATE_NAME) FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_DESK_MENU_MST B,HGBT_TEMPLATE_MST C WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_TEMPLATE_ID\=C.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO,SYSDATE)) AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DESK_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HIPNUM_WARD_CODE \= ?

SELECT.TEMPLATES_BYUNITWARDSEAT.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HGNUM_ISDEFAULT,A.GNUM_DESK_MENU_ID||'&'||INITCAP(B.GSTR_DESK_MENU_NAME)||'\#'||A.HGNUM_TEMPLATE_ID||'&'||INITCAP(C.HGSTR_TEMPLATE_NAME) FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_DESK_MENU_MST B,HGBT_TEMPLATE_MST C WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_TEMPLATE_ID\=C.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO,SYSDATE)) AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DESK_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HIPNUM_WARD_CODE \= ? AND A.GNUM_USERSEAT_ID \= ?



SELECT.TEMPLATES_BYUNITDESK.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HGNUM_ISDEFAULT,A.GNUM_DESK_MENU_ID||'&'||INITCAP(B.GSTR_DESK_MENU_NAME)||'\#'||A.HGNUM_TEMPLATE_ID||'&'||INITCAP(C.HGSTR_TEMPLATE_NAME) FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_DESK_MENU_MST B,HGBT_TEMPLATE_MST C WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_TEMPLATE_ID\=C.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO,SYSDATE)) AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DESK_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?

SELECT.TEMPLATES_BYDESK.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HGNUM_ISDEFAULT,A.GNUM_DESK_MENU_ID||'&'||INITCAP(B.GSTR_DESK_MENU_NAME)||'\#'||A.HGNUM_TEMPLATE_ID||'&'||INITCAP(C.HGSTR_TEMPLATE_NAME) FROM GBLT_USER_DESKMENU_TEMPLATE A, GBLT_DESK_MENU_MST B,HGBT_TEMPLATE_MST C WHERE A.GNUM_DESK_MENU_ID\=B.GNUM_DESK_MENU_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_TEMPLATE_ID\=C.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO,SYSDATE)) AND A.GNUM_DESK_ID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?

SELECT.TEMPLATE_CINICAL_DATA.GBLT_USER_DESKMENU_TEMPLATE	=SELECT HGSTR_PARA_ID,HGSTR_PARA_VALUE FROM HOPT_EPISODE_CLINICAL_DTL WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND HRGNUM_VISIT_NO\=? AND GNUM_DESK_MENU_ID\=? AND HGNUM_TEMPLATE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?
														
SELECT.GBLT_DESK_TYPE_MST = SELECT GNUM_DESK_TYPE, INITCAP(GSTR_DESK_TYPE_DESC) FROM GBLT_DESK_TYPE_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? ORDER BY GSTR_DESK_TYPE_DESC


SELECT.DESC.GBLT_DESK_TYPE_MST= SELECT INITCAP(GSTR_DESK_TYPE_DESC) FROM GBLT_DESK_TYPE_MST WHERE GNUM_DESK_TYPE = ? AND GNUM_HOSPITAL_CODE = ?

SELECT.BELONGING.HOPT_PAT_BELONGING_MST	=SELECT HOPNUM_BELONGING_ID, INITCAP(HOPSTR_DESC) FROM HOPT_PAT_BELONGING_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? ORDER BY INITCAP(HOPSTR_DESC)
										
										

SELECT.PATIENT.BELONGING.DETAILS.HOPT_PAT_BELONGING_DTL	=SELECT HRGNUM_PUK AS PATCRNO, HOPNUM_BELONGING_ID AS BELONGINGITEMCODE, (SELECT INITCAP(HOPSTR_DESC) FROM HOPT_PAT_BELONGING_MST WHERE HOPNUM_BELONGING_ID \= A.HOPNUM_BELONGING_ID AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AS BELONGINGITEMNAME, TO_CHAR(HOPDT_COLLECTION_DATE, 'dd-Mon-yyyy') AS COLLECTIONDATE,HOPSTR_QTY AS QUANTITY, HOPSTR_REMARK AS REMARKS, HOPNUM_HANDOVER_BY AS HANDOVERBY, TO_CHAR(HOPDT_HANDOVER_DT ,'dd-Mon-yyyy') AS HANDOVERDATE, HOSTR_HANDOVER_TO AS HANDOVERTO FROM HOPT_PAT_BELONGING_DTL A WHERE HRGNUM_PUK \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE\=?
										

SELET.ALL.SERVICE.REQ.NO.FOR.CRNO.HOPT_SERVICE_REQ__DTL		=SELECT  HOPNUM_SERVICE_REQ_NUM serviceReqNo,HRGNUM_PUK patCrNo,(SELECT HOPSTR_SERVICE_AREA_NAME FROM HOPT_SERVICE_AREA_MST WHERE HOPNUM_SERVICE_AREA_ID \=A.HOPNUM_SERVICE_AREA_ID) serviceAreaName,A.HOPNUM_SERVICE_ID serviceCode,(SELECT HOPSTR_SERVICE_NAME FROM HOPT_SERVICE_MST WHERE HOPNUM_SERVICE_ID\=A.HOPNUM_SERVICE_ID) serviceName,A.HOPNUM_NUM_OF_SITTING_REQUIRED noOfSitting,TO_CHAR(A.HOPDT_SITTING_START_DATE,'DD-MON-YYYY') serviceDate,A.HOPNUM_REQ_STATUS req_status FROM HOPT_SERVICE_REQ__DTL A WHERE A.HRGNUM_PUK\=? AND A.GNUM_ISVALID\=1 AND A.HOPNUM_REQ_STATUS<>? ORDER BY HOPNUM_SERVICE_REQ_NUM DESC\t\t

										

SELECT.PREV_VISIT_DATES.HRGT_EPISODE_DTL	=SELECT HRGNUM_VISIT_NO, TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND HRGNUM_IS_CONFIRMED\=? AND GNUM_HOSPITAL_CODE\=? AND\tGNUM_ISVALID\=? AND TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') <> TO_CHAR(SYSDATE,'dd-Mon-yyyy') ORDER BY HRGNUM_VISIT_NO DESC

SELECT.ALL_TEMP_PARAS.HGBT_TEMPLATE_PARA_MST	=SELECT DISTINCT HGNUM_TEMPLATE_ID, HGNUM_PARA_ID@NVL(HGSTR_PARENT_PARA_ID,'') FROM HGBT_TEMPLATE_PARA_MST WHERE HGNUM_TEMPLATE_ID IN (\#) AND HGNUM_PARA_ID IS NOT NULL AND HGNUM_CONTROL_TYPE NOT IN(1,8) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?

SELECT.PARA_NAMES.HGBT_PARAMETER_MST	=SELECT HGSTR_PARA_ID, INITCAP(HGSTR_PARA_NAME) FROM HGBT_PARAMETER_MST WHERE HGSTR_PARA_ID IN (\#) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY HGSTR_PARA_ID
											
SELECT.PREV_VISIT_DATES_IN_BETWEEN.HRGT_EPISODE_DTL	=SELECT HRGNUM_VISIT_NO, TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GDT_ENTRY_DATE>\=TO_DATE(?,'dd-Mon-yyyy') AND GDT_ENTRY_DATE<\=TO_DATE(?,'dd-Mon-yyyy') AND HRGNUM_IS_CONFIRMED\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY HRGNUM_VISIT_NO DESC

SELECT.CLIN_DATA_OF_VISITS_BY_SEL_PARAS.HRGT_EPISODE_DTL	=SELECT DISTINCT HRGNUM_VISIT_NO||'%'||HGNUM_TEMPLATE_ID||'~'||HGSTR_PARA_ID, HGSTR_PARA_VALUE FROM HOPT_EPISODE_CLINICAL_DTL WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND HRGNUM_VISIT_NO IN (\#) AND GNUM_DESK_MENU_ID\=? AND ( @ ) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?

												
SELECT.DESKMENU.BASEDON.DESKTYPE.GBLT_DESK_MENU_MST = SELECT GNUM_DESK_MENU_ID,GSTR_DESK_MENU_NAME FROM GBLT_DESK_MENU_MST WHERE GNUM_ISVALID\=? and GNUM_DESK_TYPE\=? and GNUM_HOSPITAL_CODE\=? order by GSTR_DESK_MENU_NAME 



ESSENTIAL.HOPT_UNIT_PLAYERFILE_MST=SELECT hopnum_file_code as fileCode, (SELECT hopstr_file_name FROM hopt_playerfile_mst WHERE hopnum_file_code \= a.hopnum_file_code AND a.gnum_isvalid\=gnum_isvalid AND a.gnum_hospital_code\=gnum_hospital_code )as fileName,(SELECT initcap(HOPSTR_FILE_HEADER) FROM hopt_playerfile_mst WHERE hopnum_file_code \= a.hopnum_file_code AND a.gnum_isvalid\=gnum_isvalid  AND a.gnum_hospital_code\=gnum_hospital_code ) as fileHeader FROM hopt_unit_playerfile_mst a WHERE hgnum_deptunitcode \= ? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? order by fileHeader

SELECT.HOPT_DESK_MENU_MACRO = select HOPNUM_MACRO_ID as macroID,HOPSTR_MACRO_HEAD as macroHead, (select GSTR_DEPT_NAME from GBLT_DEPARTMENT_MST where GNUM_DEPT_CODE\=substr(A.HGNUM_DEPTUNITCODE,1,3) and GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1)||'('|| (select HGSTR_UNITNAME from HGBT_UNIT_MST where HGNUM_DEPTUNITCODE\=A.HGNUM_DEPTUNITCODE and GNUM_HOSPITAL_CODE\=? )||')'as deptUnitName from HOPT_DESK_MENU_MACRO A where GNUM_ISVALID\=? and GNUM_DESK_TYPE\=? and GNUM_DESK_MENU_ID\=? and GNUM_HOSPITAL_CODE\=? order by macroHead

SELECT.ALL_UNIT.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 )||'('|| HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?  ORDER BY UNIT

SELECT.IMAGES_OF_DEPTUNIT.HOPT_IMAGE_MST = SELECT A.HOPNUM_IMAGE_CODE, INITCAP(A.HOPSTR_IMAGE_NAME), A.HOPSTR_FILE_NAME FROM HOPT_IMAGE_MST A, HOPT_UNIT_IMAGE_MST B WHERE A.HOPNUM_IMAGE_CODE\=B.HOPNUM_IMAGE_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND B.HGNUM_DEPTUNITCODE\=? AND A.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=? AND A.GNUM_ISVALID\=?

SELECT.COLOR_DESCS_OF_UNIT.HOPT_UNIT_IMAGEDESC_MST	=SELECT A.HOPSTR_COLOR,INITCAP(B.HOPSTR_IMAGE_DESC) FROM HOPT_UNIT_IMAGEDESC_MST A, HOPT_IMAGEDESC_MST B WHERE A.HOPNUM_IMAGEDESC_ID\=B.HOPNUM_IMAGEDESC_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=?\t\t\t\t\t\t\t\t
 								
SELECT.ALL_IMAGE_DESC.HOPT_IMAGEDESC_MST = select HOPNUM_IMAGEDESC_ID, HOPSTR_IMAGE_DESC from HOPT_IMAGEDESC_MST where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? order by HOPSTR_IMAGE_DESC \t
											
											
SELECT.UNIT_NOT_IN.HOPT_UNIT_IMAGEDESC_MST =SELECT   a.hgnum_deptunitcode,(SELECT gstr_dept_name FROM gblt_department_mst c WHERE c.gnum_hospital_code \= ? AND c.gnum_dept_code \= SUBSTR (a.hgnum_deptunitcode, 0, 3)  AND GNUM_ISVALID\=1)|| '('|| hgstr_unitname || ')' AS unit FROM hgbt_unit_mst a  WHERE a.gnum_isvalid \= ? AND a.gnum_hospital_code \= ? AND a.hgnum_deptunitcode NOT IN (SELECT DISTINCT b.hgnum_deptunitcode FROM hopt_unit_imagedesc_mst b WHERE b.gnum_isvalid \= ? AND b.gnum_hospital_code \= ?) ORDER BY unit

ADD.HOPT_IMAGEDESC_MST = INSERT INTO HOPT_IMAGEDESC_MST (HOPNUM_IMAGEDESC_ID, HOPSTR_IMAGE_DESC, GNUM_ISVALID, GNUM_SEAT_ID, GDT_ENTRY_DATE,GNUM_HOSPITAL_CODE) VALUES ((SELECT NVL(MAX(HOPNUM_IMAGEDESC_ID),0)+1 FROM HOPT_IMAGEDESC_MST  where GNUM_HOSPITAL_CODE\=?),INITCAP(?),?,?,SYSDATE,?)\t\t\t\t\t\t 

 								
SELECT.ALL_IMAGES.HOPT_IMAGE_MST = SELECT HOPNUM_IMAGE_CODE, INITCAP(HOPSTR_IMAGE_NAME) FROM HOPT_IMAGE_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?
									
SELECT.SELECTED_IMAGES.HOPSTR_IMAGE_NAME	=SELECT A.HOPNUM_IMAGE_CODE ,INITCAP(A.HOPSTR_IMAGE_NAME) FROM HOPT_IMAGE_MST A,HOPT_UNIT_IMAGE_MST B WHERE A.HOPNUM_IMAGE_CODE\=B.HOPNUM_IMAGE_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND B.HGNUM_DEPTUNITCODE\=? AND B.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=? AND a.gnum_isvalid\=b.gnum_isvalid
									
SELECT.SELECT_IMAGE_NAME.HOPT_IMAGE_MST	=SELECT INITCAP(A.HOPSTR_IMAGE_NAME) FROM HOPT_IMAGE_MST A,HOPT_UNIT_IMAGE_MST B WHERE A.HOPNUM_IMAGE_CODE\=B.HOPNUM_IMAGE_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND B.HGNUM_DEPTUNITCODE\=? AND A.HOPNUM_IMAGE_CODE\=? AND B.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=?
											
SELECT.NOT_ADDED_IMAGES.HGNUM_DEPT_CODE	=SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM  HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HOPT_UNIT_IMAGE_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ) AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'


SELECT.ALL.HOPT_PLAYERFILE_MST = SELECT HOPNUM_FILE_CODE, HOPSTR_FILE_NAME FROM HOPT_PLAYERFILE_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?


SELECT.ALL.UNIT.NOT.IN.HOPT_PLAYERFILE_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? AND B.GNUM_ISVALID\=1)||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HOPT_UNIT_PLAYERFILE_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT 
#Modified by Vasu on 03.Oct.2018 to get EMG Dept Unit based on module ID(12)
#ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_EMG_UNITS_BY_SEATID=SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE\=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3)  AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=?) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HGNUM_DEPTUNITCODE IN (SELECT GNUM_COLUMN_VALUE FROM GBLT_ROLE_SEAT_TABLE_DTL B, GBLT_METATABLE_COLUMN_MST C WHERE B.GNUM_METATABLE_ID\=C.GNUM_METATABLE_ID  AND C.GSTR_TABLE_NAME\='HGBT_UNIT_MST' AND B.GNUM_HOSPITAL_CODE\=? AND B.GBL_ISVALID\=? AND C.GBL_ISVALID\=? AND C.GSTR_COLUMN_NAME\='HGNUM_DEPTUNITCODE' AND B.GNUM_SEATID\=PKG_USERMGMT.FUN_GETSEATID(?,X.GNUM_HOSPITAL_CODE)) AND X.HGNUM_DEPTUNITCODE IN (SELECT DISTINCT D.HOPNUM_DEPTUNITCODE FROM HOPT_DEPT_UNIT_ROSTER_DTL D WHERE D.HOPDT_START_DT<\=SYSDATE AND D.HOPDT_END_DT>\=SYSDATE AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_ROSTER_TYPE IN (?,?)) ORDER BY UNITNAME
#ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_EMG_UNITS_BY_SEATID=WITH ROSTER_UNITS AS (SELECT DISTINCT A.HOPNUM_DEPTUNITCODE as unitcode FROM HOPT_DEPT_UNIT_ROSTER_DTL A WHERE A.HOPDT_START_DT<=SYSDATE AND A.HOPDT_END_DT>=SYSDATE AND A.GNUM_HOSPITAL_CODE=? AND A.GNUM_ISVALID=1 AND A.HGNUM_ROSTER_TYPE IN (3)), ROLE_UNITS AS (SELECT DISTINCT GNUM_COLUMN_VALUE as unitcode FROM GBLT_ROLE_SEAT_TABLE_DTL B WHERE B.GNUM_HOSPITAL_CODE=? AND B.GBL_ISVALID=1 AND B.GNUM_MODULE_ID = 12 AND B.GNUM_SEATID=PKG_USERMGMT.FUN_GETSEATID(?,?) AND B.GSTR_COLUMN_NAME='HGNUM_DEPTUNITCODE' AND B.GSTR_TABLE_NAME='HGBT_UNIT_MST') SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE=? AND A.GNUM_ISVALID=1) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE=? AND X.GNUM_ISVALID=1 AND X.HGNUM_DEPTUNITCODE IN (SELECT unitcode FROM ROSTER_UNITS) AND X.HGNUM_DEPTUNITCODE IN (SELECT unitcode FROM ROSTER_UNITS) ORDER BY 2

ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_EMG_UNITS_BY_SEATID = WITH ROLE_UNITS AS (SELECT DISTINCT GNUM_COLUMN_VALUE as unitcode FROM GBLT_ROLE_SEAT_TABLE_DTL B WHERE B.GNUM_HOSPITAL_CODE=? AND B.GBL_ISVALID=1 AND B.GNUM_MODULE_ID = 12 AND B.GNUM_SEATID=PKG_USERMGMT.FUN_GETSEATID(?,?) AND B.GSTR_COLUMN_NAME='HGNUM_DEPTUNITCODE' AND B.GSTR_TABLE_NAME='HGBT_UNIT_MST') SELECT X.HGNUM_DEPTUNITCODE||'^'||X.GNUM_DIAGNOSIS_CODE_TYPE, (SELECT A.GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST A WHERE A.GNUM_DEPT_CODE=SUBSTR(X.HGNUM_DEPTUNITCODE,1,3) AND A.GNUM_HOSPITAL_CODE=? AND A.GNUM_ISVALID=1) ||' ('|| X.HGSTR_UNITNAME||')' AS UNITNAME FROM HGBT_UNIT_MST X WHERE X.GNUM_HOSPITAL_CODE=? AND X.GNUM_ISVALID=1  ORDER BY 2
SELECT.HRGT_DAILY_PATIENT_DTL.RETRIEVE_FOR_CASUALITY	= SELECT (SELECT HRGSTR_MLC_NO FROM HRGT_PATIENT_MLC_DTL WHERE HRGNUM_PUK\=A.HRGNUM_PUK  AND HRGNUM_EPISODE_CODE\=A.HRGNUM_EPISODE_CODE AND HRGNUM_VISIT_NO \=A.HRGNUM_VISIT_NO AND gnum_isvalid\=a.gnum_isvalid AND gnum_hospital_code\=a.gnum_hospital_code) as mlcNo, a.hrgnum_puk AS patcrno, INITCAP (a.hrgstr_fname) AS patfirstname, INITCAP (a.hrgstr_mname) AS patmiddlename, INITCAP (a.hrgstr_lname) AS patlastname, a.gnum_marital_status_code AS patmaritalstatuscode, DECODE (a.gnum_gender_code, 1, 'M', 2, 'F', 'O') || '/' || ahis_util.puk_age (a.hrgnum_puk) patgenderage, INITCAP (a.hrgstr_father_name) AS patguardianname, INITCAP (a.hrgstr_momname) AS patmomname, a.hrgnum_episode_code AS episodecode, a.hrgnum_visit_no || '^' || a.hrgnum_is_confirmed AS episodevisitno, a.hrgnum_s_no AS serialno, a.hrgnum_episode_type_code AS episodetypecode, a.hgnum_deptunitcode AS departmentunitcode, a.hrgnum_que_no AS queno, a.gnum_dept_code AS departmentcode, a.hrgnum_isreg_free AS isfree, a.hrgnum_is_old AS patisold, TO_CHAR (a.hrgdt_episode_date, 'dd-Mon-YYYY') AS episodedate, a.hgnum_patient_cat_code || '^' || (SELECT y.gnum_cat_priority FROM gblt_patient_cat_mst y WHERE y.gnum_patient_cat_code \= a.hgnum_patient_cat_code AND y.gnum_hospital_code \= 100 AND y.gnum_isvalid \= ? ) AS patprimarycatcode, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_patient_cat_code AND gnum_hospital_code \= 100 )patprimarycat, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_treatment_cat_code AND gnum_hospital_code \= 100 ) patsecondarycat, (SELECT INITCAP (e.gstr_dept_name) FROM gblt_department_mst e WHERE e.gnum_dept_code \= a.gnum_dept_code AND a.gnum_hospital_code \= e.gnum_hospital_code) department, (SELECT INITCAP (x.hgstr_unitname) FROM hgbt_unit_mst x WHERE x.hgnum_deptunitcode \= a.hgnum_deptunitcode AND x.gnum_hospital_code \= a.gnum_hospital_code)departmentunit, a.hrgnum_is_mlc AS ismlc, a.hrgnum_is_broughtdead AS isbroughtdead, a.hrgnum_isunknown AS isunknown, HGNUM_PAT_STATUS_CODE as patStatusCode, (SELECT  ahis_util.dob_age_on(TO_DATE(TO_CHAR(HRGDT_IN_DATE,'dd-Mon-yyyy')||' '||HRGTM_IN_TIME,'dd-Mon-yyyy hh24\:MI'),Sysdate) FROM HRGT_TRIAGE_DTL  WHERE hrgnum_puk \= a.hrgnum_puk  AND hrgnum_episode_code \= a.hrgnum_episode_code  AND hrgnum_visit_no \= a.hrgnum_visit_no AND HRGDT_OUT_DATE IS NULL AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) triageDuration, (SELECT TRUNC((DATE_PART('day',(SYSDATE)-(TO_DATE(TO_CHAR(HRGDT_IN_DATE,'dd-Mon-yyyy')||' '||HRGTM_IN_TIME,'dd-Mon-yyyy hh24\:MI')))*24)) FROM HRGT_TRIAGE_DTL  WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code  AND hrgnum_visit_no \= a.hrgnum_visit_no AND HRGDT_OUT_DATE IS NULL AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) triageDurationHours, a.hrgnum_is_confirmed as isConfirmed, GDT_ENTRY_DATE, (SELECT hgnum_isgeneral FROM HGBT_UNIT_MST x  WHERE x.hgnum_deptunitcode \= a.hgnum_deptunitcode  AND x.gnum_hospital_code \= a.gnum_hospital_code  )  departmentunittype FROM hrgt_daily_patient_dtl a WHERE ( (TRUNC (a.gdt_entry_date) \= TRUNC (SYSDATE) ) OR ((SELECT hrgdt_in_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= ?) IS NOT NULL AND (SELECT hrgdt_out_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= ?) IS NULL)) AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? AND a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? ORDER BY GDT_ENTRY_DATE


ESSENTIAL.ALL_ROLES_LIST.GBLT_ROLE_MST	=	SELECT GNUM_ROLE_ID, INITCAP(GSTR_ROLE_NAME) FROM GBLT_ROLE_MST WHERE TRUNC(GDT_EFFECT_DATE) <= TRUNC(SYSDATE) AND GBL_ISVALID=?



SELECT.ALL_DISEASE_LIST.HGBT_HOSPITAL_DISEASE_MST	=SELECT HGBSTR_HOSPITAL_DISEASE_CODE,HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE \= ?

SELECT.ALL_ICD_BY_HOS.HGBT_ICD_HOSPITAL_MST	=SELECT TRIM(B.HGBSTR_DISEASE_CODE), TRIM(INITCAP(B.HGBSTR_DISEASE)) FROM HGBT_ICD_HOSPITAL_MST A, HGBT_ICD_DISEASE_MST B WHERE TRIM(A.HGBSTR_DISEASE_CODE) \= TRIM(B.HGBSTR_DISEASE_CODE) AND A.HGBSTR_HOSPITAL_DISEASE_CODE \= ? AND A.GNUM_ISVALID \= ? AND B.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ?
 

ESSENTIAL.ALL_CLINICAL_DEPT.GBLT_DEPARTMENT_MST = SELECT GNUM_DEPT_CODE, INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE  GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_DEPT_TYPE\= ? ORDER BY INITCAP(GSTR_DEPT_NAME)

ESSENTIAL.ALL_CLINICAL_UNIT.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE ||'@'||A.HGNUM_ISGENERAL,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'

##  Commented & Made Old By Chetan dted 2015.11.17 Reason: for New Desk Mapping Master Concept.											
ESSENTIAL.UNIT_EXCEPT_ASSIGN.HGBT_UNIT_MST_OLD = SELECT A.HGNUM_DEPTUNITCODE ||'@'||A.HGNUM_ISGENERAL,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? and A.HGNUM_DEPTUNITCODE not in (select C.HGNUM_DEPTUNITCODE from GBLT_USER_DESKMENU_MST C where A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE and A.GNUM_ISVALID\=C.GNUM_ISVALID and C.HGNUM_DEPTUNITCODE is not null and C.GNUM_USERSEAT_ID is null and C.HIPNUM_WARD_CODE is null and GNUM_DESK_TYPE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'


##Changed By Chetan dted 2015.11.17 Reason: for New Desk Mapping Master Concept.											
ESSENTIAL.UNIT_EXCEPT_ASSIGN.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE ||'@'||A.HGNUM_ISGENERAL,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? and A.HGNUM_DEPTUNITCODE not in (select C.HGNUM_DEPTUNITCODE from GBLT_USER_DESKMENU_MST C where A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE and A.GNUM_ISVALID\=C.GNUM_ISVALID and C.HGNUM_DEPTUNITCODE is not null and GNUM_DESK_TYPE\=? and C.GNUM_MAPPING_TYPE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
	

ESSENTIAL.UNIT_ASSIGN.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
																							

ESSENTIAL.ALL_GROUP.GBLT_GROUP_MST = SELECT GNUM_GROUP_CODE, GSTR_GROUP_NAME FROM GBLT_GROUP_MST WHERE TRUNC(GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY GSTR_GROUP_NAME\t\t




<!-- Queries For User Desk Unit Ward Mapping Master-->

<!-- Query For Selecting Department Name(Unit Name) Where Seat and Ward is null-->
ESSENTIAL.UNIT_EXCEPT_ASSIGN_FOR_UNIT_WARD_MAPPING_MASTER.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE , INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT C.HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_MST C WHERE A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=C.GNUM_ISVALID AND C.HGNUM_DEPTUNITCODE IS NOT NULL AND C.GNUM_USERSEAT_ID IS NULL AND C.HIPNUM_WARD_CODE IS NULL AND C.GNUM_DESK_TYPE\=?) ORDER BY INITCAP (B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
<!-- Query For Selecting All Unit name-->										   			             		
<!-- Query For Selecting Unit name(Ward name) where Seat is null-->										                                               
ESSENTIAL.WARD_EXCEPT_ASSIGN_FOR_UNIT_WARD_MAPPING_MASTER.HIPT_WARD_MST_OLD =SELECT DISTINCT A.HIPNUM_WARD_CODE, INITCAP (E.GSTR_DEPT_NAME) || ' (' || INITCAP (B.HGSTR_UNITNAME) || ') - ' ||INITCAP (C.HIPSTR_WARD_NAME) FROM HIPT_DUWRBED_MST A, HGBT_UNIT_MST B, HIPT_WARD_MST C , GBLT_DEPARTMENT_MST E WHERE A.GNUM_DEPT_CODE \= E.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= E.GNUM_HOSPITAL_CODE AND A.HGNUM_DEPTUNITCODE \= B.HGNUM_DEPTUNITCODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND C.HIPNUM_WARD_CODE \= A.HIPNUM_WARD_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND TRUNC (SYSDATE) BETWEEN TRUNC (C.GDT_EFFECTIVE_FRM) AND TRUNC (NVL (C.GDT_EFFECTIVE_TO, SYSDATE)) AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND B.GNUM_ISVALID \= ? AND C.GNUM_ISVALID \= ? AND E.GNUM_ISVALID \= ? AND A.GNUM_DEPT_CODE \= ? AND A.HIPNUM_WARD_CODE NOT IN ( SELECT D.HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_MST D WHERE D.GNUM_HOSPITAL_CODE \= ? AND D.GNUM_USERSEAT_ID IS NULL AND D.HIPNUM_WARD_CODE IS NOT NULL AND D.GNUM_ISVALID \= ? AND D.GNUM_DESK_TYPE \= ? AND D.HGNUM_DEPTUNITCODE\=A.HGNUM_DEPTUNITCODE AND A.GNUM_DEPT_CODE\=?) ORDER BY INITCAP (E.GSTR_DEPT_NAME) || ' (' || INITCAP (B.HGSTR_UNITNAME) || ') - ' ||INITCAP (C.HIPSTR_WARD_NAME) 


#MODIFIED BY MANISHA GANGWAR DATE: 27.7.2016
ESSENTIAL.WARD_EXCEPT_ASSIGN_FOR_UNIT_WARD_MAPPING_MASTER.HIPT_WARD_MST= SELECT DISTINCT A.HIPNUM_WARD_CODE, (Select INITCAP(E.GSTR_DEPT_NAME) from GBLT_DEPARTMENT_MST E where GNUM_ISVALID\=1 AND GNUM_DEPT_CODE\=A.GNUM_DEPT_CODE AND GNUM_HOSPITAL_CODE\=100) || ' - ' ||(SELECT Distinct INITCAP (C.HIPSTR_WARD_NAME) FROM HIPT_WARD_MST C Where GNUM_ISVALID\=1 AND HIPNUM_WARD_CODE \= A.HIPNUM_WARD_CODE AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE ) FROM   HIPT_DUWRBED_MST A Where A.GNUM_HOSPITAL_CODE \= ?  AND A.GNUM_ISVALID \= ?  AND A.GNUM_DEPT_CODE\=?



                                            
                                            
SELECT.WARDS_NOT_ASSIGNED_DESK.GBLT_SEAT_MST =SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE TRUNC(GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND GNUM_SEATID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HIPNUM_WARD_CODE IN (@) AND GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE \= ? ORDER BY INITCAP(GSTR_SEAT_NAME)

SELECT.USERS_WARDS_NOT_ASSIGNED_DESK.GBLT_USER_MST =SELECT GNUM_USERID, INITCAP(GSTR_USER_NAME) FROM GBLT_USER_MST WHERE GNUM_USER_SEATID IN (SELECT GNUM_SEATID FROM GBLT_SEAT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE\=?) AND GNUM_USERID NOT IN(SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE HGNUM_DEPTUNITCODE IS NOT NULL AND GNUM_USERSEAT_ID IS NOT NULL AND HIPNUM_WARD_CODE IN (@) AND GNUM_DESK_TYPE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY INITCAP(GSTR_USER_NAME)

SELECT.WARDS_NOT_ASSIGNED_DESK.GBLT_SEAT_MST.WITHOUTDESKTYPE = SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE TRUNC(GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND GNUM_SEATID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HIPNUM_WARD_CODE IN (@)  AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE \= ? ORDER BY INITCAP(GSTR_SEAT_NAME)
																								
ESSENTIAL.ALL_WARD.HGBT_UNIT_MST =SELECT DISTINCT A.HIPNUM_WARD_CODE, INITCAP (E.GSTR_DEPT_NAME) || ' (' || INITCAP (B.HGSTR_UNITNAME) || ') - ' ||INITCAP (C.HIPSTR_WARD_NAME) FROM HIPT_DUWRBED_MST A, HGBT_UNIT_MST B, HIPT_WARD_MST C , GBLT_DEPARTMENT_MST E WHERE A.GNUM_DEPT_CODE \= E.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= E.GNUM_HOSPITAL_CODE AND A.HGNUM_DEPTUNITCODE \= B.HGNUM_DEPTUNITCODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND C.HIPNUM_WARD_CODE \= A.HIPNUM_WARD_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND TRUNC (SYSDATE) BETWEEN TRUNC (C.GDT_EFFECTIVE_FRM) AND TRUNC (NVL (C.GDT_EFFECTIVE_TO, SYSDATE)) AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND B.GNUM_ISVALID \= ? AND C.GNUM_ISVALID \= ? AND E.GNUM_ISVALID \= ? AND A.HGNUM_DEPTUNITCODE \= ? AND A.HIPNUM_WARD_CODE NOT IN ( SELECT D.HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_MST D WHERE D.GNUM_HOSPITAL_CODE \= ? AND D.GNUM_USERSEAT_ID IS NOT NULL AND D.HIPNUM_WARD_CODE IS NOT NULL AND D.GNUM_ISVALID \= ? AND D.GNUM_DESK_TYPE \= ? AND D.HGNUM_DEPTUNITCODE\=?) ORDER BY INITCAP (E.GSTR_DEPT_NAME) || ' (' || INITCAP (B.HGSTR_UNITNAME) || ') - ' ||INITCAP (C.HIPSTR_WARD_NAME) \t\t\t\t\t\t\t\t\t\t\t


ESSENTIAL.UNIT_EXCEPT_TEMPLATE.HGBT_UNIT_MST = SELECT DISTINCT c.hgnum_deptunitcode, INITCAP (b.gstr_dept_name)|| ' ('|| INITCAP (a.hgstr_unitname) || ')' FROM HGBT_UNIT_MST a, GBLT_DEPARTMENT_MST b, GBLT_USER_DESKMENU_MST c WHERE c.hgnum_deptunitcode \= a.hgnum_deptunitcode AND a.gnum_dept_code \= b.gnum_dept_code AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_hospital_code \= c.gnum_hospital_code AND a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_isvalid \= c.gnum_isvalid AND c.hgnum_deptunitcode NOT IN (SELECT d.hgnum_deptunitcode FROM GBLT_USER_DESKMENU_TEMPLATE d WHERE d.gnum_isvalid \= ? AND d.gnum_hospital_code \= ?) AND c.gnum_userseat_id IS NULL ORDER BY INITCAP (b.gstr_dept_name)||'('||INITCAP (a.hgstr_unitname)||')'

ESSENTIAL.UNITS_NOT_UNITTEMPLATE.GBLT_USER_DESKMENU_MST = SELECT DISTINCT c.hgnum_deptunitcode, INITCAP (b.gstr_dept_name)|| ' ('|| INITCAP (a.hgstr_unitname) || ')' FROM HGBT_UNIT_MST a, GBLT_DEPARTMENT_MST b, GBLT_USER_DESKMENU_MST c WHERE c.hgnum_deptunitcode \= a.hgnum_deptunitcode AND a.gnum_dept_code \= b.gnum_dept_code AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_hospital_code \= c.gnum_hospital_code AND c.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_isvalid \= c.gnum_isvalid AND c.hgnum_deptunitcode NOT IN (SELECT distinct d.hgnum_deptunitcode FROM GBLT_USER_DESKMENU_TEMPLATE d WHERE d.gnum_isvalid \= ? AND d.gnum_hospital_code \= ? and d.GNUM_USERSEAT_ID is null AND d.hgnum_deptunitcode IS NOT NULL) AND c.gnum_userseat_id IS NULL ORDER BY INITCAP (b.gstr_dept_name) || ' ('|| INITCAP (a.hgstr_unitname) || ')'

ESSENTIAL.UNITS_UNITWARDWISE.GBLT_USER_DESKMENU_MST = SELECT DISTINCT c.hgnum_deptunitcode, INITCAP (b.gstr_dept_name)|| ' ('|| INITCAP (a.hgstr_unitname) || ')' FROM HGBT_UNIT_MST a, GBLT_DEPARTMENT_MST b, GBLT_USER_DESKMENU_MST c WHERE c.hgnum_deptunitcode \= a.hgnum_deptunitcode AND a.gnum_dept_code \= b.gnum_dept_code AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_hospital_code \= c.gnum_hospital_code AND c.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_isvalid \= c.gnum_isvalid AND c.GNUM_USERSEAT_ID IS NULL AND c.hgnum_deptunitcode NOT IN (SELECT distinct d.hgnum_deptunitcode FROM GBLT_USER_DESKMENU_TEMPLATE d WHERE d.gnum_isvalid \= ? AND d.gnum_hospital_code \= ? and d.GNUM_USERSEAT_ID is null AND d.hgnum_deptunitcode IS NOT NULL) AND c.gnum_userseat_id IS NULL ORDER BY INITCAP (b.gstr_dept_name) || ' ('|| INITCAP (a.hgstr_unitname) || ')'    \t\t\t\t\t\t\t\t\t\t    
    										    
    										    
ESSENTIAL.UNITS_UNITWARDSEATWISE.GBLT_USER_DESKMENU_MST = SELECT DISTINCT c.hgnum_deptunitcode, INITCAP (b.gstr_dept_name)|| ' ('|| INITCAP (a.hgstr_unitname) || ')' FROM HGBT_UNIT_MST a, GBLT_DEPARTMENT_MST b, GBLT_USER_DESKMENU_MST c WHERE c.hgnum_deptunitcode \= a.hgnum_deptunitcode AND a.gnum_dept_code \= b.gnum_dept_code AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_hospital_code \= c.gnum_hospital_code AND c.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_isvalid \= c.gnum_isvalid AND c.GNUM_USERSEAT_ID IS NOT NULL AND c.hgnum_deptunitcode NOT IN (SELECT distinct d.hgnum_deptunitcode FROM GBLT_USER_DESKMENU_TEMPLATE d WHERE d.gnum_isvalid \= ? AND d.gnum_hospital_code \= ? and d.GNUM_USERSEAT_ID is not null AND d.hgnum_deptunitcode IS NOT NULL) AND c.gnum_userseat_id IS NOT NULL ORDER BY INITCAP (b.gstr_dept_name) || ' ('|| INITCAP (a.hgstr_unitname) || ')'    \t\t\t\t\t\t\t\t\t\t    
    										    
    
    										    
ESSENTIAL.UNITS_WITHSEAT.GBLT_USER_DESKMENU_MST = SELECT DISTINCT c.hgnum_deptunitcode, INITCAP (b.gstr_dept_name)|| ' ('|| INITCAP (a.hgstr_unitname) || ')' FROM HGBT_UNIT_MST a, GBLT_DEPARTMENT_MST b, GBLT_USER_DESKMENU_MST c WHERE c.hgnum_deptunitcode \= a.hgnum_deptunitcode AND a.gnum_dept_code \= b.gnum_dept_code AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_hospital_code \= c.gnum_hospital_code AND c.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_isvalid \= c.gnum_isvalid AND c.hgnum_deptunitcode NOT IN (SELECT distinct d.hgnum_deptunitcode FROM GBLT_USER_DESKMENU_TEMPLATE d WHERE d.gnum_isvalid \= ? AND d.gnum_hospital_code \= ? and d.GNUM_USERSEAT_ID is not null) AND c.gnum_userseat_id IS not NULL ORDER BY INITCAP (b.gstr_dept_name) || ' ('|| INITCAP (a.hgstr_unitname) || ')'
    										    
    										    
ESSENTIAL.ALL_DESK.GBLT_DESK_MST = SELECT GNUM_DESK_ID, INITCAP(GSTR_DESK_NAME) FROM GBLT_DESK_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY GSTR_DESK_NAME
								   
ESSENTIAL.ALL_DESK_TYPE.GBLT_DESK_MST = SELECT GNUM_DESK_TYPE, INITCAP(GSTR_DESK_TYPE_DESC) FROM GBLT_DESK_TYPE_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? ORDER BY INITCAP(GSTR_DESK_TYPE_DESC)\t\t\t\t\t\t\t\t      \t\t\t\t\t\t\t\t\t\t
                                


SELECT.SERVICETYPE.HGBT_CONSENT_SERVICE_MST=select HGNUM_SERVICE_TYPE_ID,INITCAP(HBSTR_SERVICE_TYPE) from HGBT_CONSENT_SERVICE_MST where  GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=?


SLECT_ALL_SITE.HGBT_ALLERGY_SITE_MST = SELECT HGNUM_ALLERGY_SITE_ID, HGSTR_ALLERGY_SITE FROM HGBT_ALLERGY_SITE_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = ? ORDER BY hgstr_allergy_site



SLECT_COMMON_SYMPTOM.HGBT_ALLERGY_SYMPTOM_MST = SELECT HGNUM_SYMPTOM_CODE, HGNUM_SYMPTOM_DESC FROM HGBT_ALLERGY_SYMPTOM_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HGNUM_SYMPTOM_TYPE \= ? AND GNUM_ISVALID \= ? ORDER BY HGNUM_SYMPTOM_DESC                                            


SLECT_ALLERGY_TYPE_SYMPTOM.HGBT_ALLERGY_SYMPTOM_MST = SELECT A.HGNUM_SYMPTOM_CODE, A.HGNUM_SYMPTOM_DESC FROM HGBT_ALLERGY_SYMPTOM_MST A,HGBT_ALLERGYWISE_SYMPTOM_MST B WHERE A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HGNUM_SYMPTOM_CODE\=B.HGNUM_SYMPTOM_CODE AND B.HGNUM_ALLERGY_TYPE_CODE \=? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HGNUM_SYMPTOM_TYPE \= ? AND A.GNUM_ISVALID \= ? AND B.GNUM_ISVALID \= ? ORDER BY A.HGNUM_SYMPTOM_DESC

                                            
                                            
SELECT.ALLERGY_ADVICE.HGBT_ALLERGY_ADVICE_MST = SELECT HGSTR_ADVICE, HGSTR_ADVICE_HEADER FROM HGBT_ALLERGY_ADVICE_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = ? order by HGSTR_ADVICE_HEADER   

SELECT.CONSENTIDLIST.HGBT_CONSENT_DTL=select HGNUM_CONSENT_ID,HGNUM_CONSENT_STATUS from HGBT_CONSENT_DTL  where HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=? and HRGNUM_VISIT_NO\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?                                         \t\t\t\t\t\t\t\t\t\t   
	
SELECT.CONSENT_REQUEST_VO_LIST.HGBT_CONSENT_DTL= SELECT A.HGNUM_CONSENT_ID AS consentId, B.HGSTR_TEMPLATE_NAME AS templateDesc, A.HGNUM_CONSENT_STATUS AS consentStatus, A.HGNUM_SERVICE_CONSENT_ID AS serviceConsentId, A.GNUM_RELATION_CODE AS relationCode, A.HGNUM_SERVICE_TYPE_ID AS serviceTypeId, A.HGSTR_SERVICE_ID AS serviceId, Pkg_Bloodbank_Mst.emp_name_useridwise(?,A.HGNUM_RAISED_BY)  AS raisedBy, to_char(A.HGDT_RAISED_DATE,'dd-Mon-yyyy hh\:mi') AS raisedDate, A.HRGSTR_DOCTOR_ID AS doctorId, (SELECT DISTINCT INITCAP (C.HGSTR_SERVICE_DESC) FROM HGBT_CONSENT_MAPPING C WHERE C.HGSTR_SERVICE_ID \= A.HGSTR_SERVICE_ID AND C.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID) AS serviceDesc, D.HBSTR_SERVICE_TYPE AS serviceTypeDesc ,HGSTR_REQ_ID as requestID, DECODE(A.HRGNUM_CONSENT_GIVENBY,0,'Self',1,'Relative',NULL) AS givenBy, A.HRGSTR_RELATIVE_NAME AS relativeName, A.GNUM_RELATION_CODE AS relationCode, (SELECT DISTINCT INITCAP(E.GSTR_RELATION_NAME) FROM GBLT_RELATION_MST E  WHERE E.GNUM_RELATION_CODE\=A.GNUM_RELATION_CODE ) AS relationshipName, A.HRGSTR_RELATIVE_ADDRESS AS relativeAddr, A.HRGSTR_RELATIVE_CONTACTNO AS relativeContactNo, A.HRGSTR_RELATIVE_IDMARK AS relativeIdRemark FROM HGBT_CONSENT_DTL A, HGBT_TEMPLATE_MST B, HGBT_CONSENT_SERVICE_MST D WHERE A.hgnum_consent_id \= B.HGNUM_TEMPLATE_ID AND B.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND TRUNC (SYSDATE) BETWEEN TRUNC (B.GDT_EFFECTIVE_FRM) AND TRUNC (NVL (B.GDT_EFFECTIVE_TO, SYSDATE)) AND D.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND A.GNUM_ISVALID \= D.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE \= D.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \=? AND A.HRGNUM_EPISODE_CODE \=? AND A.HRGNUM_VISIT_NO \=? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \=? and HGBNUM_ISREVOKE\=?
  
   
   
 SELECT.WARDS.GBLT_USER_DESKMENU_MST = SELECT a.HIPNUM_WARD_CODE, a.hgnum_deptunitcode, b.HIPSTR_WARD_NAME FROM GBLT_USER_DESKMENU_MST a, HIPT_WARD_MST b WHERE AND GNUM_MAPPING_SEQNO\=? AND GNUM_DESK_TYPE\=? AND a.gnum_hospital_code \= ? AND a.gnum_hospital_code \= b.gnum_hospital_code AND a.gnum_isvalid \= ? AND b.gnum_isvalid\=? AND a.HIPNUM_WARD_CODE\=b.HIPNUM_WARD_CODE\t\t\t\t\t\t\t\t
   
SELECT.SEATS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_USERSEAT_ID,A.HGNUM_DEPTUNITCODE,b.GSTR_SEAT_NAME FROM GBLT_USER_DESKMENU_MST A, GBLT_SEAT_MST B WHERE a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE AND GNUM_MAPPING_SEQNO\=? AND GNUM_DESK_TYPE\=? AND a.GNUM_USERSEAT_ID\=b.GNUM_SEATID AND a.GNUM_HOSPITAL_CODE \= ?

SELECT.USERS.GBLT_USER_DESKMENU_MST = SELECT A.GNUM_USERSEAT_ID, A.HGNUM_DEPTUNITCODE, INITCAP(B.GSTR_USER_NAME) FROM GBLT_USER_DESKMENU_MST A, GBLT_USER_MST B WHERE A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE  AND GNUM_MAPPING_SEQNO\=? AND GNUM_DESK_TYPE\=? AND A.GNUM_USERSEAT_ID\=B.GNUM_USERID AND B.GNUM_ISVALID\=? AND A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE \= ?
#added desk menu id for correct dates display.. by manisha gangwar			             		
SELECT.PREV_VISIT_REPORT_DATES.HRGT_EPISODE_DTL	=SELECT DISTINCT HRGNUM_VISIT_NO,  TO_CHAR(GDT_ENTRY_DATE,'dd-Mon-yyyy') FROM HRGT_EPISODE_CLINICAL_DTL WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_HOSPITAL_CODE\=? AND\tGNUM_ISVALID\=? AND gnum_desk_menu_id\=? ORDER BY HRGNUM_VISIT_NO DESC
			             		
UPDATETABLE.GBLT_USER_DESKMENU_MST = UPDATE GBLT_USER_DESKMENU_MST SET GNUM_ISVALID \= ? WHERE GNUM_USER_DESKMENU_ID \= ? AND GNUM_HOSPITAL_CODE \= ?\t\t\t\t\t\t\t\t\t   
																		   

<!-- Changed by Akash for New Desk on Date 12-feb-2015-->
SELECT.CHANGE_ROOM.HRGT_DEPT_UNIT_ROOM_MST_old=SELECT hgnum_room_code,(SELECT hgstr_room_name FROM hgbt_room_mst WHERE a.hgnum_room_code \= hgnum_room_code AND a.gnum_hospital_code \= gnum_hospital_code AND a.gnum_isvalid \= gnum_isvalid  )  FROM hrgt_dept_unit_room_mst a WHERE a.hgnum_deptunitcode \=? AND a.gnum_hospital_code \=?    AND a.gnum_isvalid \=?  AND HGNUM_ROOM_CODE NOT IN (?) AND TRUNC (SYSDATE) BETWEEN TRUNC (a.gdt_effective_frm) AND TRUNC (NVL (a.gdt_effective_to, SYSDATE))

#Modified by Vasu on 21.Feb.2019
#SELECT.CHANGE_ROOM.HRGT_DEPT_UNIT_ROOM_MST=SELECT hgnum_room_code,(SELECT hgstr_room_name FROM hgbt_room_mst WHERE a.hgnum_room_code \= hgnum_room_code AND a.gnum_hospital_code \= gnum_hospital_code AND a.gnum_isvalid \= gnum_isvalid  )  FROM hrgt_dept_unit_room_mst a WHERE a.hgnum_deptunitcode \=? AND a.gnum_hospital_code \=?    AND a.gnum_isvalid \=?  AND HGNUM_ROOM_CODE NOT IN (?) 

SELECT.CHANGE_ROOM.HRGT_DEPT_UNIT_ROOM_MST = With epidtl as (select gdt_entry_date as visitdate from hrgt_episode_dtl where hrgnum_puk \=? and hrgnum_episode_code \=? and hrgnum_visit_no \=? and gnum_isvalid \=?) SELECT X.HGNUM_ROOM_CODE,(SELECT A.HGSTR_ROOM_NAME FROM HGBT_ROOM_MST A WHERE A.HGNUM_ROOM_CODE\=X.HGNUM_ROOM_CODE AND A.GNUM_HOSPITAL_CODE\=X.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=?) AS ROOMNAME FROM HOPT_DEPT_UNIT_ROSTER_DTL X,epidtl Y WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.HOPNUM_DEPTUNITCODE\=? AND X.HOPDT_START_DT<\=Y.visitdate AND X.HOPDT_END_DT>\=Y.visitdate AND X.HGNUM_ROOM_CODE NOT IN (?) ORDER BY ROOMNAME
		
<!-- Changed by Akash because hospital code added as a primary key by Garima Mam, on Date 04-march-2015-->							     
INSERT.HRGT_ROOM_CHANGE_DTL=insert into HRGT_ROOM_CHANGE_DTL (HRGNUM_PUK, HRGNUM_EPISODE_CODE, HRGNUM_VISIT_NO, HRGNUM_SLNO, HGNUM_FROM_ROOM_CODE, HGNUM_TO_ROOM_CODE, HRGSTR_CHANGE_REASON, GNUM_SEAT_ID,GNUM_ISVALID,GNUM_HOSPITAL_CODE) values(?,?,?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HRGT_ROOM_CHANGE_DTL where HRGNUM_PUK\=? and  HRGNUM_EPISODE_CODE\=?  and HRGNUM_VISIT_NO\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?),?,?,?,?,?,?)
   
   
SELECT.OLD_ROOM.HGBT_ROOM_MST=SELECT hgstr_room_name  FROM hgbt_room_mst  WHERE hgnum_room_code\=? AND gnum_hospital_code\=?    AND  gnum_isvalid\=?\t



SELECT_ALL_TEMPLATE_NOTADDED.HGBT_TEMPLATE_MST = SELECT   hgnum_template_id as templateId, hgstr_template_name as templateName,HGNUM_TEMPLATE_CATEGORY as templateCategory FROM HGBT_TEMPLATE_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE\= ? AND HGNUM_TEMPLATE_ID NOT IN (SELECT A.HGNUM_TEMPLATE_ID FROM GBLT_USER_DESKMENU_TEMPLATE A WHERE GNUM_DESK_ID \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_USERSEAT_ID IS NULL AND HGNUM_DEPTUNITCODE IS NULL AND HIPNUM_WARD_CODE IS NULL) ORDER BY HGSTR_TEMPLATE_NAME


SELECT_ALL_UNIT_FOR_MAPPING.HGBT_UNIT_MST = SELECT DISTINCT C.HGNUM_DEPTUNITCODE, INITCAP (B.GSTR_DEPT_NAME)|| ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B, GBLT_USER_DESKMENU_MST C WHERE C.HGNUM_DEPTUNITCODE \= A.HGNUM_DEPTUNITCODE AND A.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND C.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND A.GNUM_ISVALID \= C.GNUM_ISVALID AND C.GNUM_USERSEAT_ID IS NULL AND C.HGNUM_DEPTUNITCODE IS NOT NULL AND C.HIPNUM_WARD_CODE IS NULL ORDER BY INITCAP (B.GSTR_DEPT_NAME) || ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')'


SELECT_ALL_DESK_BY_UNIT.HGBT_UNIT_MST = SELECT A.GNUM_DESK_ID,(SELECT GSTR_DESK_NAME FROM GBLT_DESK_MST WHERE GNUM_DESK_ID\=A.GNUM_DESK_ID AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) FROM GBLT_USER_DESKMENU_MST A WHERE GNUM_USERSEAT_ID IS NULL AND A.HGNUM_DEPTUNITCODE \= ? AND A.HIPNUM_WARD_CODE IS NULL AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t
											

SELECT_UNIT_FOR_SEATWISE.HGBT_UNIT_MST = SELECT DISTINCT C.HGNUM_DEPTUNITCODE, INITCAP (B.GSTR_DEPT_NAME)|| ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B, GBLT_USER_DESKMENU_MST C WHERE C.HGNUM_DEPTUNITCODE \= A.HGNUM_DEPTUNITCODE AND A.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND C.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND A.GNUM_ISVALID \= C.GNUM_ISVALID AND C.GNUM_USERSEAT_ID IS NOT NULL AND C.HGNUM_DEPTUNITCODE IS NOT NULL AND C.HIPNUM_WARD_CODE IS NULL ORDER BY INITCAP (B.GSTR_DEPT_NAME) || ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')'


SELECT_SEAT_BASED_ON_UNIT.GBLT_USER_DESKMENU_MST = SELECT GNUM_USERSEAT_ID,(SELECT GSTR_SEAT_NAME FROM GBLT_SEAT_MST WHERE GNUM_SEATID\=A.GNUM_USERSEAT_ID AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) FROM GBLT_USER_DESKMENU_MST A WHERE GNUM_USERSEAT_ID IS NOT NULL AND HGNUM_DEPTUNITCODE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARD_CODE IS NULL
													
SELECT_SEAT_BASED_ON_UNIT.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.GNUM_SEATID ,INITCAP(A.GSTR_SEAT_NAME) FROM GBLT_SEAT_MST A WHERE TRUNC(A.GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_SEATID IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NULL  AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.GSTR_SEAT_NAME)

SELECT_USER_BASED_ON_UNIT.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.GNUM_USERID ,INITCAP(A.GSTR_USER_NAME) FROM GBLT_USER_MST A WHERE A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_USERID IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NULL  AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.GSTR_USER_NAME)

SELECT_DESK_BASED_ON_UNIT_N_SEAT = SELECT GNUM_DESK_ID,(SELECT GSTR_DESK_NAME FROM GBLT_DESK_MST WHERE GNUM_DESK_ID\=A.GNUM_DESK_ID AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) FROM GBLT_USER_DESKMENU_MST A WHERE GNUM_USERSEAT_ID \= ? AND HGNUM_DEPTUNITCODE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARD_CODE IS NULL\t\t\t\t\t\t\t\t\t\t\t


SELECT_UNIT_FOR_WARDWISE.HGBT_UNIT_MST = SELECT DISTINCT C.HGNUM_DEPTUNITCODE, INITCAP (B.GSTR_DEPT_NAME)|| ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B, GBLT_USER_DESKMENU_MST C WHERE C.HGNUM_DEPTUNITCODE \= A.HGNUM_DEPTUNITCODE AND A.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND C.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND A.GNUM_ISVALID \= C.GNUM_ISVALID AND C.GNUM_USERSEAT_ID IS NULL AND C.HGNUM_DEPTUNITCODE IS NOT NULL AND C.HIPNUM_WARD_CODE IS NOT NULL ORDER BY INITCAP (B.GSTR_DEPT_NAME) || ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')'



SELECT_UNIT_FOR_WARD_SEAT_WISE.HGBT_UNIT_MST = SELECT DISTINCT C.HGNUM_DEPTUNITCODE, INITCAP (B.GSTR_DEPT_NAME)|| ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B, GBLT_USER_DESKMENU_MST C WHERE C.HGNUM_DEPTUNITCODE \= A.HGNUM_DEPTUNITCODE AND A.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND C.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND A.GNUM_ISVALID \= C.GNUM_ISVALID AND C.GNUM_USERSEAT_ID IS NOT NULL AND C.HGNUM_DEPTUNITCODE IS NOT NULL AND C.HIPNUM_WARD_CODE IS NOT NULL ORDER BY INITCAP (B.GSTR_DEPT_NAME) || ' ('|| INITCAP (A.HGSTR_UNITNAME) || ')'



SELECT_WARD_FOR_UNIT_WARD_WISE.HGBT_UNIT_MST = SELECT HIPNUM_WARD_CODE, (SELECT HIPSTR_WARD_NAME FROM HIPT_WARD_MST WHERE HIPNUM_WARD_CODE\=A.HIPNUM_WARD_CODE AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?)FROM GBLT_USER_DESKMENU_MST A WHERE A.GNUM_USERSEAT_ID IS NULL AND A.HGNUM_DEPTUNITCODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARD_CODE IS NOT NULL\t\t\t\t\t\t\t\t\t

SELECT_WARD_BASED_ON_UNIT.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.HIPNUM_WARD_CODE, INITCAP(A.HIPSTR_WARD_NAME) FROM HIPT_WARD_MST A WHERE TRUNC(SYSDATE) BETWEEN TRUNC(A.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) AND A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.HIPNUM_WARD_CODE IN (SELECT HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NOT NULL  AND GNUM_USERSEAT_ID IS NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.HIPSTR_WARD_NAME)


SELECT_DESK_BASED_ON_WARD_GBLT_USER_DESKMENU_MST = SELECT GNUM_DESK_ID,(SELECT GSTR_DESK_NAME FROM GBLT_DESK_MST WHERE GNUM_DESK_ID\=A.GNUM_DESK_ID AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) FROM GBLT_USER_DESKMENU_MST A WHERE GNUM_USERSEAT_ID IS NULL AND HGNUM_DEPTUNITCODE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARD_CODE \= ?


SELECT_WARD_FOR_UNIT_WARD_SEAT_WISE.HGBT_UNIT_MST = SELECT A.HIPNUM_WARD_CODE, INITCAP(A.HIPSTR_WARD_NAME) FROM HIPT_WARD_MST A WHERE TRUNC(SYSDATE) BETWEEN TRUNC(A.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) AND A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.HIPNUM_WARD_CODE IN (SELECT HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NOT NULL  AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.HIPSTR_WARD_NAME)


SELECT_SEAT_FOR_UNIT_WARD_N_SEAT_WISE.HGBT_UNIT_MST = SELECT A.GNUM_SEATID ,INITCAP(A.GSTR_SEAT_NAME) FROM GBLT_SEAT_MST A WHERE TRUNC(A.GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_SEATID IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NOT NULL  AND HIPNUM_WARD_CODE\=? AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.GSTR_SEAT_NAME)

SELECT_USER_FOR_UNIT_WARD_N_USER_WISE.HGBT_UNIT_MST = SELECT A.GNUM_USERID ,INITCAP(A.GSTR_USER_NAME) FROM GBLT_USER_MST A WHERE A.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_USERID IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HGNUM_DEPTUNITCODE\=? AND HIPNUM_WARD_CODE IS NOT NULL  AND HIPNUM_WARD_CODE\=? AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(A.GSTR_USER_NAME)

SELECT_DESK_BASED_ON_UNIT_N_WARD_N_SEAT_GBLT_USER_DESKMENU_MST = SELECT GNUM_DESK_ID,(SELECT GSTR_DESK_NAME FROM GBLT_DESK_MST WHERE GNUM_DESK_ID\=A.GNUM_DESK_ID AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) FROM GBLT_USER_DESKMENU_MST A WHERE GNUM_USERSEAT_ID \= ? AND HGNUM_DEPTUNITCODE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARD_CODE \= ?\t\t\t\t\t\t\t\t\t\t\t\t
													
							  
ESSENTIAL.HGBT_TEMPLATE_CATEGORY_MST = select HGNUM_TEMPLATE_CATEGORY ,initcap(HGNUM_TEMPLATE_CATEGORY_TYPE) from HGBT_TEMPLATE_CATEGORY_MST where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?

ESSENTIAL.HGBT_DRUG_FREQUENCY_MST	=SELECT HGNUM_FREQUENCY_ID, UPPER(HGSTR_FREQUENCY_NAME) FROM HGBT_DRUG_FREQUENCY_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?

#ESSENTIAL.HGBT_DRUG_FREQUENCY_MST	=SELECT HGNUM_FREQUENCY_ID, UPPER(HGSTR_FREQUENCY_NAME) ||'(' ||hbstr_freq_scedule||')' FROM HGBT_DRUG_FREQUENCY_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?
# Commented By Chetan for implementing Single procedure of Drug Detail 
# Date: 2015_11_27
#ESSENTIAL.LIST.HSTT_DRUGBRAND_MST	=	SELECT HSTNUM_ITEMBRAND_ID||'#'||HSTNUM_ITEMTYPE_ID, INITCAP(HSTSTR_ITEM_NAME) FROM HSTT_DRUGBRAND_MST \
#									WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? order by INITCAP(HSTSTR_ITEM_NAME)

# Commented By Chetan for implementing Single procedure of Drug Detail 
# Date: 2015_11_27
									
#ESSENTIAL.LIST.DETAIL.HSTT_DRUGBRAND_MST = SELECT HSTNUM_ITEMBRAND_ID||'#'||HSTNUM_ITEMTYPE_ID, INITCAP(HSTSTR_ITEM_NAME) FROM HSTT_DRUGBRAND_MST \
#											WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? AND HSTNUM_ITEMBRAND_ID In  (SELECT y.hstnum_item_id FROM hgbt_unit_drug_mapping_mst y ,HSTT_DRUGBRAND_MST x WHERE y.hstnum_item_id=x.HSTNUM_ITEMBRAND_ID and y.gnum_isvalid=1 \
#										    and hgnum_deptunitcode=? and y.gnum_hospital_code=?) order by INITCAP(HSTSTR_ITEM_NAME)
									
									

ESSENTIAL.LIST.HGBT_DRUG_DOSE_MST	=SELECT HGNUM_DOSE_ID AS doseId, INITCAP(HGSTR_DOSE_NAME) AS doseName, HSTNUM_ITEMTYPE_ID AS itemTypeId,HGNUM_ISFREQUENCY_BOUND as isFrequencyBound,HGNUM_DOSE_QTY as doseQty FROM HGBT_DRUG_DOSE_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?


# Commented By Chetan for implementing Single procedure for Item Type Detail 
# Date: 2015_11_27

#ESSENTIAL.HSTT_ITEMTYPE_MST = SELECT DISTINCT b.hstnum_itemtype_id, INITCAP (b.hststr_itemtype_name)  \
#          						 FROM hstt_itemtype_mst b \
#        					 WHERE b.gnum_hospital_code = ? \
#		  					 AND SSTNUM_ITEM_CAT_NO=? \
#          					 AND b.gnum_isvalid = ? order by INITCAP (b.hststr_itemtype_name)
						# decode(a.hgnum_isempty_stomach,1,'Empty Stomatch','') as emptyStomatchDesc  is replaced by drugAdminName
SELECT.PREVIOUS_DRUG_DETAIL.HRGT_EPISODE_DRUG_DTL	=SELECT 0 as opdIpdFlag, HRGNUM_PUK AS patCrNo, HRGNUM_EPISODE_CODE AS episodeCode, HRGNUM_VISIT_NO AS episodeVisitNo, HRGNUM_ADMISSION_NO AS admissionNo, HRGNUM_S_NO AS serialNo, HSTNUM_ITEM_ID AS drugId, hststr_itembrand_name AS drugName, nvl(hstnum_itembrand_id,0) as drugBrandId, HGNUM_DOSE_ID AS doseId, HGSTR_DOSE_NAME AS doseName, HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') AS startDate,to_char( HRGDT_END_DATE,'dd-Mon-yyyy') AS endDate, PSRSTR_EMP_NO AS empNo, HBNUM_RX_CONTINUE AS rxContinue, HRGSTR_REMARKS AS remarks, GNUM_SEAT_ID AS seatId, TO_CHAR(GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS entryDate,HGNUM_ISEMPTY_STOMACH as drugAdminId,HGNUM_DRUG_ROUTE_ID as drugRouteId, (select HGSTR_DRUG_ROUTE_NAME from HGBT_DRUG_ROUTE_MST where HGNUM_DRUG_ROUTE_ID\=b.HGNUM_DRUG_ROUTE_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?) as drugRouteName ,(SELECT  d.cstr_admin_name  FROM cims_drug_admin_mst_sys d where d.cnum_admin_id\=HGNUM_ISEMPTY_STOMACH and  d.gnum_isvalid\=1) as drugAdminName, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=b.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) as frequencyName ,HGNUM_DOSE_QTY as doseQty , HSTNUM_ISSUE_QTY as issueQty , HSTNUM_REQUIRED_QTY as requiredQty, (select STR_EMP_FULL_NAME from PIST_EMP_REGISTRATION_DTL x where b.PSRSTR_EMP_NO\=x.STR_EMP_NO and b.GNUM_ISVALID\=x.GNUM_ISVALID and b.GNUM_HOSPITAL_CODE\=x.GNUM_HOSPITAL_CODE) as empName,HRGDT_START_DATE as orderByDate FROM HRGT_EPISODE_DRUG_DTL b WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? and hrgnum_advice_type\=1 union SELECT 1 as opdIpdFlag , HRGNUM_PUK AS patCrNo, HRGNUM_EPISODE_CODE AS episodeCode, HRGNUM_VISIT_NO AS episodeVisitNo, HRGNUM_ADMISSION_NO AS admissionNo,HPMRNUM_ITEM_SRNO AS serialNo ,  HSTNUM_ITEM_ID AS drugId, HSTSTR_ITEM_NAME AS drugName, nvl(hstnum_itembrand_id,0) as drugBrandId, HGNUM_DOSE_ID AS doseId, HGSTR_DOSE_NAME AS doseName, HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') AS startDate,to_char( HRGDT_END_DATE,'dd-Mon-yyyy') AS endDate, PSRSTR_EMP_NO AS empNo, HBNUM_RX_CONTINUE AS rxContinue, HRGSTR_REMARKS AS remarks, a.GNUM_SEAT_ID AS seatId, TO_CHAR(a.GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS entryDate,HGNUM_ISEMPTY_STOMACH as drugAdminId,HGNUM_DRUG_ROUTE_ID as drugRouteId,  (select HGSTR_DRUG_ROUTE_NAME from HGBT_DRUG_ROUTE_MST where HGNUM_DRUG_ROUTE_ID\=a.HGNUM_DRUG_ROUTE_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?) as drugRouteName , (SELECT  d.cstr_admin_name  FROM cims_drug_admin_mst_sys d where d.cnum_admin_id\=HGNUM_ISEMPTY_STOMACH and  d.gnum_isvalid\=1) as drugAdminName, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=a.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) as frequencyName ,HGNUM_DOSE_QTY as doseQty , HSTNUM_ISSUE_QTY as issueQty , HSTNUM_REQUIRED_QTY as requiredQty, (select STR_EMP_FULL_NAME from PIST_EMP_REGISTRATION_DTL x where a.PSRSTR_EMP_NO\=x.STR_EMP_NO and b.GNUM_ISVALID\=x.GNUM_ISVALID and b.GNUM_HOSPITAL_CODE\=x.GNUM_HOSPITAL_CODE) as empName,HRGDT_START_DATE as orderByDate  FROM hpmrt_profile_drug_advice_dtl a, hpmrt_pat_profile_dtl b WHERE a.hpmrnum_profile_id \= b.hpmrnum_profile_id AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_hospital_code \= b.gnum_hospital_code AND hrgnum_puk \= ? AND hrgnum_episode_code \= ? AND a.gnum_hospital_code \= ? and  b.gnum_isvalid\=? AND a.HRGNUM_ENTRY_MODE\=1 ORDER BY orderByDate  

#Added by Vasu on 5.Feb.2019
SELECT.PREVIOUS_DRUG_DETAIL.HRGT_EPISODE_DRUG_DTL_SPD	=SELECT HRGNUM_PUK AS patCrNo, HRGNUM_EPISODE_CODE AS episodeCode, HRGNUM_VISIT_NO AS episodeVisitNo, HRGNUM_ADMISSION_NO AS admissionNo, HRGNUM_S_NO AS serialNo, HSTNUM_ITEM_ID AS drugId, hststr_itembrand_name AS drugName, nvl(hstnum_itembrand_id,0) as drugBrandId, HGNUM_DOSE_ID AS doseId, HGSTR_DOSE_NAME AS doseName, HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') AS startDate,to_char( HRGDT_END_DATE,'dd-Mon-yyyy') AS endDate, PSRSTR_EMP_NO AS empNo, HBNUM_RX_CONTINUE AS rxContinue, HRGSTR_REMARKS AS remarks, GNUM_SEAT_ID AS seatId, TO_CHAR(GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS entryDate,HGNUM_ISEMPTY_STOMACH as drugAdminId,HGNUM_DRUG_ROUTE_ID as drugRouteId, (select HGSTR_DRUG_ROUTE_NAME from HGBT_DRUG_ROUTE_MST where HGNUM_DRUG_ROUTE_ID=x.HGNUM_DRUG_ROUTE_ID and GNUM_ISVALID=1 and GNUM_HOSPITAL_CODE=100) as drugRouteName, (SELECT d.cstr_admin_name  FROM cims_drug_admin_mst_sys d where d.cnum_admin_id=HGNUM_ISEMPTY_STOMACH and  d.gnum_isvalid=1) as drugAdminName, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID=x.HGNUM_FREQUENCY_ID and GNUM_ISVALID=1 and GNUM_HOSPITAL_CODE=100) as frequencyName,(select hbstr_freq_scedule from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID=x.HGNUM_FREQUENCY_ID and GNUM_ISVALID=1 and GNUM_HOSPITAL_CODE=100) as frequencyDescription, HGNUM_DOSE_QTY as doseQty , HSTNUM_ISSUE_QTY as issueQty , HSTNUM_REQUIRED_QTY as requiredQty, pkg_clinical_gbl_fun.get_emp_name(x.PSRSTR_EMP_NO::character varying, x.GNUM_HOSPITAL_CODE::character varying) as empName, HRGDT_START_DATE as orderByDate FROM HRGT_EPISODE_DRUG_DTL x WHERE HRGNUM_PUK=? AND HRGNUM_EPISODE_CODE=? AND GNUM_ISVALID=1 AND GNUM_HOSPITAL_CODE=? and x.hrgnum_advice_type=1 order by HRGDT_START_DATE


SELECT.PREVIOUS_DISCHARGEADVICE_DRUG_DETAIL.HRGT_EPISODE_DRUG_DTL	=SELECT 0 as opdIpdFlag, HRGNUM_PUK AS patCrNo, HRGNUM_EPISODE_CODE AS episodeCode, HRGNUM_VISIT_NO AS episodeVisitNo, HRGNUM_ADMISSION_NO AS admissionNo, HRGNUM_S_NO AS serialNo, HSTNUM_ITEM_ID AS drugId, hststr_itembrand_name AS drugName, nvl(hstnum_itembrand_id,0) as drugBrandId, HGNUM_DOSE_ID AS doseId, HGSTR_DOSE_NAME AS doseName, HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') AS startDate,to_char( HRGDT_END_DATE,'dd-Mon-yyyy') AS endDate, PSRSTR_EMP_NO AS empNo, HBNUM_RX_CONTINUE AS rxContinue, HRGSTR_REMARKS AS remarks, GNUM_SEAT_ID AS seatId, TO_CHAR(GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS entryDate,HGNUM_ISEMPTY_STOMACH as drugAdminId,HGNUM_DRUG_ROUTE_ID as drugRouteId, (select HGSTR_DRUG_ROUTE_NAME from HGBT_DRUG_ROUTE_MST where HGNUM_DRUG_ROUTE_ID\=b.HGNUM_DRUG_ROUTE_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?) as drugRouteName ,(SELECT  d.cstr_admin_name  FROM cims_drug_admin_mst_sys d where d.cnum_admin_id\=HGNUM_ISEMPTY_STOMACH and  d.gnum_isvalid\=1) as drugAdminName, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=b.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) as frequencyName ,HGNUM_DOSE_QTY as doseQty , HSTNUM_ISSUE_QTY as issueQty , HSTNUM_REQUIRED_QTY as requiredQty, (select STR_EMP_FULL_NAME from PIST_EMP_REGISTRATION_DTL x where b.PSRSTR_EMP_NO\=x.STR_EMP_NO and b.GNUM_ISVALID\=x.GNUM_ISVALID and b.GNUM_HOSPITAL_CODE\=x.GNUM_HOSPITAL_CODE) as empName,HRGDT_START_DATE as orderByDate FROM HRGT_EPISODE_DRUG_DTL b WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND hrgnum_advice_type\= ? ORDER BY orderByDate 
														


SELECT.PREVIOUS_REST_DETAIL.HRGT_EPISODE_RESTADVICE_DTL = select HRGNUM_PUK AS patCrNo ,HRGNUM_EPISODE_CODE AS episodeCode,HRGNUM_S_NO AS serialNo, HRGNUM_VISIT_NO AS episodeVisitNo,HRGSTR_REST_REASON as restReason, GNUM_SEAT_ID AS seatId,to_char(GDT_ENTRY_DATE,'dd-Mon-yyyy') as entryDate,HGNUM_ADVICE_DAYS as days , to_char(HRGDT_START_DATE,'dd-mm-yyyy') as startDate, to_char(HRGDT_END_DATE,'dd-mm-yyyy') as endDate,HRGSTR_REMARKS as remarks,PSRSTR_EMP_NO AS empNo from HRGT_EPISODE_RESTADVICE_DTL a where HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? and GDT_ENTRY_DATE\=(select max(GDT_ENTRY_DATE) from hrgt_episode_restadvice_dtl x where a.hrgnum_puk\=x.hrgnum_puk and a.hrgnum_episode_code\=x.hrgnum_episode_code and a.gnum_hospital_code \=x.gnum_hospital_code  and a.GNUM_ISVALID\=x.GNUM_ISVALID) ORDER BY HRGNUM_VISIT_NO, HRGNUM_S_NO \t\t
															
ESSENTIAL.LIST.HGBT_EXT_TREATMENT_MST = SELECT HGNUM_EXT_TREATMENT_ID, INITCAP(HGSTR_EXT_TREATMENT_NAME) FROM HGBT_EXT_TREATMENT_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?	AND HGNUM_TREATMENT_TYPE=?		

SELECT.PREVIOUS_EXTTREATMENT_DETAIL.HRGT_EPISODE_EXTTREATMENT_DTL = select HRGNUM_PUK as patCrNo,HRGNUM_EPISODE_CODE as episodeCode,HRGNUM_S_NO as serialNo,HRGNUM_ADMISSION_NO as admissionNo,HRGNUM_VISIT_NO as episodeVisitNo,HGNUM_EXT_TREATMENT_ID as extTreatmentId, HGNUM_DOSE_ID as doseId,GNUM_SEAT_ID as seatId,HGSTR_DOSE_NAME as doseName,HGNUM_FREQUENCY_ID as frequencyId,HGNUM_DAYS as days,to_char(HRGDT_START_DATE,'dd-Mon-yyyy') as startDate, to_char(HRGDT_END_DATE,'dd-Mon-yyyy') as endDate,HRGSTR_REMARKS as remarks,HBNUM_RX_CONTINUE as rxContinue, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=b.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) as frequencyName,  HGSTR_EXT_TREATMENT_NAME as extTreatmentName, HRGNUM_ISMASTER_BOUND as isMasterBound ,to_char(GDT_ENTRY_DATE,'dd-Mon-yyyy') as entryDate , HGNUM_TREATMENT_TYPE as treatmentType  from HRGT_EPISODE_EXTTREATMENT_DTL b WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=?  AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND HGNUM_TREATMENT_TYPE\=? ORDER BY HRGNUM_VISIT_NO, HRGNUM_S_NO 
 																	
SELECT.PREVIOUS_OTHER_INSTRUCTION_DETAIL.HRGT_EPISODE_EXTTREATMENT_DTL = select HRGNUM_PUK as patCrNo,HRGNUM_EPISODE_CODE as episodeCode,HRGNUM_S_NO as serialNo,HRGNUM_ADMISSION_NO as admissionNo,HRGNUM_VISIT_NO as episodeVisitNo, HGNUM_EXT_TREATMENT_ID as extTreatmentId, HGNUM_DOSE_ID as doseId,GNUM_SEAT_ID as seatId,HGSTR_DOSE_NAME as doseName,HGNUM_FREQUENCY_ID as frequencyId,HGNUM_DAYS as days,to_char(HRGDT_START_DATE,'dd-Mon-yyyy') as startDate, to_char(HRGDT_END_DATE,'dd-Mon-yyyy') as endDate,HRGSTR_REMARKS as remarks,HBNUM_RX_CONTINUE as rxContinue, (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=b.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE ) as frequencyName,  HGSTR_EXT_TREATMENT_NAME as extTreatmentName, HRGNUM_ISMASTER_BOUND as isMasterBound ,to_char(GDT_ENTRY_DATE,'dd-Mon-yyyy') as entryDate,HGNUM_TREATMENT_TYPE as treatmentType  from HRGT_EPISODE_EXTTREATMENT_DTL b WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=?  AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND HGNUM_TREATMENT_TYPE in (?,?) ORDER BY HRGNUM_VISIT_NO, HRGNUM_S_NO



ESSENTIAL.LIST.HDKT_MEALTYPE_MST = SELECT hdknum_mealtype_id, INITCAP(hdkstr_mealtype_disp_name) FROM hdkt_mealtype_mst WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?


SELECT.PREVIOUS_DIET_ADVICE_DETAIL.HRGT_EPISODE_DIETADVICE_DTL = select HRGNUM_PUK as patCrNo, HRGNUM_EPISODE_CODE as episodeCode,HRGNUM_S_NO as serialNo,  HRGNUM_ADMISSION_NO as admissionNo,HRGNUM_VISIT_NO as episodeVisitNo, HDMNUM_DIET_TYPE_CODE as dietTypeCode, GNUM_SEAT_ID as seatId,to_char(GDT_ENTRY_DATE,'dd-Mon-yyyy') as entryDate,HGNUM_ADVICE_DAYS as days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') as startDate,to_char(HRGDT_END_DATE,'dd-Mon-yyyy') as endDate,HRGSTR_REMARKS as remarks,GNUM_HOSPITAL_CODE as hospitalCode, (select HDMSTR_DIET_TYPE from HDMT_DIET_TYPE_MST b where b.HDMNUM_DIET_TYPE_CODE\=a.HDMNUM_DIET_TYPE_CODE and b.GNUM_ISVALID\=a.GNUM_ISVALID and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE ) as dietTypeDesc from  HRGT_EPISODE_DIETADVICE_DTL a  where HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?  and GDT_ENTRY_DATE\=(select max(GDT_ENTRY_DATE) from hrgt_episode_dietadvice_dtl x where a.hrgnum_puk\=x.hrgnum_puk and a.hrgnum_episode_code\=x.hrgnum_episode_code and a.gnum_hospital_code \=x.gnum_hospital_code  and a.GNUM_ISVALID\=x.GNUM_ISVALID) ORDER BY HRGNUM_VISIT_NO, HRGNUM_S_NO
 

						

SELECT_TEMPLATE_N_CATEGORY.HGBT_TEMPLATE_MST =SELECT X.HGNUM_TEMPLATE_ID AS templateId, INITCAP(X.HGSTR_TEMPLATE_NAME) AS templateName, X.HGNUM_TEMPLATE_TYPE AS templateType, X.HGNUM_TEMPLATE_CATEGORY AS templateCategory FROM HGBT_TEMPLATE_MST X WHERE X.GNUM_ISVALID\=? AND X.GNUM_HOSPITAL_CODE\=? AND TRUNC(SYSDATE) BETWEEN TRUNC(X.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(X.GDT_EFFECTIVE_TO,SYSDATE)) ORDER BY templateName 


SELECT_DESK_MENU_BASED_ON_DESKID.GBLT_DESK_MENU_MST = SELECT X.GNUM_DESK_MENU_ID AS deskMenuId, INITCAP(X.GSTR_DESK_MENU_NAME) AS deskMenuName, X.HGNUM_TEMPLATE_CATEGORY AS templateCategory, X.GNUM_USABILITY_FLAG AS usabilityFlag FROM GBLT_DESK_MENU_MST X WHERE X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=? AND X.GNUM_ISTEMPLATE\=? AND X.GNUM_DESK_MENU_ID IN (SELECT GNUM_DESK_MENU_ID FROM GBLT_DESK_DTL WHERE GNUM_DESK_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) ORDER BY deskMenuName
							

SELECT_ALL_ALERT.HGBT_PAT_ALERT_MST1 = SELECT HGNUM_PAT_ALERT_ID||'\#'||hgnum_snomedct_concept_id, HGSTR_ALERT_NAME FROM HGBT_PAT_ALERT_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ? AND HGNUM_PAT_ALERT_ID NOT IN (SELECT HGNUM_PAT_ALERT_ID FROM HPMRT_PAT_ALERTS_DTL WHERE HRGNUM_PUK \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1) >\= TRUNC(SYSDATE) AND TRUNC(NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1)) > TRUNC(SYSDATE)) ORDER BY HGSTR_ALERT_NAME
										
#/* Added By Akash Singh on 08-Dec-2014 */   																						
#SELECT_ALL_ALERT.HGBT_PAT_ALERT_MST2 = SELECT HGNUM_PAT_ALERT_ID||'#'||hgnum_snomedct_concept_id, HGSTR_ALERT_NAME FROM HGBT_PAT_ALERT_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = ? \
#										AND HGNUM_PAT_ALERT_ID NOT IN (SELECT HGNUM_PAT_ALERT_ID FROM HPMRT_PAT_ALERTS_DTL WHERE HRGNUM_PUK = ? \
#										AND GNUM_ISVALID = ? AND NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1) >= TRUNC(SYSDATE) AND TRUNC(NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1)) > TRUNC(SYSDATE)) ORDER BY HGSTR_ALERT_NAME
#
#
#/* Added By Akash Singh on 09-Sep-2016 */  
SELECT_ALL_ALERT.HGBT_PAT_ALERT_MST = SELECT HGNUM_PAT_ALERT_ID, HGSTR_ALERT_NAME FROM HGBT_PAT_ALERT_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ? AND HGNUM_PAT_ALERT_ID NOT IN (SELECT HGNUM_PAT_ALERT_ID FROM HPMRT_PAT_ALERTS_DTL WHERE HRGNUM_PUK \= ? AND GNUM_ISVALID \= ? AND NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1) >\= TRUNC(SYSDATE) AND TRUNC(NVL(HRGDT_EFFECTIVE_TO,SYSDATE+1)) > TRUNC(SYSDATE)) ORDER BY HGSTR_ALERT_NAME


/* Modified for Cut Off Time, First Dose Time, Dose Duration By Shruti Shail 26-Oct-2016*/


SELECT.HRGT_DAILY_PATIENT_DTL.COUNT_CSULTY_TOTAL_PATIENT = SELECT COUNT(*) FROM HRGT_DAILY_PATIENT_DTL A WHERE DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND ( TRUNC (a.gdt_entry_date) \= TRUNC (SYSDATE) OR (    (SELECT hrgdt_in_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) IS NOT NULL AND (SELECT hrgdt_out_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) IS NULL))

SELECT.HRGT_DAILY_PATIENT_DTL.COUNT_CSULTY_TODAY_PATIENT = SELECT COUNT(*) FROM HRGT_DAILY_PATIENT_DTL A WHERE DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_DEPTUNITCODE, 1, A.hgnum_changeto_deptunitcode, A.HGNUM_DEPTUNITCODE) \= ? AND DECODE (A.HRGNUM_CHANGE_TYPE,0, A.HGNUM_ROOM_CODE, 1,A.hgnum_changeto_room_code,A.HGNUM_ROOM_CODE) \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND TRUNC(A.HRGDT_EPISODE_DATE)\=TRUNC(SYSDATE) AND ( TRUNC (a.gdt_entry_date) \= TRUNC (SYSDATE) OR (    (SELECT hrgdt_in_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) IS NOT NULL AND (SELECT hrgdt_out_date FROM hrgt_triage_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code AND hrgnum_visit_no \= a.hrgnum_visit_no AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= 1) IS NULL))

		
SELECT_DRUG_FREQ_VO_LIST.HGBT_DRUG_FREQUENCY_MST_OLD = SELECT hgnum_frequency_id as frequencyId, hgnum_slno as serialNo, hgstr_frequency_name as frequencyName, hbstr_freq_scedule as frequencySchedule, hgstr_freq_desc as frequencyDesc, gnum_seat_id as seatId, gdt_entry_date as entryDate, hgnum_frequency as frequency, hgstr_mor_dose_time as morDoseTime, hgstr_aft_dose_time as aftDoseTime, hgstr_eve_dose_time as eveDoseTime, hgstr_ngt_dose_time as ngtDoseTime FROM hgbt_drug_frequency_mst where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? 
SELECT_DRUG_FREQ_VO_LIST.HGBT_DRUG_FREQUENCY_MST = SELECT hgnum_frequency_id as frequencyId, hgnum_slno as serialNo, hgstr_frequency_name as frequencyName, hbstr_freq_scedule as frequencySchedule, hgstr_freq_desc as frequencyDesc, gnum_seat_id as seatId, gdt_entry_date as entryDate, hgnum_frequency as frequency, hgstr_mor_dose_time as morDoseTime, hgstr_aft_dose_time as aftDoseTime, hgstr_eve_dose_time as eveDoseTime, hgstr_ngt_dose_time as ngtDoseTime, hgstr_cutoff_time as cutOffTime,hgstr_first_dose_time as firstDoseTime,hgstr_dose_duration as doseDuration FROM hgbt_drug_frequency_mst where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? 
 	
// Modified to fetch cut off time from table by Shruti Shail on 28 oct 2016
SELECT.PREV_DRUG_SCHEDULE.HRGT_EPISODE_DRUG_SCHEDULE_DTL = SELECT hrgnum_puk as patCrNo, hrgnum_episode_code as episodeCode, hrgnum_s_no as serialNo , hrgnum_schedule_slno as sheduleSerialNo, hrgnum_visit_no as episodeVisitNo, hstnum_item_id as itemTypeId, hgnum_dose_id as doseId, gnum_seat_id as seatId, hgstr_dose_name as doseName, hgstr_dose_time as doseTime, to_char(gdt_entry_date,'dd-Mon-yyyy') as entryDate, hgnum_isempty_stomach as isEmptyStomach, gnum_isvalid as isValid,  hgnum_dose_shift as doseShift, gnum_hospital_code as hospitalCode,hgstr_cutoff_time_left as cutOffTime, hgstr_cutoff_time_right as cutOffTimeafter FROM hrgt_episode_drug_schedule_dtl where  HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? union SELECT hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode, HPMRNUM_ITEM_SRNO AS serialno, 0 AS sheduleserialno, hrgnum_visit_no AS episodevisitno, hstnum_item_id AS itemtypeid, hgnum_dose_id AS doseid, a.gnum_seat_id AS seatid, hgstr_dose_name AS dosename, hgstr_dose_time AS dosetime, TO_CHAR (a.gdt_entry_date, 'dd-Mon-yyyy') AS entrydate, hgnum_isempty_stomach AS isemptystomach, a.gnum_isvalid AS isvalid, hgnum_dose_shift AS doseshift, a.gnum_hospital_code AS hospitalcode, 'null' as cutOffTime, 'null' as cutOffTimeafter  FROM HPMRT_PROFILE_DRUG_SCH_DTL a,hpmrt_pat_profile_dtl b WHERE a.hpmrnum_profile_id \= b.hpmrnum_profile_id AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_hospital_code \= b.gnum_hospital_code AND hrgnum_puk \=? AND hrgnum_episode_code \=? and  b.gnum_isvalid\=? AND a.gnum_hospital_code \=? \t\t\t\t


						

SELECT_USER_BASED_ON_GROUP.GBLT_SEAT_MST = SELECT   GNUM_SEATID, INITCAP (GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE TRUNC (GDT_EFFECT_DATE) <\= TRUNC (SYSDATE) AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ? AND GNUM_GROUP_CODE \= ? ORDER BY INITCAP (GSTR_SEAT_NAME) \t\t\t\t\t\t

ESSENTIAL.USERS_BY_USERNAME.GBLT_USER_MST	=SELECT GNUM_USERID AS userId, INITCAP(GSTR_USER_NAME) AS userSeatId, PSRSTR_EMP_NO AS userEmpID, GNUM_DESIGNATION AS userType, INITCAP(GSTR_USR_NAME) AS userName FROM GBLT_USER_MST WHERE GNUM_HOSPITAL_CODE\=? AND UPPER(GSTR_USER_NAME) LIKE ('\#') AND TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECT_DATE) AND TRUNC(NVL(GDT_EXPIRY_DATE,SYSDATE)) AND GNUM_ISVALID \= ?\t
												
ESSENTIAL.USERS_BY_EMPID.GBLT_USER_MST	=SELECT GNUM_USERID AS userId, INITCAP(GSTR_USER_NAME) AS userSeatId, PSRSTR_EMP_NO AS userEmpID, GNUM_DESIGNATION AS userType, INITCAP(GSTR_USR_NAME) AS userName FROM GBLT_USER_MST WHERE GNUM_HOSPITAL_CODE\=? AND UPPER(PSRSTR_EMP_NO) LIKE ('\#') AND TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECT_DATE) AND TRUNC(NVL(GDT_EXPIRY_DATE,SYSDATE)) AND GNUM_ISVALID \= ?
												
ESSENTIAL.USERS_BY_EMPNAME.GBLT_USER_MST	=SELECT GNUM_USERID AS userId, INITCAP(GSTR_USER_NAME) AS userSeatId, PSRSTR_EMP_NO AS userEmpID, GNUM_DESIGNATION AS userType, INITCAP(GSTR_USR_NAME) AS userName FROM GBLT_USER_MST WHERE GNUM_HOSPITAL_CODE\=? AND UPPER(GSTR_USR_NAME) LIKE ('\#') AND TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECT_DATE) AND TRUNC(NVL(GDT_EXPIRY_DATE,SYSDATE)) AND GNUM_ISVALID \= ?
																								

#updated by Dheeraj on 02-Jan-2019 to fetch Consent Status
#SELECT.CONSENT_REQUEST_VO_BY_CRNO_LIST.HGBT_CONSENT_DTL = SELECT A.HGNUM_CONSENT_ID AS consentId, B.HGSTR_TEMPLATE_NAME AS templateDesc, A.HGNUM_CONSENT_STATUS AS consentStatus, A.GNUM_RELATION_CODE AS relationCode, A.HGNUM_SERVICE_TYPE_ID AS serviceTypeId, A.HGSTR_SERVICE_ID AS serviceId, A.HGNUM_RAISED_BY AS raisedBy, to_char(A.HGDT_RAISED_DATE,'dd-Mon-yyyy hh\:mi') AS raisedDate, A.HRGSTR_DOCTOR_ID AS doctorId, (SELECT DISTINCT INITCAP (C.HGSTR_SERVICE_DESC) FROM HGBT_CONSENT_MAPPING C WHERE C.HGSTR_SERVICE_ID \= A.HGSTR_SERVICE_ID AND C.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID) AS serviceDesc, D.HBSTR_SERVICE_TYPE AS serviceTypeDesc ,HGSTR_REQ_ID as requestID, DECODE(A.HRGNUM_CONSENT_GIVENBY,0,'Self',1,'Relative',NULL) AS givenBy, A.HRGSTR_RELATIVE_NAME AS relativeName, A.GNUM_RELATION_CODE AS relationCode, (SELECT DISTINCT INITCAP(E.GSTR_RELATION_NAME) FROM GBLT_RELATION_MST E  WHERE E.GNUM_RELATION_CODE\=A.GNUM_RELATION_CODE ) AS relationshipName, A.HRGSTR_RELATIVE_ADDRESS AS relativeAddr, A.HRGSTR_RELATIVE_CONTACTNO AS relativeContactNo, A.HRGSTR_RELATIVE_IDMARK AS relativeIdRemark ,A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo FROM HGBT_CONSENT_DTL A, HGBT_TEMPLATE_MST B, HGBT_CONSENT_SERVICE_MST D WHERE A.HGNUM_CONSENT_ID \= B.HGNUM_TEMPLATE_ID AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND TRUNC (SYSDATE) BETWEEN TRUNC (B.GDT_EFFECTIVE_FRM) AND TRUNC (NVL (B.GDT_EFFECTIVE_TO, SYSDATE)) AND D.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND A.GNUM_ISVALID \= D.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE \= D.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \=? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \=? and HGBNUM_ISREVOKE\=?

SELECT.CONSENT_REQUEST_VO_BY_CRNO_LIST.HGBT_CONSENT_DTL = SELECT A.HGNUM_CONSENT_ID AS consentId, B.HGSTR_TEMPLATE_NAME AS templateDesc, A.HGNUM_CONSENT_STATUS AS consentStatus, A.GNUM_RELATION_CODE AS relationCode, A.HGNUM_SERVICE_TYPE_ID AS serviceTypeId, A.HGSTR_SERVICE_ID AS serviceId, A.HGNUM_RAISED_BY AS raisedBy, to_char(A.HGDT_RAISED_DATE,'dd-Mon-yyyy hh\:mi') AS raisedDate, A.HRGSTR_DOCTOR_ID AS doctorId, (SELECT DISTINCT INITCAP (C.HGSTR_SERVICE_DESC) FROM HGBT_CONSENT_MAPPING C WHERE C.HGSTR_SERVICE_ID \= A.HGSTR_SERVICE_ID AND C.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID) AS serviceDesc, D.HBSTR_SERVICE_TYPE AS serviceTypeDesc ,HGSTR_REQ_ID as requestID, DECODE(A.HRGNUM_CONSENT_GIVENBY,0,'Self',1,'Relative',NULL) AS givenBy, A.HRGSTR_RELATIVE_NAME AS relativeName, A.GNUM_RELATION_CODE AS relationCode, (SELECT DISTINCT INITCAP(E.GSTR_RELATION_NAME) FROM GBLT_RELATION_MST E  WHERE E.GNUM_RELATION_CODE\=A.GNUM_RELATION_CODE ) AS relationshipName, A.HRGSTR_RELATIVE_ADDRESS AS relativeAddr, A.HRGSTR_RELATIVE_CONTACTNO AS relativeContactNo, A.HRGSTR_RELATIVE_IDMARK AS relativeIdRemark ,A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo FROM HGBT_CONSENT_DTL A, HGBT_TEMPLATE_MST B, HGBT_CONSENT_SERVICE_MST D WHERE A.HGNUM_CONSENT_ID \= B.HGNUM_TEMPLATE_ID AND  B.GNUM_HOSPITAL_CODE \= 100 AND A.GNUM_ISVALID \= B.GNUM_ISVALID AND TRUNC (SYSDATE) BETWEEN TRUNC (B.GDT_EFFECTIVE_FRM) AND TRUNC (NVL (B.GDT_EFFECTIVE_TO, SYSDATE)) AND D.HGNUM_SERVICE_TYPE_ID \= A.HGNUM_SERVICE_TYPE_ID AND A.GNUM_ISVALID \= D.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE \= D.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \=? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \=? and HGBNUM_ISREVOKE\=?   
   # old 
 ESSENTIAL.LIST.HGBT_DRUG_ROUTE_MST_OLD = select HGNUM_DRUG_ROUTE_ID as drugRouteId,GNUM_HOSPITAL_CODE as hospitalCode,HGNUM_SLNO as serialNo, HGSTR_DRUG_ROUTE_NAME as drugRouteName,HGSTR_DRUG_ROUTE_DESC as drugRouteDesc,HSTNUM_ITEMTYPE_ID as itemTypeId,GNUM_ISVALID as isValid, HGNUM_ROUTE_CLASSIFICATION as routeClassification,GNUM_SEAT_ID as seatId,GDT_ENTRY_DATE as entryDate from HGBT_DRUG_ROUTE_MST  where GNUM_HOSPITAL_CODE\=? and GNUM_ISVALID\=?

#added by manisha gangwar date: 07.04.2016 as per CIMS Drug Route Integration
ESSENTIAL.LIST.CIMS_DRUG_ADMIN_ROUTE_MST_SYS = SELECT distinct B.CNUM_ROUTE_ID AS DRUGROUTEID, CNUM_ROUTE_NAME AS DRUGROUTENAME, cnum_route_desc as drugRouteDesc, cnum_route_short_name as drugRouteShortName, A.HSTNUM_ITEM_ID as drugItemId FROM CIMS_DRUG_ADMIN_ROUTE_MST_SYS B, HSTT_DRUG_MST A WHERE B.GNUM_ISVALID\=? AND INSTR('\#'||A.SSTNUM_DRUG_ADMINS_ROUTE_CODE||'\#','\#'||B.CNUM_ROUTE_ID||'\#')>0  AND GNUM_HOSPITAL_CODE\=? order by DRUGROUTENAME 
 									# AND A.HSTNUM_ITEM_ID=?  \



#added by manisha gangwar date: 22.07.2016 
ESSENTIAL.LIST.HGBT_DRUG_ROUTE_MST = SELECT distinct B.hgnum_drug_route_id AS DRUGROUTEID, hgstr_drug_route_name AS drugRouteName, hgstr_drug_route_desc as drugRouteDesc,  B.hstnum_itemtype_id as itemTypeId FROM hgbt_drug_route_mst B WHERE B.GNUM_ISVALID\=?  AND GNUM_HOSPITAL_CODE\=?  order by DRUGROUTENAME 
 									# AND A.HSTNUM_ITEM_ID=?  \


GET_PARA_LIST_TEMP_CAT_WISE.HGBT_PARAMETER_MST = SELECT HGNUM_PARA_ID, HGSTR_PARA_NAME FROM HGBT_PARAMETER_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? AND HGNUM_PARA_TYPE = ? ORDER BY HGSTR_PARA_NAME


ESSENTIAL.GET_ALL_CLINICAL_UNIT.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND B.GNUM_DEPT_TYPE\= ? ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'

SELECT.GBLT_DESK_TYPE_MST.PROFILE_BOUND=SELECT GNUM_PROFILE_BOUND FROM GBLT_DESK_TYPE_MST WHERE GNUM_DESK_TYPE=? AND GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?

ESSENTIAL.MAX_SLNO.HRGT_EPISODE_DRUG_DTL = select to_char(MAX (entrydate),'dd-Mon-yyyy') FROM (SELECT MAX (gdt_entry_date) AS entrydate FROM hrgt_episode_drug_dtl where HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? UNION  SELECT MAX (a.gdt_entry_date) AS entrydate FROM hpmrt_profile_drug_advice_dtl a, hpmrt_pat_profile_dtl b WHERE a.hpmrnum_profile_id \= b.hpmrnum_profile_id AND a.gnum_isvalid \= b.gnum_isvalid AND a.gnum_hospital_code \= b.gnum_hospital_code AND hrgnum_puk \= ? AND hrgnum_episode_code \= ? and  b.gnum_isvalid\=? AND a.gnum_hospital_code \= ?)
											
ESSENTIAL.MAX_ENTRY_DATE.HRGT_EPISODE_DRUG_DTL = select TO_CHAR (MAX(gdt_entry_date), 'dd-Mon-yyyy') from HRGT_EPISODE_DRUG_DTL where HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=?  and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t

ESSENTIAL.MAX_SLNO.HRGT_EPISODE_EXTTREATMENT_DTL = select TO_CHAR (MAX(GDT_ENTRY_DATE), 'dd-Mon-yyyy') from HRGT_EPISODE_EXTTREATMENT_DTL where HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=?  and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?  
													
ESSENTIAL.OTHER_INSTRUCTION_LIST.HGBT_EXT_TREATMENT_MST = select b.HGNUM_EXT_TREATMENT_ID , b.HGSTR_EXT_TREATMENT_NAME from HGBT_EXT_UNIT_TREATMENT_MST a ,HGBT_EXT_TREATMENT_MST b where a.HGNUM_EXT_TREATMENT_ID\=b.HGNUM_EXT_TREATMENT_ID and b.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.HGNUM_DEPTUNITCODE\=? and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=? and b.HGNUM_TREATMENT_TYPE\=? and b.HGNUM_GENDER_FLAG in (DECODE (?,'M',1,'F', 2, 0),?) order by b.HGSTR_EXT_TREATMENT_NAME
																

ESSENTIAL.ALL_OTHER_INSTRUCTION_LIST.HGBT_EXT_TREATMENT_MST = select HGNUM_EXT_TREATMENT_ID , HGSTR_EXT_TREATMENT_NAME from HGBT_EXT_TREATMENT_MST where HGNUM_TREATMENT_TYPE=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=? and HGNUM_GENDER_FLAG in (?,DECODE (?,'M',1,'F', 2, 0)) order by HGSTR_EXT_TREATMENT_NAME
ESSENTIAL.ONE_TIME_ACTIVITY_LIST.HGBT_EXT_TREATMENT_MST = select b.HGNUM_EXT_TREATMENT_ID , b.HGSTR_EXT_TREATMENT_NAME from HGBT_EXT_UNIT_TREATMENT_MST a ,HGBT_EXT_TREATMENT_MST b where a.HGNUM_EXT_TREATMENT_ID\=b.HGNUM_EXT_TREATMENT_ID and b.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.HGNUM_DEPTUNITCODE\=? and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=? and b.HGNUM_TREATMENT_TYPE\=? and b.HGNUM_GENDER_FLAG in (DECODE (?,'M',1,'F', 2, 0),?) order by b.HGSTR_EXT_TREATMENT_NAME

ESSENTIAL.ALL_ONE_TIME_ACTIVITY_LIST.HGBT_EXT_TREATMENT_MST = select HGNUM_EXT_TREATMENT_ID , HGSTR_EXT_TREATMENT_NAME from HGBT_EXT_TREATMENT_MST where HGNUM_TREATMENT_TYPE=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=? and HGNUM_GENDER_FLAG in (?,DECODE (?,'M',1,'F', 2, 0)) order by HGSTR_EXT_TREATMENT_NAME

												
SELECT_DESC_DETAILS.HRGT_DISCLAIMER_MST=		SELECT HGSTR_DISCLAIMER_DESC1 as disclaimerDesc1,HGSTR_DISCLAIMER_DESC2 as disclaimerDesc2,HGSTR_DISCLAIMER_DESC3 as disclaimerDesc3,HRGNUM_DISCLAIMER_ID as disclaimerId FROM HRGT_DISCLAIMER_MST WHERE HGNUM_DEPTUNITCODE=? AND HRGNUM_USABILITY_FLAG=? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?									

ESSENTIAL.LIST.HDRT_DUTY_ROLE_MST	=	SELECT HDRNUM_DUTY_ROLE_ID, INITCAP(HDTSTR_DUTY_ROLE_DESC) FROM HDRT_DUTY_ROLE_MST WHERE GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?

ESSENTIAL.DEFAULT.HOPT_UNIT_PLAYERFILE_MST	=SELECT HOPNUM_FILE_CODE AS fileCode, HOPSTR_FILE_NAME AS fileName, HOPSTR_FILE_HEADER AS fileHeader FROM HOPT_PLAYERFILE_MST WHERE HOPNUM_IS_DEFAULT\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? order by fileHeader

SELECT.MAPPEDUNITS.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE  AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? and A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE IN (SELECT HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HIPNUM_WARD_CODE IS NULL  AND GNUM_USERSEAT_ID IS NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
 												
SELECT.UNITS_NOT_ASSIGNED_DESK.WITHOUTDESKTYPE.GBLT_SEAT_MST =SELECT GNUM_SEATID, INITCAP(GSTR_SEAT_NAME) FROM GBLT_SEAT_MST WHERE TRUNC(GDT_EFFECT_DATE)<\=TRUNC(SYSDATE) AND GNUM_SEATID NOT IN (SELECT GNUM_USERSEAT_ID FROM GBLT_USER_DESKMENU_MST WHERE GNUM_USERSEAT_ID IS NOT NULL AND HGNUM_DEPTUNITCODE IN (@) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? )AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND GNUM_GROUP_CODE \= ? ORDER BY INITCAP(GSTR_SEAT_NAME)

SELECT.MAPPEDUNITS.FORUNITSEAT.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE   AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? and A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE IN (SELECT HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HIPNUM_WARD_CODE IS NULL  AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
 												
SELECT.MAPPEDUNITS.FORUNITSEATWARD.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE  AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE IN (SELECT HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HIPNUM_WARD_CODE IS NOT NULL  AND GNUM_USERSEAT_ID IS NOT NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' \t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t
 												
SELECT.MAPPEDUNITS.FORWARD.GBLT_USER_DESKMENU_TEMPLATE = SELECT A.HGNUM_DEPTUNITCODE ,INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE   AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE IN (SELECT HGNUM_DEPTUNITCODE FROM GBLT_USER_DESKMENU_TEMPLATE WHERE GNUM_DESK_ID\=? AND HGNUM_DEPTUNITCODE IS NOT NULL AND HIPNUM_WARD_CODE IS NOT NULL  AND GNUM_USERSEAT_ID IS NULL AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?) ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'
 												
ESSENTIAL.WARD_FOR_UNITWARD.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HIPNUM_WARD_CODE||'@'||A.HGNUM_DEPTUNITCODE, INITCAP(E.GSTR_DEPT_NAME)||' ('||INITCAP (B.HGSTR_UNITNAME)||') - '||INITCAP(C.HIPSTR_WARD_NAME) FROM HIPT_DUWRBED_MST A, HGBT_UNIT_MST B, HIPT_WARD_MST C, GBLT_DEPARTMENT_MST E WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DEPT_CODE\=E.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=E.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=E.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE\=B.HGNUM_DEPTUNITCODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND C.HIPNUM_WARD_CODE\=A.HIPNUM_WARD_CODE AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=C.GNUM_ISVALID AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO, SYSDATE)) AND A.HIPNUM_WARD_CODE NOT IN (SELECT DISTINCT D.HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_TEMPLATE D WHERE D.GNUM_DESK_ID\=? AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_DEPTUNITCODE\=? AND D.HIPNUM_WARD_CODE IS NOT NULL AND D.GNUM_USERSEAT_ID IS NULL) ORDER BY INITCAP(E.GSTR_DEPT_NAME)||' ('||INITCAP (B.HGSTR_UNITNAME)||') - '||INITCAP(C.HIPSTR_WARD_NAME)

ESSENTIAL.WARD_FOR_UNITWARDSEAT.GBLT_USER_DESKMENU_TEMPLATE = SELECT DISTINCT A.HIPNUM_WARD_CODE||'@'||A.HGNUM_DEPTUNITCODE, INITCAP(E.GSTR_DEPT_NAME)||' ('||INITCAP (B.HGSTR_UNITNAME)||') - '||INITCAP(C.HIPSTR_WARD_NAME) FROM HIPT_DUWRBED_MST A, HGBT_UNIT_MST B, HIPT_WARD_MST C, GBLT_DEPARTMENT_MST E WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE\=? AND A.GNUM_DEPT_CODE\=E.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=E.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=E.GNUM_ISVALID AND A.HGNUM_DEPTUNITCODE\=B.HGNUM_DEPTUNITCODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND C.HIPNUM_WARD_CODE\=A.HIPNUM_WARD_CODE AND A.GNUM_HOSPITAL_CODE\=C.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=C.GNUM_ISVALID AND TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM) AND TRUNC(NVL(C.GDT_EFFECTIVE_TO, SYSDATE)) AND A.HIPNUM_WARD_CODE NOT IN (SELECT DISTINCT D.HIPNUM_WARD_CODE FROM GBLT_USER_DESKMENU_TEMPLATE D WHERE D.GNUM_DESK_ID\=? AND D.GNUM_HOSPITAL_CODE\=? AND D.GNUM_ISVALID\=? AND D.HGNUM_DEPTUNITCODE\=? AND D.HIPNUM_WARD_CODE IS NOT NULL AND D.GNUM_USERSEAT_ID IS NOT NULL) ORDER BY INITCAP(E.GSTR_DEPT_NAME)||' ('||INITCAP (B.HGSTR_UNITNAME)||') - '||INITCAP(C.HIPSTR_WARD_NAME) \t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t\t\t\t\t\t

ESSENTIAL.HOTT_OP_REQUEST_DTL.LIST_EMR=SELECT ot.hotnum_ot_req_no AS otReqNo,HOTNUM_ADMISSION_NO AS addmissionNo,ot.hgnum_deptunitcode AS departmentUnitCode,HRGNUM_EPISODE_CODE AS episodeCode, TO_CHAR (ot.hotdt_operation_date, 'dd-Mon-yyyy') opdate, ahis_operationtheatre.get_ot_req_wise_opnames(ot.hotnum_ot_req_no||'',ot.gnum_hospital_code||'',?)  AS operationName,HRGNUM_VISIT_NO AS visitNo,GNUM_DEPT_CODE AS deptCode FROM hott_op_request_dtl ot WHERE ot.hotnum_patient_acceptance IN (1, 2) AND ot.gnum_hospital_code \= ? AND (ot.hotstr_ot_req_status > 12 OR ot.hotstr_ot_req_status \= 9 AND ot.hotstr_ot_req_status <> 16) AND ot.hrgnum_puk \= ? AND EXISTS (SELECT 1 FROM HOTT_OP_RAISED_DTL WHERE GNUM_ISVALID\=1 AND HOTNUM_OT_REQ_NO \=ot.hotnum_ot_req_no AND GNUM_HOSPITAL_CODE\=ot.gnum_hospital_code AND HOTNUM_ISACTUAL_OPERATION\=1)
										
										
SELECT.HOTT_DEPT_TEMPLATE_CTRL_MST.TEMPLATE_ID=SELECT HGNUM_TEMPLATE_ID FROM HOTT_DEPT_TEMPLATE_CTRL_MST WHERE hotnum_transaction_code IN (2)  AND gnum_dept_code \= ? AND hotstr_menu_code IN  (21) AND gnum_hospital_code \= ?
											   
SELECT.HOTT_DEPT_TEMPLATE_CTRL_MST.TEMPLATE_ID_OT=SELECT HGNUM_TEMPLATE_ID FROM HOTT_DEPT_TEMPLATE_CTRL_MST WHERE hotnum_transaction_code IN (2)  AND gnum_dept_code = ?  AND hotstr_menu_code IN  (21)  AND gnum_hospital_code = ?

SELECT.HOTT_OT_RECORD_PARA_DTL.OT_PARA_ID_VALUE=SELECT   a.hgnum_template_id, a.hotnum_parameter_id, a.hotstr_parameter_value,a.hotnum_status_code  FROM hott_ot_record_para_dtl a WHERE a.gnum_dept_code \= ? AND a.hotnum_transaction_code \= 2 AND a.gnum_hospital_code \= ? AND a.hrgnum_puk \= ? AND a.hotnum_ot_req_no \= ? AND a.gnum_isvalid \= 1  ORDER BY hgnum_template_id
										   										

SELECT.ALLAUDIOVIDEOHEADER.HOPT_PLAYERFILE_MST = SELECT HOPNUM_FILE_CODE, HOPSTR_FILE_HEADER FROM HOPT_PLAYERFILE_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?

SELECT_PAT_ALERTS.HGBT_PAT_ALERT_MST=    SELECT HGNUM_PAT_ALERT_ID, HGSTR_ALERT_NAME FROM HGBT_PAT_ALERT_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = ? ORDER BY HGSTR_ALERT_NAME 

GET_MACROS_BY_PROCESSID.HGBT_MACRO_MST	=SELECT HGSTR_MACRO_HEADER, HGSTR_MACRO_DESC FROM HGBT_MACRO_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HGNUM_PROCESS_ID \= ? AND GNUM_ISVALID \= ? ORDER BY HGSTR_MACRO_HEADER

GET_MACROS_BY_PROCESSID.HGBT_MACRO_UNITWISE_MST	=SELECT HGSTR_MACRO_HEADER, HGSTR_MACRO_DESC FROM HGBT_MACRO_MST WHERE HGNUM_PROCESS_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_MACRO_ID IN (SELECT HGNUM_MACRO_ID FROM HGBT_MACRO_UNITWISE_MST WHERE HGNUM_DEPTUNITCODE\=? AND HGNUM_PROCESS_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) ORDER BY HGSTR_MACRO_HEADER

ESSENTIAL.GROUP_LIST.HPMRT_PROFILE_GROUP_MST_OLD=			SELECT HPMRNUM_PROFILE_GROUP_ID, HPMRSTR_PROFILE_GROUP_NAME FROM HPMRT_PROFILE_GROUP_MST WHERE GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=? AND HPMRNUM_PROFILE_GROUP_ID NOT IN(SELECT HPMRNUM_PROFILE_GROUP_ID FROM HPMRT_PROFILE_GROUP_DTL WHERE GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?)

ESSENTIAL.GROUP_LIST.HPMRT_PROFILE_GROUP_MST=		SELECT hpmrnum_profile_group_id, hpmrstr_profile_group_name FROM hpmrt_profile_group_mst WHERE gnum_hospital_code = ? AND gnum_isvalid = ? order by hpmrstr_profile_group_name 

SELECT_ALL_USERS.GBLT_USER_MST=    SELECT GNUM_USERID AS userId, INITCAP(GSTR_USER_NAME) AS userSeatId, PSRSTR_EMP_NO AS userEmpID, GNUM_DESIGNATION AS userType, INITCAP(GSTR_USR_NAME) AS userName FROM GBLT_USER_MST WHERE GNUM_HOSPITAL_CODE=?  AND TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECT_DATE) AND TRUNC(NVL(GDT_EXPIRY_DATE,SYSDATE)) AND GNUM_ISVALID = ?

ESSENTIAL.ALL_GROUP_LIST.HPMRT_PROFILE_GROUP_MST=SELECT HPMRNUM_PROFILE_GROUP_ID, HPMRSTR_PROFILE_GROUP_NAME FROM HPMRT_PROFILE_GROUP_MST a WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND hpmrnum_profile_group_id NOT IN (SELECT hpmrnum_profile_group_id FROM hpmrt_profile_group_dtl WHERE gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid) order by hpmrstr_profile_group_name


# Commented By Chetan for implementing Single procedure of Drug Detail 
# Date: 2015_11_27
#ESSENTIAL.DRUG_SEARCH_LIST.HSTT_DRUGBRAND_MST	=	SELECT HSTNUM_ITEMBRAND_ID||'#'||HSTNUM_ITEMTYPE_ID||'#'||HSTNUM_ITEM_ID, INITCAP(HSTSTR_ITEM_NAME) FROM HSTT_DRUGBRAND_MST \
#													WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? order by INITCAP(HSTSTR_ITEM_NAME)
													

# Commented By Chetan not in USE
# Date: 2015_11_27													
#ESSENTIAL.DRUG_SEARCH_LIST_DETAIL.HSTT_DRUGBRAND_MST	=	SELECT HSTNUM_ITEMBRAND_ID||'#'||HSTNUM_ITEMTYPE_ID||'#'||HSTNUM_ITEM_ID, INITCAP(HSTSTR_ITEM_NAME) FROM HSTT_DRUGBRAND_MST \
#															WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? AND HSTNUM_ITEMBRAND_ID In (SELECT y.hstnum_item_id FROM hgbt_unit_drug_mapping_mst y ,HSTT_DRUGBRAND_MST x WHERE y.hstnum_item_id=x.HSTNUM_ITEMBRAND_ID and y.gnum_isvalid=1  \
#															and hgnum_deptunitcode=? and y.gnum_hospital_code=?) order by INITCAP(HSTSTR_ITEM_NAME)
																										
INSERT.ROOM_CHANGE.HRGT_ROOM_CHANGE_DTL = insert into HRGT_ROOM_CHANGE_DTL (HRGNUM_PUK, HRGNUM_EPISODE_CODE, HRGNUM_VISIT_NO, HRGNUM_SLNO, HGNUM_FROM_ROOM_CODE, HGNUM_TO_ROOM_CODE, HRGSTR_CHANGE_REASON, GNUM_SEAT_ID, GDT_ENTRY_DATE, GNUM_ISVALID, HRGNUM_CHANGE_TYPE, HGNUM_FROM_DEPTUNITCODE, HGNUM_TO_DEPTUNITCODE) values(?,?,?,(SELECT NVL(MAX(HRGNUM_SLNO),0)+1 FROM HRGT_ROOM_CHANGE_DTL where HRGNUM_PUK\=? and  HRGNUM_EPISODE_CODE\=?  and HRGNUM_VISIT_NO\=?),?,?,?,?,sysdate,?,?,?,?)\t\t
											
SELECT.HPMRT_PROFILE_TYPE_MST =SELECT hpmrnum_profile_type AS profiletype, hpmrnum_generation_mode AS profileGenerationMode,hpmrstr_profile_name AS profilename,hpmrstr_profile_desc AS profiledesc, hpmrnum_is_unique AS isunique, hpmrstr_default_name AS defaultname, hpmrnum_cd_burn iscdburn,hpmrnum_is_billing isbilling,HPMRNUM_IS_DISCLAIMER isDesclaimerRequired,HPMRNUM_NORMAL_ACCESS_TYPE normalAccessType, HPMRNUM_RESTRICTED_ACCESS_TYPE restrictedAccessType FROM hpmrt_profile_type_mst WHERE gnum_isvalid\=? and gnum_hospital_code\=? AND (hpmrnum_profile_usability\= ? OR hpmrnum_profile_usability\= 3 ) order by hpmrstr_profile_name
       							
SELECT.HPMRT_PROFILE_TYPE_MST_FOR_REFER_PATIENT = SELECT hpmrnum_profile_type ||'\#'|| hpmrnum_generation_mode AS profiletype, hpmrstr_profile_name AS profilename,hpmrstr_profile_desc AS profiledesc, hpmrnum_generation_mode AS profileGenerationMode,hpmrnum_is_unique AS isunique, hpmrstr_default_name AS defaultname, hpmrnum_cd_burn iscdburn,hpmrnum_is_billing isbilling,HPMRNUM_IS_DISCLAIMER isDesclaimerRequired,HPMRNUM_NORMAL_ACCESS_TYPE normalAccessType, HPMRNUM_RESTRICTED_ACCESS_TYPE restrictedAccessType FROM hpmrt_profile_type_mst WHERE hpmrnum_generation_mode\= 3  AND gnum_isvalid\=? and gnum_hospital_code\=? AND (hpmrnum_profile_usability\= ? OR hpmrnum_profile_usability\= 3 ) order by hpmrstr_profile_name
								
											
SELECT.PREVIOUS_DRUG_DETAIL_FOR_LOG.HRGT_EPISODE_DRUG_DTL	=SELECT 0 as opdIpdFlag,HRGNUM_PUK AS patCrNo, HRGNUM_EPISODE_CODE AS episodeCode, HRGNUM_VISIT_NO AS episodeVisitNo, HRGNUM_ADMISSION_NO AS admissionNo,  HSTNUM_ITEM_ID AS drugId, hststr_itembrand_name AS drugName, nvl(hstnum_itembrand_id,0) as drugBrandId, HGNUM_DOSE_ID AS doseId, HGSTR_DOSE_NAME AS doseName, HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, to_char(HRGDT_START_DATE,'dd-Mon-yyyy') AS startDate,to_char( HRGDT_END_DATE,'dd-Mon-yyyy') AS endDate, PSRSTR_EMP_NO AS empNo, HBNUM_RX_CONTINUE AS rxContinue, HRGSTR_REMARKS AS remarks, GNUM_SEAT_ID AS seatId, TO_CHAR(GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS entryDate,HGNUM_ISEMPTY_STOMACH as isEmptyStomach,HGNUM_DRUG_ROUTE_ID as drugRouteId, (select HGSTR_DRUG_ROUTE_NAME from HGBT_DRUG_ROUTE_MST where HGNUM_DRUG_ROUTE_ID\=b.HGNUM_DRUG_ROUTE_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=?) as drugRouteName , (select HGSTR_FREQUENCY_NAME from HGBT_DRUG_FREQUENCY_MST where HGNUM_FREQUENCY_ID\=b.HGNUM_FREQUENCY_ID and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) as frequencyName ,HGNUM_DOSE_QTY as doseQty , HSTNUM_ISSUE_QTY as issueQty , HSTNUM_REQUIRED_QTY as requiredQty,decode(GNUM_ISVALID,1,'Active',0,'InActive') as isValid, b.gdt_entry_date AS orderBydate,to_char(b.gdt_entry_date,'dd-Mon-yyyy') AS entryDateOrderBy FROM HRGT_EPISODE_DRUG_DTL b WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND GNUM_HOSPITAL_CODE\=? and hrgnum_advice_type\=1 union select 1 as opdIpdFlag, hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode,hrgnum_visit_no AS episodevisitno, hrgnum_admission_no AS admissionno,hstnum_item_id AS drugid, hststr_item_name AS drugname, nvl(hstnum_itembrand_id,0) as drugBrandId, hgnum_dose_id AS doseid, hgstr_dose_name AS dosename,hgnum_frequency_id AS frequencyid, hgnum_days AS days, TO_CHAR (hrgdt_start_date, 'dd-Mon-yyyy') AS startdate,TO_CHAR (hrgdt_end_date, 'dd-Mon-yyyy') AS enddate, psrstr_emp_no AS empno, hbnum_rx_continue AS rxcontinue,hrgstr_remarks AS remarks, a.gnum_seat_id AS seatid, TO_CHAR (a.gdt_entry_date, 'dd-Mon-yyyy') AS entrydate,hgnum_isempty_stomach AS isemptystomach, hgnum_drug_route_id AS drugrouteid,(SELECT hgstr_drug_route_name FROM hgbt_drug_route_mst WHERE hgnum_drug_route_id \= a.hgnum_drug_route_id AND gnum_isvalid \= ? AND gnum_hospital_code \= ?) AS drugroutename,(SELECT hgstr_frequency_name FROM hgbt_drug_frequency_mst WHERE hgnum_frequency_id \= a.hgnum_frequency_id AND gnum_isvalid \= ? AND gnum_hospital_code \= ?) AS frequencyname, hgnum_dose_qty AS doseqty, hstnum_issue_qty AS issueqty, hstnum_required_qty AS requiredqty, DECODE (a.gnum_isvalid, 1, 'Active', 0, 'InActive') AS isvalid, a.gdt_entry_date AS orderBydate ,to_char(a.gdt_entry_date,'dd-Mon-yyyy') AS entryDateOrderBy from HPMRT_PROFILE_DRUG_ADVICE_DTL a , HPMRT_PAT_PROFILE_DTL b where a.HPMRNUM_PROFILE_ID \= b.HPMRNUM_PROFILE_ID and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=? AND a.HRGNUM_ENTRY_MODE\=1 and a.GNUM_HOSPITAL_CODE\=? and b.GNUM_ISVALID\=?  ORDER BY entryDate,drugname,orderBydate desc
																																				

SELECT.LAST_DRUG_DETAIL_PRINT.HRGT_EPISODE_DRUG_DTL	=SELECT   b.hrgnum_puk AS patcrno, b.hrgnum_episode_code AS episodecode,b.hrgnum_visit_no AS episodevisitno, hrgnum_admission_no AS admissionno, b.hrgnum_s_no AS serialno,hststr_item_name AS drugname, b.hgstr_dose_name AS dosename,hgnum_days AS days,TO_CHAR (hrgdt_start_date, 'dd-Mon-yyyy') AS startdate, TO_CHAR (hrgdt_end_date, 'dd-Mon-yyyy') AS enddate,psrstr_emp_no AS empno, hbnum_rx_continue AS rxcontinue, b.hrgstr_remarks AS remarks, TO_CHAR (b.gdt_entry_date, 'dd-Mon-yyyy') AS entrydate, decode(b.hgnum_isempty_stomach,1,'Empty Stomatch','') AS isemptystomach, (SELECT hgstr_drug_route_name FROM hgbt_drug_route_mst x WHERE x.hgnum_drug_route_id \= b.hgnum_drug_route_id AND x.gnum_isvalid \=b.gnum_isvalid SELECT MAX (gdt_entry_date) AS entrydate FROM hrgt_episode_drug_dtl where HRGNUM_PUK\=? and HRGNUM_EPISODE_CODE\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? AND gnum_hospital_code \= b.gnum_hospital_code) AS drugroutename, (SELECT hgstr_frequency_name FROM hgbt_drug_frequency_mst x WHERE x.hgnum_frequency_id \= b.hgnum_frequency_id AND x.gnum_isvalid \=b.gnum_isvalid  AND gnum_hospital_code \= b.gnum_hospital_code) AS frequencyname,a.HGSTR_DOSE_TIME as doseTime FROM hrgt_episode_drug_dtl b,HRGT_EPISODE_DRUG_SCHEDULE_DTL a WHERE a.HRGNUM_PUK\=b.HRGNUM_PUK   and a.HRGNUM_EPISODE_CODE\=b.HRGNUM_EPISODE_CODE and a.HRGNUM_S_NO\=b.HRGNUM_S_NO and b.hrgnum_puk \= ? AND b.hrgnum_episode_code \= ? AND b.HRGNUM_VISIT_NO\=? AND b.gnum_isvalid \= ? AND b.gnum_hospital_code \= ? AND b.hrgnum_entry_mode \= ? ORDER BY hrgdt_start_date\t\t

ESSENTIAL.DIAGNOSIS.TYPE.HGBT_DIAGNOSIS_TYPE_MST = SELECT hgbnum_diagnostic_type_code, hgbstr_diagnostic_type_name   FROM HGBT_DIAGNOSIS_TYPE_MST WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ?  AND HGBNUM_IS_ICD IN (?,?)


ESSENTIAL.DIAGNOSIS.SITE.HGBT_DISEASE_SITE_MST = SELECT HGNUM_DISEASE_SITE_ID, HGSTR_DISEASE_SITE FROM HGBT_DISEASE_SITE_MST WHERE GNUM_HOSPITAL_CODE = ? AND  GNUM_ISVALID = ? ORDER BY HGSTR_DISEASE_SITE

SELECT.LIST_UNIT_WISE.HGBT_EPI_KEYWORD_UNITWISE_MST = SELECT HGNUM_EPISODE_KEYWORD_ID AS episodeKeywordID, INITCAP(HGSTR_EPISODE_KEYWORD) AS episodeKeyword FROM HGBT_EPISODE_KEYWORD_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_EPISODE_KEYWORD_ID IN (SELECT HGNUM_EPISODE_KEYWORD_ID FROM HGBT_EPI_KEYWORD_UNITWISE_MST WHERE HGNUM_DEPTUNITCODE\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=?) ORDER BY episodeKeyword

SELECT.LIST_ALL_KEYWORDS.HGBT_EPISODE_KEYWORD_MST	=SELECT HGNUM_EPISODE_KEYWORD_ID AS episodeKeywordID, INITCAP(HGSTR_EPISODE_KEYWORD) AS episodeKeyword FROM HGBT_EPISODE_KEYWORD_MST WHERE  GNUM_ISVALID\=? ORDER BY episodeKeyword

ALL_REASON.HGBT_ATTENDANT_REASON_MST = SELECT HGNUM_ATTENDANT_REASON_ID, HGSTR_ATTENDANT_REASON FROM HGBT_ATTENDANT_REASON_MST WHERE GNUM_HOSPITAL_CODE \= ? AND  GNUM_ISVALID \= ? ORDER BY HGSTR_ATTENDANT_REASON

SELECT.ALL.UNIT.NOT.IN.HGBT_EXT_UNIT_TREATMENT_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HGBT_EXT_UNIT_TREATMENT_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT 
												
SELECT.ALL.UNIT.NOT.IN.hgbt_unit_drug_mapping_mst = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM hgbt_unit_drug_mapping_mst C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT \t\t\t\t\t\t\t\t\t\t\t\t

SELECT.ALLEXTTREATMENT.HGBT_EXT_TREATMENT_MST = SELECT HGNUM_EXT_TREATMENT_ID ||'#'|| HGNUM_TREATMENT_TYPE, HGSTR_EXT_TREATMENT_NAME FROM HGBT_EXT_TREATMENT_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? 


SELECT.ALLDRUGLIST.HSTT_DRUGBRAND_MST =        SELECT HSTNUM_ITEMBRAND_ID,hststr_item_name from HSTT_DRUGBRAND_MST where  GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?


ESSENTIAL.HGBT_EXT_UNIT_TREATMENT_MST=SELECT a.hgnum_ext_treatment_id || '\#' || hgnum_treatment_type AS exttreatid, hgnum_deptunitcode AS deptunitcode, b.hgstr_ext_treatment_name as extTreatName FROM HGBT_EXT_UNIT_TREATMENT_MST a, HGBT_EXT_TREATMENT_MST b WHERE a.hgnum_ext_treatment_id \= b.hgnum_ext_treatment_id AND a.gnum_isvalid \= b.gnum_isvalid AND hgnum_deptunitcode \= ? AND b.gnum_hospital_code\=? AND a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ?

ESSENTIAL.hgbt_unit_drug_mapping_mst=SELECT a.hstnum_item_id  AS exttreatid, hgnum_deptunitcode AS deptunitcode, b.hststr_item_name as extTreatName FROM hgbt_unit_drug_mapping_mst a, HSTT_DRUGBRAND_MST b WHERE a.hstnum_item_id \= b.HSTNUM_ITEMBRAND_ID AND a.gnum_isvalid \= b.gnum_isvalid AND hgnum_deptunitcode \= ? AND b.gnum_hospital_code\=? AND a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ?

GET_PATIENT_FAT_MOM_SPOUCE_NAME.HRGT_PATIENT_DTL = SELECT HRGSTR_FATHER_NAME||'@'||HRGSTR_MOMNAME||'@'||HRGSTR_SPOUSENAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK = ?


SELECT.ALL.UNIT.NOT.IN.HGBT_MACRO_UNITWISE_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HGBT_MACRO_UNITWISE_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT 

SELECT.ALL_MACRO_PROCESS.HGBT_MACRO_MST = select HGNUM_PROCESS_ID, HGSTR_PROCESS_DESC  from HGBT_MACRO_PROCESS_MST where GNUM_ISVALID=? order by HGSTR_PROCESS_DESC 

ESSENTIAL.HGBT_MACRO_UNITWISE_MST = SELECT HGNUM_MACRO_ID||'\#'|| HGNUM_PROCESS_ID AS macroId, HGNUM_DEPTUNITCODE AS deptUnitCode, (SELECT HGSTR_MACRO_HEADER FROM HGBT_MACRO_MST  X WHERE X.HGNUM_MACRO_ID\=a.HGNUM_MACRO_ID AND X.gnum_isvalid \= a.gnum_isvalid  AND  X.gnum_hospital_code \= a.gnum_hospital_code  ) AS macroHeader FROM HGBT_MACRO_UNITWISE_MST\ta WHERE  hgnum_deptunitcode \= ?  AND a.gnum_hospital_code \= ?   AND a.gnum_isvalid \=?\t
									
SELECT.ALL_IMAGE_DESC_WITH_COLOR.HOPT_IMAGEDESC_MST = select HOPNUM_IMAGEDESC_ID ||'$'||HOPSTR_COLOR , HOPSTR_IMAGE_DESC from HOPT_IMAGEDESC_MST where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? order by HOPSTR_IMAGE_DESC\t
											
ESSENTIAL.HOPT_UNIT_IMAGEDESC_MST = SELECT HOPNUM_IMAGEDESC_ID||'$'|| HOPSTR_COLOR AS imageId, HGNUM_DEPTUNITCODE AS unitCode, (SELECT HOPSTR_IMAGE_DESC FROM HOPT_IMAGEDESC_MST  X WHERE X.HOPNUM_IMAGEDESC_ID\=a.HOPNUM_IMAGEDESC_ID AND X.gnum_isvalid \= a.gnum_isvalid  AND  X.gnum_hospital_code \= ?  ) AS imageHeader FROM HOPT_UNIT_IMAGEDESC_MST\ta WHERE  hgnum_deptunitcode \= ?  AND a.gnum_hospital_code \= ?   AND a.gnum_isvalid \=?\t\t
									
SELECT.ALL.UNIT.NOT.IN.HGBT_DRUGLIST_UNITWISE_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? and rownum\=1)||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HGBT_DRUGLIST_UNITWISE_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=? ) ORDER BY UNIT 

SELECT.ALLDRUGLIST.HGBT_DRUG_LIST_MST = SELECT HGNUM_DRUGLIST_ID, HGSTR_DRUGLIST_NAME  FROM HGBT_DRUG_LIST_MST a WHERE GNUM_ISVALID\=? AND  GNUM_HOSPITAL_CODE\=?  AND  HGNUM_DRUGLIST_ID IN (SELECT HGNUM_DRUGLIST_ID  FROM HGBT_DRUGLIST_ITEM_MST X  WHERE X.GNUM_ISVALID\=a.GNUM_ISVALID AND  X.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE)\t
										
ESSENTIAL.HGBT_DRUGLIST_UNITWISE_MST = SELECT HGNUM_DRUGLIST_ID as drugListId , HGNUM_DEPTUNITCODE as deptUnitCode,HGNUM_ISDEFAULT as isDefault , (SELECT HGSTR_DRUGLIST_NAME FROM HGBT_DRUG_LIST_MST X WHERE  X.HGNUM_DRUGLIST_ID\=a.HGNUM_DRUGLIST_ID AND X.gnum_isvalid \= a.gnum_isvalid AND  X.gnum_hospital_code \= ?) as drugListDesc FROM HGBT_DRUGLIST_UNITWISE_MST\t a WHERE  hgnum_deptunitcode \=?  AND a.gnum_hospital_code \=?   AND a.gnum_isvalid \=?

SELECT.DRUG_PROFILE.HGBT_DRUGLIST_UNITWISE_MST = SELECT HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, HGNUM_ISEMPTY_STOMACH AS isEmptyStomach, HRGSTR_REMARKS AS remarks, (SELECT HSTSTR_ITEM_NAME  FROM HSTT_DRUGBRAND_MST X WHERE X.HSTNUM_ITEMBRAND_ID\=a.HSTNUM_ITEM_ID  AND X.GNUM_HOSPITAL_CODE\=100 AND X.GNUM_ISVALID\=a.GNUM_ISVALID) AS drugName, (SELECT HGNUM_DOSE_ID ||'^'|| HGNUM_ISFREQUENCY_BOUND ||'^'|| HGNUM_DOSE_QTY FROM HGBT_DRUG_DOSE_MST y WHERE y.HGNUM_DOSE_ID\=a.HGNUM_DOSE_ID AND y.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND y.GNUM_ISVALID\=a.GNUM_ISVALID)  AS doseId, (SELECT HSTNUM_ITEMBRAND_ID ||'\#'|| HSTNUM_ITEMTYPE_ID  FROM HSTT_DRUGBRAND_MST X WHERE X.HSTNUM_ITEMBRAND_ID\=a.HSTNUM_ITEM_ID  AND X.GNUM_HOSPITAL_CODE\=100 AND X.GNUM_ISVALID\=a.GNUM_ISVALID) AS drugId, (SELECT HGSTR_DOSE_NAME FROM HGBT_DRUG_DOSE_MST y WHERE y.HGNUM_DOSE_ID\=a.HGNUM_DOSE_ID AND y.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND y.GNUM_ISVALID\=a.GNUM_ISVALID)  AS doseName FROM HGBT_DRUGLIST_ITEM_MST a  WHERE HGNUM_DRUGLIST_ID\=(SELECT HGNUM_DRUGLIST_ID FROM HGBT_DRUGLIST_UNITWISE_MST WHERE HGNUM_DEPTUNITCODE\=? AND HGNUM_ISDEFAULT\=? and GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? ) AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=?

SELECT.ALLDRUGLIST_BY_DEPTUNIT.HGBT_DRUG_LIST_MST = SELECT HGNUM_DRUGLIST_ID ||'\#'|| HGNUM_ISDEFAULT , (SELECT HGSTR_DRUGLIST_NAME FROM HGBT_DRUG_LIST_MST X WHERE  X.HGNUM_DRUGLIST_ID\=a.HGNUM_DRUGLIST_ID AND X.GNUM_HOSPITAL_CODE\=? AND X.GNUM_ISVALID\=a.GNUM_ISVALID) as drugListName FROM HGBT_DRUGLIST_UNITWISE_MST  a WHERE HGNUM_DEPTUNITCODE\=? AND  GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? order by drugListName
													
SELECT.DRUG_DETAIL_LIST.HGBT_DRUGLIST_UNITWISE_MST = SELECT HGNUM_FREQUENCY_ID AS frequencyId, HGNUM_DAYS AS days, HGNUM_ISEMPTY_STOMACH AS isEmptyStomach, HRGSTR_REMARKS AS remarks, (SELECT HSTSTR_ITEM_NAME  FROM HSTT_DRUGBRAND_MST X WHERE X.HSTNUM_ITEMBRAND_ID\=a.HSTNUM_ITEM_ID  AND X.GNUM_HOSPITAL_CODE\=100 AND X.GNUM_ISVALID\=a.GNUM_ISVALID) AS drugName, (SELECT HGNUM_DOSE_ID ||'^'|| HGNUM_ISFREQUENCY_BOUND ||'^'|| HGNUM_DOSE_QTY FROM HGBT_DRUG_DOSE_MST y WHERE y.HGNUM_DOSE_ID\=a.HGNUM_DOSE_ID AND y.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND y.GNUM_ISVALID\=a.GNUM_ISVALID)  AS doseId, (SELECT HSTNUM_ITEMBRAND_ID ||'\#'|| HSTNUM_ITEMTYPE_ID  FROM HSTT_DRUGBRAND_MST X WHERE X.HSTNUM_ITEMBRAND_ID\=a.HSTNUM_ITEM_ID  AND X.GNUM_HOSPITAL_CODE\=100 AND X.GNUM_ISVALID\=a.GNUM_ISVALID) AS drugId, (SELECT HGSTR_DOSE_NAME FROM HGBT_DRUG_DOSE_MST y WHERE y.HGNUM_DOSE_ID\=a.HGNUM_DOSE_ID AND y.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND y.GNUM_ISVALID\=a.GNUM_ISVALID)  AS doseName, (SELECT HGSTR_FREQUENCY_NAME  FROM HGBT_DRUG_FREQUENCY_MST y  WHERE y.HGNUM_FREQUENCY_ID \= a.HGNUM_FREQUENCY_ID  AND y.gnum_hospital_code \= a.gnum_hospital_code AND y.gnum_isvalid \= a.gnum_isvalid) AS frequencyName, DECODE(HGNUM_ISEMPTY_STOMACH,0,'No',1,'Yes') as isEmptyStomachName FROM HGBT_DRUGLIST_ITEM_MST a  WHERE HGNUM_DRUGLIST_ID\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? order by drugName
									
SELECT.LIST_ALL_USED.HGBT_ICD_GROUP_MST	=SELECT HGBSTR_ICD_GROUP_CODE AS icdGroupCode, INITCAP(HGBSTR_ICD_GROUP) AS icdGroupFull, SUBSTR(HGBSTR_ICD_GROUP,1,40)||DECODE(SUBSTR(HGBSTR_ICD_GROUP,40,200),'',' ','..')||'('||HGBSTR_ICD_GROUP_CODE||')' AS icdGroup, GNUM_SEAT_ID AS seatId, GDT_ENTRY_DATE AS entryDate, GNUM_ISVALID AS isValid, GNUM_HOSPITAL_CODE AS hospitalCode, HGBNUM_CHAPTER_ID AS chapterId, HGBSTR_REMARK AS remark FROM HGBT_ICD_GROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGBSTR_ICD_GROUP_CODE IN (SELECT DISTINCT HGBSTR_ICD_GROUP_CODE FROM HGBT_ICD_SUBGROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGBSTR_ICD_SUBGRP_CODE IN (SELECT DISTINCT HGBSTR_ICD_SUBGRP_CODE FROM HGBT_ICD_DISEASE_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE\=?)) ORDER BY chapterId

SELECT.LIST_ALL_USED.HGBT_ICD_SUBGROUP_MST	=SELECT HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, INITCAP(HGBSTR_ICD_SUBGROUP) AS icdSubgroupFull, SUBSTR(HGBSTR_ICD_SUBGROUP,1,40)||DECODE(SUBSTR(HGBSTR_ICD_SUBGROUP,40,125),'',' ','..')||'('||HGBSTR_ICD_SUBGRP_CODE||')' AS icdSubgroup, HGBSTR_ICD_GROUP_CODE AS icdGroupCode, GNUM_SEAT_ID AS seatId, GDT_ENTRY_DATE AS entryDate, GNUM_ISVALID AS isValid, GNUM_HOSPITAL_CODE AS hospitalCode, HGBSTR_SUBGRP_PARENT_CODE AS subgroupParentCode, HGBNUM_LEVEL AS subgroupLevel FROM HGBT_ICD_SUBGROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGBSTR_ICD_SUBGRP_CODE IN (SELECT DISTINCT HGBSTR_ICD_SUBGRP_CODE FROM HGBT_ICD_DISEASE_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE\=?) ORDER BY icdSubgroupCode

SELECT.LIST_MAIN_SUB.HGBT_ICD_DISEASE_MST	=SELECT HGBSTR_DISEASE_CODE AS diseaseCode, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, SUBSTR(HGBSTR_DISEASE,1,40)||DECODE(SUBSTR(HGBSTR_DISEASE,40,200),'',' ','..')||'('||HGBSTR_DISEASE_CODE||')' AS disease, HGBSTR_DISEASE AS fullDiseaseName, HGBSTR_PARENT_CODE AS parentCode, HGNUM_RECORD_TYPE AS recordType, GNUM_SEAT_ID AS seatId, GDT_ENTRY_DATE AS entryDate, GBL_ISCOMMON AS isCommon, HGBSTR_DISEASE_REMARK AS diseaseRemark, GNUM_ISVALID AS isValid, HBSTR_MAIN_DISEASE AS mainDisease, HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode, NVL((SELECT INITCAP(HGBSTR_DISEASE_TYPE_NAME) FROM HGBT_DISEASE_TYPE_MST WHERE HGBNUM_DISEASE_TYPE_CODE\=X.HGBNUM_DISEASE_TYPE_CODE AND GNUM_HOSPITAL_CODE\=X.GNUM_HOSPITAL_CODE AND GNUM_ISVALID\=?),'') AS diseaseTypeName FROM HGBT_ICD_DISEASE_MST X WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE\=? ORDER BY diseaseCode

ESSENTIAL.ALL_ICD_CODE.HGBT_ICD_DISEASE_MST	=SELECT HGBSTR_DISEASE_CODE AS diseaseCode, A.GNUM_HOSPITAL_CODE AS hospitalCode, A.HGNUM_SLNO AS slNo, A.HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, A.HGBSTR_DISEASE AS disease, A.HGBSTR_PARENT_CODE AS parentCode, A.HGNUM_RECORD_TYPE AS recordType, A.GNUM_SEAT_ID AS seatId, A.GDT_ENTRY_DATE AS entryDate, A.GBL_ISCOMMON AS isCommon, A.HGBSTR_DISEASE_REMARK AS diseaseRemark, A.GNUM_ISVALID AS isValid, A.HBSTR_MAIN_DISEASE AS mainDisease, A.HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode FROM HGBT_ICD_DISEASE_MST A WHERE A.GNUM_ISVALID\=? AND A.HGNUM_RECORD_TYPE\=? ORDER BY A.HGBSTR_DISEASE_CODE

SELECT.SUBGROUP_BY_GROUP.HGBT_ICD_SUBGROUP_MST	=SELECT HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, INITCAP(HGBSTR_ICD_SUBGROUP) AS icdSubgroupFull, SUBSTR(HGBSTR_ICD_SUBGROUP,1,40)||DECODE(SUBSTR(HGBSTR_ICD_SUBGROUP,40,125),'',' ','..')||'('||HGBSTR_ICD_SUBGRP_CODE||')' AS icdSubgroup, HGBSTR_ICD_GROUP_CODE AS icdGroupCode, GNUM_SEAT_ID AS seatId, GDT_ENTRY_DATE AS entryDate, GNUM_ISVALID AS isValid, GNUM_HOSPITAL_CODE AS hospitalCode, HGBSTR_SUBGRP_PARENT_CODE AS subgroupParentCode, HGBNUM_LEVEL AS subgroupLevel FROM HGBT_ICD_SUBGROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGBSTR_ICD_GROUP_CODE\=? ORDER BY icdSubgroupCode
													
SELECT.DISEASES_BY_SUBGROUP.HGBT_ICD_DISEASE_MST	=SELECT HGBSTR_DISEASE_CODE AS diseaseCode, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGBSTR_ICD_SUBGRP_CODE AS icdSubgroupCode, SUBSTR(HGBSTR_DISEASE,1,40)||DECODE(SUBSTR(HGBSTR_DISEASE,40,200),'',' ','..')||'('||HGBSTR_DISEASE_CODE||')' AS disease, HGBSTR_DISEASE AS fullDiseaseName, HGBSTR_PARENT_CODE AS parentCode, HGNUM_RECORD_TYPE AS recordType, GNUM_SEAT_ID AS seatId, GDT_ENTRY_DATE AS entryDate, GBL_ISCOMMON AS isCommon, HGBSTR_DISEASE_REMARK AS diseaseRemark, GNUM_ISVALID AS isValid, HBSTR_MAIN_DISEASE AS mainDisease, HGBNUM_DISEASE_TYPE_CODE AS diseaseTypeCode, NVL((SELECT INITCAP(HGBSTR_DISEASE_TYPE_NAME) FROM HGBT_DISEASE_TYPE_MST WHERE HGBNUM_DISEASE_TYPE_CODE\=X.HGBNUM_DISEASE_TYPE_CODE AND GNUM_HOSPITAL_CODE\=X.GNUM_HOSPITAL_CODE AND GNUM_ISVALID\=?),'') AS diseaseTypeName FROM HGBT_ICD_DISEASE_MST X WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_RECORD_TYPE\=? AND HGBSTR_ICD_SUBGRP_CODE\=?  ORDER BY diseaseCode\t\t\t\t\t\t\t\t\t\t\t\t\t

SELECT.CHARTS_BY_CATEGORY.HGBT_CHART_MST	=SELECT HGNUM_CHART_ID AS chartId, GNUM_HOSPITAL_CODE AS hospitalCode, HGNUM_SLNO AS slNo, HGSTR_CHART_NAME AS chartName, HGSTR_CHART_DESC AS chartDescription, GNUM_ISVALID AS isValid, HGNUM_CHART_CATEGORY AS chartCategory, HGNUM_GENERATION_TYPE AS generationType, GNUM_SEAT_ID AS seatID, GDT_ENTRY_DATE AS entryDate, HGSTR_BODY_QUERY AS bodyQuery, GDT_LSTMOD_DATE AS lastModifyDate, HGSTR_FOOTER_QUERY AS footerQuery, GNUM_LSTMOD_SEATID AS lastModifiedSeatID, HGNUM_ISGRAPH AS isGraph FROM HGBT_CHART_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HGNUM_CHART_CATEGORY IN (\#) 

SELECT.EPISODE_START_DATE.HRGT_EPISODE_DTL	=	SELECT TO_CHAR(gdt_entry_date,'dd-Mon-yyyy') FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK=? AND HRGNUM_EPISODE_CODE=? AND HRGNUM_VISIT_NO=? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=?


SELECT.ADMISSION_START_DATE.HIPT_PATADMISSION_DTL	=	SELECT TO_CHAR(HIPDT_ADMDATETIME,'dd-Mon-yyyy') FROM HIPT_PATADMISSION_DTL WHERE HIPNUM_ADMNO=? AND GNUM_HOSPITAL_CODE=?



ESSENTIAL.ALL_CLINICAL_UNIT_BY_DEPT.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE, INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')' FROM HGBT_UNIT_MST A, GBLT_DEPARTMENT_MST B WHERE A.GNUM_DEPT_CODE\=B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.GNUM_ISVALID\=B.GNUM_ISVALID AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.GNUM_DEPT_CODE\= ? AND A.HGNUM_ISGENERAL\=? ORDER BY INITCAP(B.GSTR_DEPT_NAME) || ' (' || INITCAP(A.HGSTR_UNITNAME) || ')'


SELECT_CHART_UNIT_LIST.HGBT_CHART_MST  =    SELECT HGNUM_CHART_ID as chartId, INITCAP(HGSTR_CHART_NAME) as chartName  FROM HGBT_CHART_MST WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE = ?  ORDER BY HGSTR_CHART_NAME

SELECT.ALL.UNIT.NOT.IN.HGBT_CHART_UNIT_MAPPING  = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM HGBT_CHART_UNIT_MAPPING C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT
													
ESSENTIAL.HGBT_CHART_UNIT_MAPPING       = SELECT HGNUM_CHART_ID as chartId , HGNUM_DEPTUNITCODE as deptUnitCode,HGNUM_ISDEFAULT as isDefault , (SELECT HGSTR_CHART_NAME FROM HGBT_CHART_MST X WHERE  X.HGNUM_CHART_ID\=a.HGNUM_CHART_ID AND X.gnum_isvalid \= a.gnum_isvalid AND  X.gnum_hospital_code \= ?) as chartListDesc FROM HGBT_CHART_UNIT_MAPPING\t a WHERE  hgnum_deptunitcode \=?  AND a.gnum_hospital_code \=?   AND a.gnum_isvalid \=?
SELECT.ALL.UNIT.NOT.IN.HGBT_DEPT_ICD_MST  = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=? )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT C.HGNUM_DEPTUNITCODE FROM HGBT_DEPT_ICD_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT


SELECT.UNIT.NOT.MAPPED.HGBT_DEPT_HOSDISEASE_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE\=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE\=?  )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID\=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT C.HGNUM_DEPTUNITCODE FROM HGBT_DEPT_HOSDISEASE_MST C WHERE C.GNUM_HOSPITAL_CODE\=? AND C.GNUM_ISVALID\=?) ORDER BY UNIT

ESSENTIAL.HGBT_HOSPITAL_DISEASE_MST            = SELECT   hgbstr_hospital_disease_code As hospitalDiseaseCode, INITCAP(SUBSTR (HGBSTR_DISEASE_DESC, 1, 40) || DECODE (SUBSTR (HGBSTR_DISEASE_DESC, 40, 200),null,' ', '', ' ', '..') || '(' || HGBSTR_HOSPITAL_DISEASE_CODE || ')') As hospitalDisease FROM hgbt_hospital_disease_mst  WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ? AND hgbstr_hospital_disease_code NOT IN (select HGBSTR_MAPPING_ID from HGBT_ICD_MAPPING_MST WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ?) ORDER BY hgbstr_disease_desc
												 
ESSENTIAL.HGBT_PAT_ALERT_MST               =  SELECT hgnum_pat_alert_id, INITCAP (hgstr_alert_name)  FROM hgbt_pat_alert_mst WHERE gnum_isvalid = ? AND gnum_hospital_code = ? AND TO_CHAR(hgnum_pat_alert_id) NOT IN (select HGBSTR_MAPPING_ID from HGBT_ICD_MAPPING_MST WHERE gnum_isvalid = ? AND gnum_hospital_code = ?) ORDER BY hgstr_alert_name 



SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM_OLD = SELECT   A.HRGNUM_PUK AS PATCRNO, INITCAP (A.HRGSTR_FNAME) AS PATFIRSTNAME, INITCAP (A.HRGSTR_MNAME) AS PATMIDDLENAME,INITCAP (A.HRGSTR_LNAME) AS PATLASTNAME, GNUM_MARITAL_STATUS_CODE AS PATMARITALSTATUSCODE, DECODE (A.GNUM_GENDER_CODE, 1, 'M', 2, 'F', 'O') || '/' || ahis_util.PUK_AGE (A.HRGNUM_PUK) PATGENDERAGE, INITCAP (A.HRGSTR_FATHER_NAME) AS PATGUARDIANNAME, INITCAP (A.HRGSTR_MOMNAME) AS PATMOMNAME, B.HRGNUM_EPISODE_CODE AS EPISODECODE, B.HRGNUM_VISIT_NO AS EPISODEVISITNO, B.HRGNUM_EPISODE_TYPE_CODE AS EPISODETYPECODE, B.HGNUM_DEPTUNITCODE AS DEPARTMENTUNITCODE, B.HRGNUM_QUE_NO AS QUENO, B.GNUM_DEPT_CODE AS DEPARTMENTCODE, HRGNUM_ISREG_FREE AS ISFREE, B.HRGNUM_IS_OLD AS PATISOLD, TO_CHAR (B.HRGDT_EPISODE_DATE, 'dd-Mon-YYYY') AS EPISODEDATE, A.HGNUM_PATIENT_CAT_CODE AS PATPRIMARYCATCODE, (SELECT INITCAP (GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_PATIENT_CAT_CODE \= A.HGNUM_PATIENT_CAT_CODE AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= 1 ) PATPRIMARYCAT, (SELECT INITCAP (GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_PATIENT_CAT_CODE \= B.HGNUM_TREATMENT_CAT_CODE AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= 1 ) PATSECONDARYCAT, (SELECT INITCAP (E.GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST E WHERE E.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= E.GNUM_HOSPITAL_CODE AND E.GNUM_ISVALID \= 1 ) DEPARTMENT, (SELECT INITCAP (X.HGSTR_UNITNAME) FROM HGBT_UNIT_MST X WHERE X.HGNUM_DEPTUNITCODE \= B.HGNUM_DEPTUNITCODE AND X.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND X.GNUM_ISVALID \= 1) DEPARTMENTUNIT, (SELECT HGNUM_ISGENERAL FROM HGBT_UNIT_MST X WHERE X.HGNUM_DEPTUNITCODE \= B.HGNUM_DEPTUNITCODE AND X.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND X.GNUM_ISVALID \= 1 ) DEPARTMENTUNITTYPE, B.HRGNUM_IS_CONFIRMED ISCONFIRMED, pkg_clinical_gbl_fun.get_pat_diagnosis_names('1',A.GNUM_HOSPITAL_CODE, A.HRGNUM_PUK, B.HRGNUM_EPISODE_CODE) AS patDiagnosisDtl, PKG_SCANNING_VIEW.IS_PATIENT_DOCUMENT_PRESENT('0',A.GNUM_HOSPITAL_CODE, A.HRGNUM_PUK, B.HRGNUM_EPISODE_CODE, NULL, NULL, NULL, NULL, NULL) AS patIsDocPresent FROM HRGT_PATIENT_DTL A, HRGT_EPISODE_DTL B WHERE A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK\=B.HRGNUM_PUK AND B.HRGNUM_VISIT_NO\=(SELECT MAX(HRGNUM_VISIT_NO) FROM HRGT_EPISODE_DTL WHERE GNUM_ISVALID\=1 AND HRGNUM_PUK\=B.HRGNUM_PUK AND HRGNUM_EPISODE_CODE\=B.HRGNUM_EPISODE_CODE AND GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE) AND A.GNUM_ISVALID \= 1 AND B.GNUM_ISVALID\=1
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.ONLY_SCANNED = AND EXISTS (SELECT 1 FROM HSCN_DOCUMENT_MST X WHERE X.GNUM_ISVALID\=1 AND X.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND X.HRGNUM_PUK\= B.HRGNUM_PUK AND X.HRGNUM_EPISODE_CODE \= B.HRGNUM_EPISODE_CODE AND X.HRGNUM_VISIT_NO \= B.HRGNUM_VISIT_NO) 
     	
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM = SELECT DISTINCT A.HRGNUM_PUK AS PATCRNO,INITCAP (A.HRGSTR_FNAME) AS PATFIRSTNAME,INITCAP (A.HRGSTR_MNAME) AS PATMIDDLENAME,INITCAP (A.HRGSTR_LNAME) AS PATLASTNAME, DECODE (A.GNUM_GENDER_CODE, 1, 'M', 2, 'F', 'O' ) || '/' || ahis_util.PUK_AGE (A.HRGNUM_PUK) PATGENDERAGE, INITCAP (A.HRGSTR_FATHER_NAME) AS PATGUARDIANNAME, B.HRGNUM_EPISODE_CODE AS EPISODECODE, B.HRGNUM_VISIT_NO AS EPISODEVISITNO, B.HGNUM_DEPTUNITCODE AS DEPARTMENTUNITCODE, B.GNUM_DEPT_CODE AS DEPARTMENTCODE, DECODE (B.HRGNUM_VISIT_NO, 1, 0, 1) AS PATISOLD,TO_CHAR (B.DOCUMENT_DT, 'dd-Mon-YYYY') AS EPISODEDATE,A.HGNUM_PATIENT_CAT_CODE AS PATPRIMARYCATCODE, (SELECT INITCAP (GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_PATIENT_CAT_CODE \= A.HGNUM_PATIENT_CAT_CODE AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= 1 ) AS PATPRIMARYCAT, (SELECT INITCAP (E.GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST E WHERE E.GNUM_DEPT_CODE \= B.GNUM_DEPT_CODE AND A.GNUM_HOSPITAL_CODE \= E.GNUM_HOSPITAL_CODE AND E.GNUM_ISVALID \= 1 ) DEPARTMENT, (SELECT INITCAP (X.HGSTR_UNITNAME) FROM HGBT_UNIT_MST X WHERE X.HGNUM_DEPTUNITCODE \= B.HGNUM_DEPTUNITCODE AND X.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND X.GNUM_ISVALID \= 1) DEPARTMENTUNIT, PKG_CLINICAL_GBL_FUN.GET_PAT_DIAGNOSIS_NAMES ('2', A.GNUM_HOSPITAL_CODE, A.HRGNUM_PUK, B.HRGNUM_EPISODE_CODE||B.HRGNUM_VISIT_NO ) AS PATDIAGNOSISDTL, 1 AS patIsDocPresent FROM HRGT_PATIENT_DTL A, HSCN_DOCUMENT_MST B WHERE A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \= B.HRGNUM_PUK AND A.GNUM_ISVALID \= 1 AND B.GNUM_ISVALID \= 1

SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.CRNO = AND B.HRGNUM_PUK = ?
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.NAME = AND UPPER(A.HRGSTR_FNAME)||' '||UPPER(A.HRGSTR_MNAME)||' '||UPPER(A.HRGSTR_LNAME) LIKE UPPER(?)||'%'
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.FROMDATE = AND TRUNC(B.DOCUMENT_DT) >= TO_DATE(?,'dd-Mon-yyyy')
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.TODATE = AND TRUNC(B.DOCUMENT_DT) <= TO_DATE(?,'dd-Mon-yyyy')
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.DEPTUNIT = AND B.HGNUM_DEPTUNITCODE = ?
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.ROOM = AND EXISTS ( SELECT 1 FROM HRGT_EPISODE_DTL X WHERE X.HRGNUM_PUK\=B.HRGNUM_PUK AND X.HRGNUM_EPISODE_CODE\=B.HRGNUM_EPISODE_CODE AND X.HRGNUM_VISIT_NO\=B.HRGNUM_VISIT_NO AND GNUM_ISVALID\=1 AND X.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND X.HGNUM_ROOM_CODE \= ?)
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.ICDFLAG = AND B.NUM_ICD_STATUS_FLAG = ?
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.NO_DIAG = AND NOT EXISTS (SELECT 1 FROM HRGT_EPISODE_DIAGNOSIS_DTL X WHERE X.HRGNUM_PUK \= B.HRGNUM_PUK AND X.HRGNUM_EPISODE_CODE \= B.HRGNUM_EPISODE_CODE AND X.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND X.GNUM_ISVALID\=1 AND X.HRGNUM_DIAGNOSIS_CODE_TYPE\=0 AND X.HRGNUM_VISIT_NO\= B.HRGNUM_VISIT_NO AND X.HBNUM_ISREPEAT IN (0,1))
															 
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.YES_DIAG = AND EXISTS (SELECT 1 FROM HRGT_EPISODE_DIAGNOSIS_DTL X WHERE X.HRGNUM_PUK \= B.HRGNUM_PUK AND X.HRGNUM_EPISODE_CODE \= B.HRGNUM_EPISODE_CODE AND X.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND X.GNUM_ISVALID\=1 AND X.HRGNUM_DIAGNOSIS_CODE_TYPE\=0 AND X.HRGNUM_VISIT_NO\= B.HRGNUM_VISIT_NO AND X.HBNUM_ISREPEAT IN (0,1))
SELECT.HRGT_PATIENT_DTL.FOR_ICD_ENTRY_FORM.COND.ORDER = ORDER BY A.HRGNUM_PUK DESC 

UPDATE.ICD_STATUS_FLAG.HSCN_DOCUMENT_MST = UPDATE HSCN_DOCUMENT_MST SET NUM_ICD_STATUS_FLAG\=? WHERE HRGNUM_PUK\=? AND HRGNUM_EPISODE_CODE\=? AND HRGNUM_VISIT_NO\=? AND GNUM_HOSPITAL_CODE\=?
  
ESSENTIAL.OPD.USERS.GBLT_USER_MST= SELECT GNUM_USERID, INITCAP(GSTR_USR_NAME)||'('||INITCAP(GSTR_USER_NAME)||')' FROM GBLT_USER_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? and (GDT_EFFECT_DATE <\=trunc(sysdate) and nvl(GDT_EXPIRY_DATE,sysdate+1) >\=trunc(sysdate)) ORDER BY INITCAP(GSTR_USR_NAME)

SELECT.HRGT_DAILY_PATIENT_DTL.RETRIEVE_ALL_FOR_TODAY= SELECT a.HRGNUM_CHANGE_TYPE as patChangeType, a.hrgnum_puk AS patcrno, INITCAP (a.hrgstr_fname) AS patfirstname, INITCAP (a.hrgstr_mname) AS patmiddlename, INITCAP (a.hrgstr_lname) AS patlastname,gnum_marital_status_code AS patmaritalstatuscode,DECODE (a.gstr_gender_code, 1, 'M', 2, 'F', 'O'), INITCAP (a.hrgstr_father_name) AS patguardianname, INITCAP (a.hrgstr_momname) AS patmomname,a.hrgnum_episode_code AS episodecode,a.hrgnum_visit_no AS episodevisitno, a.hrgnum_episode_type_code AS episodetypecode,a.hgnum_deptunitcode AS departmentunitcode, DECODE(a.HRGNUM_CHANGE_TYPE,0,TO_CHAR(a.hrgnum_que_no),1,a.hrgstr_display_queno) AS queno,a.GNUM_DEPT_CODE AS departmentCode, TO_CHAR (a.gdt_entry_date, 'dd-Mon-YYYY') AS episodedate,hgnum_patient_cat_code AS patprimarycatcode, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_patient_cat_code AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) patPrimaryCat, (SELECT INITCAP (gstr_patient_cat_name) FROM gblt_patient_cat_mst WHERE gnum_patient_cat_code \= a.hgnum_treatment_cat_code AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) patSecondaryCat, (SELECT INITCAP (e.gstr_dept_name) FROM gblt_department_mst e WHERE e.gnum_dept_code \= a.gnum_dept_code AND a.GNUM_HOSPITAL_CODE\=e.GNUM_HOSPITAL_CODE AND e.GNUM_ISVALID\=1 ) department, (SELECT INITCAP (x.HGSTR_UNITNAME) FROM HGBT_UNIT_MST x WHERE x.HGNUM_DEPTUNITCODE \= a.HGNUM_DEPTUNITCODE AND x.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND x.GNUM_ISVALID\=1) departmentUnit, (SELECT HGNUM_ISGENERAL  FROM HGBT_UNIT_MST x   WHERE x.hgnum_deptunitcode \= a.hgnum_deptunitcode   AND x.gnum_hospital_code \= a.gnum_hospital_code AND x.GNUM_ISVALID\=1)  departmentunittype, a.hrgnum_is_confirmed isConfirmed FROM hrgt_daily_patient_dtl a WHERE TRUNC (a.gdt_entry_date) \= TRUNC (SYSDATE) AND a.hrgnum_is_confirmed IN (?,?) AND a.GNUM_HOSPITAL_CODE\=? AND a.GNUM_ISVALID\=? ORDER BY  a.hrgnum_is_confirmed, a.hrgnum_que_no 
                                          
ESSENTIAL.UNIT_HOS_DISEASE_LIST.HGBT_DEPT_HOSDISEASE_MST	=select a.HGBSTR_HOSPITAL_DISEASE_CODE, b.HGBSTR_DISEASE_DESC from HGBT_DEPT_HOSDISEASE_MST a, HGBT_HOSPITAL_DISEASE_MST b where a.GNUM_ISVALID\=1 and a.GNUM_HOSPITAL_CODE\=? and HGNUM_DEPTUNITCODE\=? and b.HGBSTR_HOSPITAL_DISEASE_CODE\=a.HGBSTR_HOSPITAL_DISEASE_CODE

																
ESSENTIAL.DISEASE_TYPE.HGBT_DISEASE_TYPE_MST= SELECT A.HGBNUM_DISEASE_TYPE_CODE, A.HGBSTR_DISEASE_TYPE_NAME  FROM HGBT_DISEASE_TYPE_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID \= ? ORDER BY A.HGBSTR_DISEASE_TYPE_NAME
												
ESSENTIAL.MAPPED.ICD.HGBT_DISEASE_MAPPING_MST = SELECT A.hgbstr_disease_code_to, HGBSTR_DISEASE_NAME_TO FROM HGBT_DISEASE_MAPPING_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID \= ? AND A.gnum_codification_id_frm \= 1 AND A.gnum_codification_id_to \= 0 AND hgbstr_disease_code_frm \= ? ORDER BY A.hgnum_mapping_seq_no

ESSENTIAL.MAPPED.SNOMED.HGBT_DISEASE_MAPPING_MST = SELECT A.hgbstr_disease_code_to,HGBSTR_DISEASE_NAME_TO FROM HGBT_DISEASE_MAPPING_MST A WHERE A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_ISVALID \= ? AND A.gnum_codification_id_frm \= 1 AND A.gnum_codification_id_to \= 3 AND hgbstr_disease_code_frm \= ? ORDER BY A.hgnum_mapping_seq_no

#Added by Vasu on 08.Oct.2018
ESSENTIAL.GBLT_RELATION_MST = select GNUM_RELATION_CODE , GSTR_RELATION_NAME from GBLT_RELATION_MST  where GNUM_ISVALID\=?  and  gnum_relation_code not in (?) order by GSTR_RELATION_NAME\t\t\t\t\t\t\t\t\t\t\t\t\t

#Added by Dheeraj
INSERT.SPP_PRESC_UPLOAD_FILE = INSERT INTO HRGT_PATIENT_DOCUMENT_DTL (hrgnum_puk, hrgnum_s_no, hrgnum_episode_code, hrgnum_visit_no, HRGSTR_DOC_TITLE, hrgstr_file_name, HRGSTR_DOCUMENT_ID, gnum_isvalid, gnum_seat_id, gdt_entry_date, GNUM_HOSPITAL_CODE,GNUM_FILE_TYPE) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, SYSDATE,?,?)\t\t\t\t\t\t\t\t\t\t\t\t\t

#Added by Vasu on 25.Oct.2018 for ICD-O Integration

ESSENTIAL.DIAGNOSIS.SITE_LIST.HGBT_DISEASE_SITE_MST = SELECT HGBNUM_ICD_SITE_CODE as diseaseCode, HGSTR_DISEASE_SITE as diseaseSite, HGNUM_DISEASE_SITE_ID AS diseaseSiteId FROM HGBT_DISEASE_SITE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND gnum_isvalid \= ? AND HGNUM_ICD_CODE_TYPE \=2 AND HGNUM_RECORD_TYPE\=0\t\t\t\t\t\t\t\t\t\t\t\t\t\t

ESSENTIAL.MORPHOLOGY.CODE.HGBT_ICD_O_MORPHOLOGY_MST = SELECT HGBSTR_MORPHOLOGY_CODE as morphCode, HGBSTR_MORPHOLOGY_TITLE as morphTitle FROM HGBT_ICD_O_MORPHOLOGY_MST WHERE GNUM_HOSPITAL_CODE \= ? AND gnum_isvalid \= ? AND HGNUM_RECORD_TYPE\=0 order by \tHGBSTR_MORPHOLOGY_CODE,HGBSTR_MORPHOLOGY_TITLE\t\t\t\t\t\t\t\t\t\t\t\t\t

#Added by Vasu on 14.Feb.2019 for OT Section at SPD
ESSENTIAL.OT.TYPE.HOTT_OPERATIONS_MST = select hotnum_operation_code,hotstr_operation_name from hott_operation_mst where hotnum_operation_type_code\=10 and gnum_isvalid  \= ? and gnum_hospital_code \= ? order by 2 \t\t\t\t\t\t\t\t\t\t\t\t\t

#Added by Vasu on 18-Feb-2019 to get previous OT Details
SELECT.PREVIOUS_OT_DETAILS.EHRT_PAT_OPERATION_DTL = SELECT hotnum_operation_code as selOperationCode , hotstr_surgeons as selSurgeonName, hotstr_surgeon_empids as selSergeonCode , hotstr_operation_remarks as selOperativeFindings, hotstr_operation_name as selOperationName , to_char(hotdt_operation_date,'dd-Mon-yyyy') as selOperationDate, hotstr_operation_complications as selOperatonComplications, hrgnum_s_no as slno, hotstr_operation_implant as selOperatonImplant, hotstr_operation_PreOp as selOperatonPreOp, hotstr_operation_PostOp as selOperatonPostOp from ehrt_pat_operation_dtl  where hrgnum_puk \= ? and hrgnum_episode_code \= ? and hipnum_admno \= ? and hrgnum_visit_no \= ? and gnum_isvalid \= ? and gnum_hospital_code \= ?
#Added by Vasu on 30.July.2019 To Delete OT Details
DELETE_EHRT_PAT_OPERATION_DTL = UPDATE ehrt_pat_operation_dtl set gnum_isvalid \= 0 WHERE hrgnum_puk \=? and hrgnum_episode_code \=? and hrgnum_visit_no \=? and hrgnum_s_no \= ? and gnum_hospital_code \= ? \t\t\t\t\t\t\t

#Added by Vasu on 05.Aug.2019 to get Test Names for External Investigation at SPD
GET_TEST_NAMES_LIST.HIVT_TEST_MST = SELECT gnum_test_code, GSTR_TEST_NAME FROM hivt_test_mst WHERE GNUM_ISVALID  \= ? ORDER BY GSTR_TEST_NAME \t\t\t\t

#Added by Vasu on 07.August.2019 To Delete External Investigation Details
DELETE_HRGT_EPISODE_EXTEXAM_DTL_SPD = UPDATE HRGT_EPISODE_EXTEXAM_DTL set gnum_isvalid \= 0 WHERE hrgnum_puk \=? and hrgnum_episode_code \=? and hrgnum_visit_no \=? and hrgnum_slno \= ? and gnum_hospital_code \= ? \t\t\t\t\t\t\t

#Added by Vasu on 18.Dec.2019 to revoke patient referral
REVOKE_HRGT_EPISODE_REF_DTL = UPDATE HRGT_EPISODE_REF_DTL set gnum_isvalid \= 0 WHERE hrgnum_puk \=? and hrgnum_episode_code \=? and hrgnum_visit_no \=? and hrgnum_s_no \= ? and gnum_hospital_code \= ? \t\t\t\t\t\t\t
