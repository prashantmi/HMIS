SELECT_PAT_DIAGNOSIS_ICD.HRGT_EPISODE_DIAGNOSIS_DTL = SELECT DISTINCT(select HGBSTR_DISEASE from HGBT_ICD_DISEASE_MST where UPPER(trim(HGBSTR_DISEASE_CODE))\=UPPER(trim(A.HRGNUM_DIAGNOSTIC_CODE)) AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= ?),A.HRGNUM_DIAGNOSTIC_CODE FROM HRGT_EPISODE_DIAGNOSIS_DTL A WHERE A.HRGNUM_PUK \= ? AND A.HRGNUM_EPISODE_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HRGNUM_DIAGNOSIS_CODE_TYPE \= ? ORDER BY A.HRGNUM_DIAGNOSTIC_CODE
													

SELECT_UNITWISE_CONSULTANT_MC.PIST_EMP_PERSONNEL_DTL = SELECT A.HGSTR_EMP_CODE ||'@'|| (SELECT DISTINCT C.GNUM_DESIG_CODE FROM PIST_EMP_REGISTRSTION_DTL C WHERE C.STR_EMP_NO\=A.HGSTR_EMP_CODE AND C.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) ||'@'|| (SELECT D.GSTR_DESIG_NAME FROM GBLT_DESIGNATION_MST D WHERE D.GNUM_DESIG_CODE\=(SELECT DISTINCT C.GNUM_DESIG_CODE FROM PIST_EMP_REGISTRATION_DTL C WHERE C.STR_EMP_NO\=A.HGSTR_EMP_CODE AND C.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AND D.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) ||'@'|| NVL((SELECT E.HGNUM_MAX_DAYS FROM HGBT_DOCTOR_DESIG_MAPPING E WHERE E.NUM_DESIG_ID\=(SELECT DISTINCT C.GNUM_DESIG_CODE FROM PIST_EMP_REGISTRATION_DTL C WHERE C.STR_EMP_NO\=A.HGSTR_EMP_CODE AND C.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AND E.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND E.HGNUM_PROCESS_TYPE \= ?),0) AS empNo, (SELECT B.STR_EMP_FULL_NAME FROM PIST_EMP_REGISTRATION_DTL B WHERE B.STR_EMP_NO \= A.HGSTR_EMP_CODE AND B.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AS empName FROM HGBT_UNIT_CONSULTANT_MST A WHERE A.HGNUM_DEPTUNITCODE \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ?
													
																										

SELECT_ALL_GENERATED_MC.HRGT_PAT_MEDICAL_DTL_UPDATED_AT_2011.03.08_Hruday = SELECT A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo, A.HRGNUM_ADMISSION_NO as patAdmNo, A.HRGSTR_SUFFERING_FROM as sufferingFrom, A.HGNUM_ADVICE_DAYS as adviceDays, to_char(A.HRGDT_FROM_DATE,'dd-Mon-yyyy') as fromDate, TO_CHAR(A.HRGDT_TO_DATE,'dd-Mon-yyyy') as toDate, A.HPMRSTR_MED_CERTIFICATE_ID as medicalCertificateDesc, A.HPMRNUM_CERTIFICATE_ID as medicalCertificateId, (SELECT DISTINCT HGNUM_DEPTUNITCODE FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_EPISODE_CODE \= A.HRGNUM_EPISODE_CODE AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HRGNUM_VISIT_TYPE \= 1) as unitCode, (SELECT HRGSTR_FNAME||' '||HRGSTR_MNAME||' '||HRGSTR_LNAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) as patName FROM HRGT_PAT_MEDICAL_DTL A WHERE A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GDT_EFFECTIVE_TO IS NULL AND HPMRSTR_MED_CERTIFICATE_ID NOT IN (SELECT B.HPMRNUM_CERTIFICATE_ID FROM HPMRT_CERTIFICATE_ISSUE_DTL B WHERE B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= ?)

SELECT_ALL_GENERATED_MC.HRGT_PAT_MEDICAL_DTL = SELECT A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo, A.HRGNUM_ADMISSION_NO as patAdmNo, A.HRGSTR_SUFFERING_FROM as sufferingFrom, A.HGNUM_ADVICE_DAYS as adviceDays, to_char(A.HRGDT_FROM_DATE,'dd-Mon-yyyy') as fromDate, TO_CHAR(A.HRGDT_TO_DATE,'dd-Mon-yyyy') as toDate, A.HPMRSTR_MED_CERTIFICATE_ID as medicalCertificateDesc, A.HPMRNUM_CERTIFICATE_ID as medicalCertificateId, (SELECT DISTINCT HGNUM_DEPTUNITCODE FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_EPISODE_CODE \= A.HRGNUM_EPISODE_CODE AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) as unitCode, (SELECT HRGSTR_FNAME||' '||HRGSTR_MNAME||' '||HRGSTR_LNAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) as patName FROM HRGT_PAT_MEDICAL_DTL A WHERE A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.GDT_EFFECTIVE_TO IS NULL AND HPMRSTR_MED_CERTIFICATE_ID NOT IN (SELECT B.HPMRNUM_CERTIFICATE_ID FROM HPMRT_CERTIFICATE_ISSUE_DTL B WHERE B.GNUM_ISVALID \= ? AND B.GNUM_HOSPITAL_CODE \= ?)


SELECT_ALL_GENERATED_FC.HRGT_PAT_FITNESS_DTL = SELECT A.HRGNUM_EPISODE_CODE as episodeCode, A.HRGNUM_VISIT_NO as episodeVisitNo, A.HRGNUM_ADMISSION_NO as patAdmNo, A.HRGSTR_SUFFERING_FROM as sufferingFrom, TO_CHAR(A.HRGDT_FITNESS_DATE,'dd-Mon-yyyy') as fitnessDate, A.HPMRNUM_CERTIFICATE_ID as fitnessCertificateId, A.HPMRNUM_MED_CERTIFICATE_ID as medicalCertificateId, A.HPMRSTR_FIT_CERTIFICATE_ID as fitnessCertificateDesc, A.HPMRSTR_MED_CERTIFICATE_ID as medicalCertificateDesc, (SELECT DISTINCT HGNUM_DEPTUNITCODE FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_EPISODE_CODE \= A.HRGNUM_EPISODE_CODE AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) as unitCode, (SELECT HRGSTR_FNAME||' '||HRGSTR_MNAME||' '||HRGSTR_LNAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) as patName FROM HRGT_PAT_FITNESS_DTL A WHERE A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND HPMRSTR_FIT_CERTIFICATE_ID NOT IN (SELECT HPMRSTR_CERTIFICATE_ID FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?)



SELECT_ALL_DUPLICATE_MC.HRGT_PAT_MEDICAL_DTL =SELECT A.HRGSTR_SUFFERING_FROM as sufferingFrom, A.HGNUM_ADVICE_DAYS as adviceDays, to_char(A.HRGDT_FROM_DATE,'dd-Mon-yyyy') as fromDate, TO_CHAR(A.HRGDT_TO_DATE,'dd-Mon-yyyy') as toDate, A.HPMRNUM_CERTIFICATE_ID as medicalCertificateId, A.HPMRSTR_MED_CERTIFICATE_ID as medicalCertificateDesc,B.HPMRSTR_HANDOVER_TO as patName, B.HGNUM_DEPTUNITCODE as unitCode FROM HRGT_PAT_MEDICAL_DTL A ,HPMRT_CERTIFICATE_ISSUE_DTL B WHERE A.HPMRNUM_CERTIFICATE_ID\=B.HPMRNUM_CERTIFICATE_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND b.HPMRNUM_ISDUPLICATE \= ? and a.GDT_EFFECTIVE_TO is null AND A.HPMRNUM_CERTIFICATE_ID IN (SELECT HPMRNUM_CERTIFICATE_ID FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?)


SELECT_ALL_DUPLICATE_FC.HRGT_PAT_FITNESS_DTL = SELECT A.HRGSTR_SUFFERING_FROM as sufferingFrom, TO_CHAR(A.HRGDT_FITNESS_DATE,'dd-Mon-yyyy') as fitnessDate, A.HPMRNUM_CERTIFICATE_ID as fitnessCertificateId, A.HPMRSTR_MED_CERTIFICATE_ID as medicalCertificateDesc, A.HPMRSTR_FIT_CERTIFICATE_ID as fitnessCertificateDesc,B.HPMRSTR_HANDOVER_TO as patName, B.HGNUM_DEPTUNITCODE as unitCode FROM HRGT_PAT_FITNESS_DTL A,HPMRT_CERTIFICATE_ISSUE_DTL B WHERE A.HPMRNUM_CERTIFICATE_ID\=B.HPMRNUM_CERTIFICATE_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND b.HPMRNUM_ISDUPLICATE \= ? AND A.HPMRNUM_CERTIFICATE_ID IN (SELECT HPMRNUM_CERTIFICATE_ID FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) \t\t

SELECT_ALL.HPMRT_CERTIFICATE_ISSUE_DTL = SELECT HPMRSTR_CERTIFICATE_ID AS certificateDesc, HPMRNUM_CERTIFICATE_ID AS certificateId, HPMRNUM_SLNO AS slNo, HPMRNUM_RECORD_TYPE AS recordType, DECODE(HPMRNUM_RECORD_TYPE,'1','Medical Certificate','2','Fitness Certificate') as recordTypeName, HPMRSTR_HANDOVER_TO AS handoverTo, HPMRNUM_ISDUPLICATE AS isDuplicate, DECODE(HPMRNUM_ISDUPLICATE,'1','Yes','0','No')as isDuplicateName, HPMRNUM_ISRECEIPT_TAKEN AS isReceiptTaken, HPMRNUM_RECORD_STATUS AS recordStatus, HPMRSTR_REMARKS AS remarks, HGNUM_DEPTUNITCODE AS deptUnitCode FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HPMRNUM_RECORD_STATUS \= ?


SELECT_ALL_SHELF.HPMRT_RACK_SHELF_MST = SELECT A.HPMRNUM_RACK_ID as rackId, A.HPMRNUM_SLNO as serialNo, HPMRNUM_SHELF_ID as shelfId, (SELECT B.HPMRSTR_SHELF_NAME FROM HPMRT_SHELF_MST B WHERE B.HPMRNUM_SHELF_ID\=A.HPMRNUM_SHELF_ID AND B.GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND B.GNUM_ISVALID \= ?) as shelfName FROM HPMRT_RACK_SHELF_MST A WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t
											

SELECT_ALL_RACK.HPMRT_RACK_MST = SELECT HPMRNUM_RACK_ID as rackId, HPMRSTR_RACK_NAME as rackName, NUM_ROOM_ID AS roomId FROM HPMRT_RACK_MST WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?


SELECT_MEDICAL_PUK.HRGT_PAT_MEDICAL_DTL = SELECT HRGNUM_PUK as patCrNo,HRGNUM_ADMISSION_NO as patAdmNo,HRGNUM_EPISODE_CODE as episodeCode, HRGNUM_VISIT_NO as episodeVisitNo FROM HRGT_PAT_MEDICAL_DTL WHERE HPMRNUM_CERTIFICATE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ?\tAND GDT_EFFECTIVE_TO IS NULL
												 									
SELECT_FITNESS_PUK.HRGT_PAT_FITNESS_DTL = SELECT HRGNUM_PUK as patCrNo,HRGNUM_ADMISSION_NO as patAdmNo,HRGNUM_EPISODE_CODE as episodeCode,HRGNUM_VISIT_NO as episodeVisitNo FROM HRGT_PAT_FITNESS_DTL WHERE HPMRNUM_CERTIFICATE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= ?\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t



SELECT_ALL_MOV_CERTIFICATE.HPMRT_RECORD_DISPATCH_DTL = SELECT A.HPMRSTR_RECORD_ID as certificateDesc, A.HPMRNUM_RECORD_ID as certificateId, A.HPMRNUM_SLNO as slNo, A.HPMRNUM_RECORD_TYPE as recordType, A.HPMRNUM_RECORD_STATUS as recordStatus, DECODE(A.HPMRNUM_RECORD_TYPE,'1', 'Medical Certificate','2', 'Fitness Certificate') AS recordTypeName, A.HGNUM_DEPTUNITCODE as deptUnitCode, DECODE((SELECT HPMRNUM_ISDUPLICATE FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE HPMRNUM_CERTIFICATE_ID\=A.HPMRNUM_RECORD_ID and HPMRNUM_RECORD_STATUS \= ?),'1', 'Yes','0', 'No') as isDuplicateName, (SELECT HPMRSTR_HANDOVER_TO FROM HPMRT_CERTIFICATE_ISSUE_DTL WHERE HPMRNUM_CERTIFICATE_ID\=A.HPMRNUM_RECORD_ID and HPMRNUM_RECORD_STATUS \= ?) as handoverTo FROM HPMRT_RECORD_DISPATCH_DTL A WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_RECORD_STATUS \= ?\tand HPMRNUM_RECORD_TYPE in (?,?)\t

UPDATE_MC.HRGT_EPISODE_RESTADVICE_DTL = UPDATE HRGT_EPISODE_RESTADVICE_DTL SET HRGNUM_CERTIFICATE_STATUS=? WHERE HRGNUM_PUK =? AND HRGNUM_EPISODE_CODE = ? AND HRGNUM_VISIT_NO = ?

																								
GET_MAX_DAYS_EMPLOYEE_ONLINE.HGBT_DOCTOR_DESIG_MAPPING = SELECT A.HGNUM_MAX_DAYS FROM HGBT_DOCTOR_DESIG_MAPPING A WHERE A.NUM_DESIG_ID\=(SELECT DISTINCT B.GNUM_DESIG_CODE FROM PIST_EMP_REGISTRATION_DTL B WHERE B.STR_EMP_NO \= ? AND B.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND B.GNUM_ISVALID \= ?) AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND HGNUM_PROCESS_TYPE \= ?\t\t


ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID = SELECT   HGNUM_DEPTUNITCODE || '^' || c.gnum_diagnosis_code_type, (SELECT x.gstr_dept_name FROM gblt_department_mst x WHERE x.gnum_dept_code \= gnum_dept_code AND x.gnum_hospital_code \= ? AND x.gnum_isvalid \= ?) || ' (' || c.hgstr_unitname || ')' deptName FROM  hgbt_unit_mst c WHERE  gnum_hospital_code \=? AND c.gnum_isvalid \= ? AND c.gnum_isvalid \= ?  ORDER BY deptName
																	
ESSENTIAL.HOPT_DEPT_UNIT_ROSTER_DTL.RETRIEVE_UNITS_BY_SEATID_OLD = SELECT   a.hopnum_deptunitcode || '^' || c.gnum_diagnosis_code_type, (SELECT x.gstr_dept_name FROM gblt_department_mst x WHERE x.gnum_dept_code \= SUBSTR (a.hopnum_deptunitcode, 1, 3) AND x.gnum_hospital_code \= ? AND x.gnum_isvalid \= ?) || ' (' || c.hgstr_unitname || ')' FROM hopt_dept_unit_roster_dtl a, hgbt_unit_mst c WHERE a.hopdt_start_dt <\= SYSDATE AND a.hopdt_end_dt >\= SYSDATE AND a.gnum_hospital_code \= ? AND c.hgnum_deptunitcode \= a.hopnum_deptunitcode AND c.gnum_hospital_code \= a.gnum_hospital_code AND a.gnum_isvalid \= ? AND c.gnum_isvalid \= ? ORDER BY a.hopnum_deptunitcode
																																					

SELECT_PAT_DIAGNOSIS_HOSPITAL.HRGT_EPISODE_DIAGNOSIS_DTL = SELECT DISTINCT (SELECT HGBSTR_DISEASE_DESC FROM HGBT_HOSPITAL_DISEASE_MST WHERE TRIM (HGBSTR_HOSPITAL_DISEASE_CODE) \= TRIM(A.HRGNUM_DIAGNOSTIC_CODE) AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= ?),A.HRGNUM_DIAGNOSTIC_CODE FROM HRGT_EPISODE_DIAGNOSIS_DTL A WHERE A.HRGNUM_PUK \= ? AND A.HRGNUM_EPISODE_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HRGNUM_DIAGNOSIS_CODE_TYPE \= ? ORDER BY A.HRGNUM_DIAGNOSTIC_CODE


SELECT_PHYSICIAN_TYPE.HPMRT_FLAG_MST = SELECT HPMRNUM_FLAG_VALUE, INITCAP(HPMRSTR_FLAG_DESC) FROM HPMRT_FLAG_MST WHERE HPMRNUM_TABLE_ID = 3 AND HPMRSTR_COLUMN_NAME ='HPMRNUM_PHYSICIAN_TYPE'																																																				
																																																				
#Modified by prachi on 25-1-2019 
WARD_LIST.HIPT_DUWRBED_MST.RETRIEVE_BY_DEPTUNITCODE = SELECT DISTINCT HIPNUM_WARD_CODE,(SELECT HIPSTR_WARD_NAME FROM HIPT_WARD_MST WHERE HIPNUM_WARD_CODE\= A.HIPNUM_WARD_CODE AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID\=?) FROM HIPT_DUWRBED_MST A WHERE HGNUM_DEPTUNITCODE LIKE ?  AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?\tAND HIPNUM_WARD_CODE IN (SELECT HIPNUM_WARD_CODE FROM HIPT_WARD_MST WHERE HIPNUM_WARD_CODE \= A.HIPNUM_WARD_CODE AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= 1) ORDER BY 2


SELECT_NOT_USED_CRNO_DETAIL.HRGT_EPISODE_DTL = SELECT   a.hrgnum_puk AS patcrno, TO_CHAR (a.hrgdt_dob, 'dd-Mon-YYYY') AS patdob, a.hrgbl_is_actual_dob AS isactualdob, INITCAP (a.hrgstr_fname) AS patfirstname, INITCAP (a.hrgstr_mname) AS patmiddlename, INITCAP (a.hrgstr_lname) AS patlastname, a.gnum_gender_code, (SELECT gstr_gender_code FROM gblt_gender_mst WHERE gstr_gender_code \= a.gstr_gender_code) AS patgender, INITCAP (a.hrgstr_father_name) AS patguardianname, INITCAP (a.hrgstr_momname) AS patmomname, a.hrgstr_contact_no AS pataddcontactno, a.hrgnum_id_no AS patidno, ahis_util.puk_age_on (?, SYSDATE) AS patage, a.hrgstr_spousename AS pathusbandname, b.hrgstr_city AS pataddcity, INITCAP (b.hrgstr_district) AS patadddistrict, b.gnum_state_code AS pataddstatecode, b.hrgnum_pincode AS pataddpin, b.gnum_country_code AS pataddcountrycode, b.hrgstr_house_no AS pataddhno, b.hrgstr_street_no AS pataddstreet, b.hrgstr_contact_no AS pataddcontactno, b.gnum_city_loc_code AS pataddcityloccode, (SELECT INITCAP (c.gstr_statename) FROM gblt_state_mst c WHERE c.gnum_statecode \= b.gnum_state_code AND c.gnum_hospital_code \= a.gnum_hospital_code) pataddstate, (SELECT INITCAP (d.gstr_countryname) FROM gblt_country_mst d WHERE d.gnum_countrycode \= b.gnum_country_code AND d.gnum_hospital_code \= a.gnum_hospital_code) pataddcountry, (SELECT INITCAP (e.gstr_city_loc_name) FROM gblt_city_location_mst e WHERE e.gnum_city_loc_code \= b.gnum_city_loc_code AND e.gnum_hospital_code \= a.gnum_hospital_code) pataddcityloc FROM hrgt_patient_dtl a, hrgt_patient_add_dtl b WHERE b.HRGNUM_PUK \= a.HRGNUM_PUK AND a.gnum_hospital_code \= ? AND b.gnum_hospital_code \= ? AND a.HRGNUM_PUK \= ? AND B.GNUM_ISVALID \= ? AND B.IS_CURRENT_ADDRESSS \= ?
													

UPDATE_IS_VALID_STATUS.HRGT_PATIENT_DTL = UPDATE HRGT_PATIENT_DTL SET GNUM_ISVALID = ? WHERE HRGNUM_PUK = ? AND GNUM_HOSPITAL_CODE = ?

UPDATE_IS_VALID_STATUS.HRGT_EPISODE_DTL  = UPDATE HRGT_EPISODE_DTL SET GNUM_ISVALID = ? WHERE HRGNUM_PUK = ? AND GNUM_HOSPITAL_CODE = ?


SELECT.COUNT.HRGT_PATIENT_DTL.SEARCH.PATIENT = SELECT COUNT(1) FROM hrgt_patient_dtl a, hrgt_patient_add_dtl b WHERE (b.hrgnum_puk IN (a.hrgnum_puk)) AND a.gnum_isvalid = ? AND b.gnum_isvalid = ?  AND b.IS_CURRENT_ADDRESSS = ? AND a.gnum_hospital_code = ? AND b.gnum_hospital_code=?
											
SELECT.HRGT_PATIENT_DTL.SEARCH.PATIENT = SELECT a.hrgnum_puk AS patcrno, TO_CHAR (a.hrgdt_dob, 'dd-Mon-YYYY') AS patdob, a.hrgbl_is_actual_dob AS isactualdob, INITCAP (a.hrgstr_fname) AS patfirstname, INITCAP (a.hrgstr_mname) AS patmiddlename, INITCAP (a.hrgstr_lname) AS patlastname, a.gnum_gender_code,(SELECT gstr_gender_code FROM gblt_gender_mst WHERE gstr_gender_code \= a.gstr_gender_code ) AS patgender, a.hrgstr_idmark1 AS patidmark, INITCAP (a.hrgstr_father_name) AS patguardianname, INITCAP (a.hrgstr_momname) AS patmomname, a.hrgnum_isunknown AS isunknown, a.hrgstr_contact_no AS pataddcontactno, a.hrgnum_id_no AS patidno, ahis_util.puk_age_on (a.hrgnum_puk, SYSDATE) AS patage, a.hrgstr_spousename AS pathusbandname, a.hrgstr_national_id AS patnationalid, a.hbnum_bldgrp_code AS patbloodgroup, a.hrgnum_mother_puk AS patmothercrno, b.hrgstr_city AS pataddcity, INITCAP (b.hrgstr_district) AS patadddistrict, b.gnum_state_code AS pataddstatecode, b.hrgnum_pincode AS pataddpin, b.gnum_country_code AS pataddcountrycode, b.hrgstr_house_no AS pataddhno, b.hrgstr_street_no AS pataddstreet, b.hrgstr_contact_no AS pataddcontactno, b.gnum_city_loc_code AS pataddcityloccode, (SELECT INITCAP (c.gstr_statename) FROM gblt_state_mst c WHERE c.gnum_statecode \= b.gnum_state_code AND c.gnum_hospital_code \= ?) pataddstate, (SELECT INITCAP (d.gstr_countryname) FROM gblt_country_mst d WHERE d.gnum_countrycode \= b.gnum_country_code AND d.gnum_hospital_code \= ?) pataddcountry, (SELECT INITCAP (e.gstr_city_loc_name) FROM gblt_city_location_mst e WHERE e.gnum_city_loc_code \= b.gnum_city_loc_code AND e.gnum_hospital_code \= a.gnum_hospital_code) pataddcityloc FROM hrgt_patient_dtl a, hrgt_patient_add_dtl b WHERE (b.hrgnum_puk IN (a.hrgnum_puk)) AND a.gnum_isvalid \= ? AND b.gnum_isvalid \= ?  AND b.IS_CURRENT_ADDRESSS \= ? AND a.gnum_hospital_code \= ? AND b.gnum_hospital_code\=?

UPDATE_IS_MERGED_STATUS.HRGT_PATIENT_DTL	=	UPDATE HRGT_PATIENT_DTL SET HRGNUM_ISMERGED = ? WHERE HRGNUM_PUK = ? AND GNUM_HOSPITAL_CODE = ?

//------------------------------------------------Case_Sheet_Acceptence-------------------------------------------------------
SELECT_ALL_DISPATCHED_CASE_SHEET.HPMRT_RECORD_DISPATCH_DTL	= SELECT hrgnum_puk patcrno,a.hpmrnum_record_id AS recordId, a.hpmrnum_slno AS slno,\ta.hpmrnum_record_type AS recordtype, a.hpmrnum_record_status AS recordstatus, DECODE (HIPNUM_IS_DUPLICATE , '1', 'Duplicate', '0', 'Original') AS isduplicate,HGNUM_DEPTUNITCODE departmentUnitCode, a.HIPNUM_WARD_CODE wardCode,HIPNUM_CASESHEET_ID caseSheetId, (SELECT hgstr_unitname FROM hgbt_unit_mst WHERE hgnum_deptunitcode \= a.HGNUM_DEPTUNITCODE  AND gnum_hospital_code \= a.gnum_hospital_code  AND gnum_isvalid IN (?, ?)   ) AS departmentunit,(SELECT gstr_dept_name FROM gblt_department_mst WHERE gnum_dept_code \= a.gnum_dept_code AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid IN (?, ?) ) AS department,(SELECT hipstr_ward_name FROM hipt_ward_mst WHERE hipnum_ward_code \= a.hipnum_ward_code AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_isvalid \= a.gnum_isvalid AND TRUNC (gdt_effective_frm) <\= TRUNC (SYSDATE) AND TRUNC (NVL (gdt_effective_to, SYSDATE)) >\= TRUNC (SYSDATE))ward FROM hpmrt_record_dispatch_dtl a, hipd_casesheet_dtl b  WHERE a.gnum_isvalid \= ? AND a.gnum_hospital_code \= ? AND a.hpmrnum_record_status \= ? AND hpmrnum_record_type \=?  AND b.hrgnum_admission_no \= a.hpmrstr_record_id and a.gnum_hospital_code\=b.gnum_hospital_code and a.gnum_isvalid\=b.gnum_isvalid AND hipnum_casesheet_status \= ? AND hipnum_casesheet_id \= (SELECT MAX (hipnum_casesheet_id) FROM hipd_casesheet_dtl WHERE hrgnum_admission_no \= b.hrgnum_admission_no AND gnum_hospital_code \= b.gnum_hospital_code) order by HPMRNUM_RECORD_ID, HGNUM_DEPTUNITCODE

SELECT.BY_RECORDID_HPMRT_RECORD_ENCLOSURE_SUMMARY	=SELECT hpmrnum_record_id recordTypeId, hpmrnum_record_type, HPMRNUM_SLNO slNo,hpmrnum_enclosure_id enclosureId,HPMRNUM_PAGES_DISPATCH pages, (SELECT hpmrstr_enclosure FROM hpmrt_record_enclosure_mst  WHERE hpmrnum_enclosure_id \= a.hpmrnum_enclosure_id AND gnum_hospital_code \=? AND gnum_isvalid \= a.gnum_isvalid)enclosure FROM hpmrt_record_enclosure_summary a WHERE hpmrnum_record_type \= ? AND gnum_isvalid \= ? and hpmrnum_record_id\=?             \t\t\t\t\t\t\t\t\t


SELECT.CHECKLIST_AT_MRD.HPMRT_RECORD_TYPE_CHECKLIST	=	SELECT hpmrnum_checklist_id checklistId, hpmrnum_slno serialNo, hpmrnum_record_type recordTypeId, hpmrstr_checklist checklistName, hpmrnum_iscompulsory isCompulsory FROM hpmrt_record_type_checklist a  WHERE hpmrnum_record_type = ? AND gnum_isvalid = ? and GNUM_HOSPITAL_CODE=? and  HPMRNUM_ISCOMPULSORY=? 
           									
UPDATE.HPMRT_RECORD_DISPATCH_DTL	=	update HPMRT_RECORD_DISPATCH_DTL set HPMRNUM_RECORD_STATUS=? ,HPMRSTR_RETURN_REASON=? where HPMRNUM_RECORD_ID=? and HPMRNUM_RECORD_TYPE=? and HPMRNUM_SLNO=? and gnum_hospital_code=? and gnum_isvalid=?

UPDATE.HPMRT_RECORD_ENCLOSURE_SUMMARY	=	update HPMRT_RECORD_ENCLOSURE_SUMMARY set HPMRNUM_VERIFYBY_MRD=?, HPMRSTR_REMARKS=?  where HPMRNUM_RECORD_ID=? and HPMRNUM_RECORD_TYPE=? and HPMRNUM_ENCLOSURE_ID=? and HPMRNUM_SLNO=? and gnum_isvalid=?             									
           									             									
//---------------------------------------------------Discharge_printing-----------------------------------------------------------------------------

INSERT.HIPD_DISCHARGE_PRINT_DTL		=insert into HIPD_DISCHARGE_PRINT_DTL (HRGNUM_ADMISSION_NO, HIPNUM_SLNO, HRGNUM_PUK, HIPNUM_IS_DUPLICATE,HIPNUM_ISRECEIPT_TAKEN, HPMRNUM_PROFILE_ID, HIPDT_HANDOVER_DATETIME, HIPNUM_HANDOVER_TO, GNUM_ISVALID, GNUM_DEPTUNIT_CODE, HIPSTR_RELATIVE_NAME, HIPSTR_RELATIVE_ADDRESS, GNUM_SEAT_ID, HIPNUM_WARD_CODE, GNUM_RELATIVECODE, GDT_ENTRY_DATE, HIPSTR_OFFICER_NAME, HIPSTR_OFFICER_DESIG, GNUM_HOSPITAL_CODE, HIPSTR_OFFICER_BADGENO, HIPSTR_REMARKS, GSTR_IP_ADD) values(?,(select nvl(max(HIPNUM_SLNO),0)+1 from HIPD_DISCHARGE_PRINT_DTL where HRGNUM_ADMISSION_NO\=? and GNUM_HOSPITAL_CODE\=?),?,?,?,?,sysdate,?,?,?,?,?,?,?,?,sysdate,?,?,?,?,?,?)           \t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t

#Modified by Vasu on 12.Feb.2019
#SELECT.DISCHARGE_PAT.FOR_PRINTING	=SELECT hipnum_admno patadmno, hrgnum_puk patcrno, hrgnum_name patname,(SELECT gstr_gender_code FROM gblt_gender_mst WHERE a.gstr_gender_code \= gnum_gender_code AND gnum_isvalid \= a.gnum_isvalid )|| '/'|| hrgnum_age||'' || hrgstr_ageunit genderage,hrgnum_episode_code, hrgnum_visit_no, gnum_dept_code departmentcode, gnum_deptunit_code departmentUnitCode, hipnum_ward_code wardCode,TO_CHAR (hipdt_disdatetime, 'dd-Mon-yyyy') dischargedate,(SELECT hpmrnum_profile_id || '\#' || hpmrnum_profile_status FROM hpmrt_pat_profile_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_admission_no \= a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code AND hpmrnum_profile_type \= ?) profileid, nvl2((SELECT hrgnum_admission_no FROM hipd_discharge_print_dtl WHERE hrgnum_admission_no \=  a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code and HIPNUM_SLNO\=(select max(HIPNUM_SLNO) from hipd_discharge_print_dtl WHERE hrgnum_admission_no \= a.hipnum_admno AND gnum_hospital_code \= a.gnum_hospital_code)),1,0)printStatus, nvl2((SELECT hrgstr_mlc_no FROM hrgt_episode_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code and gnum_isvalid\=a.gnum_isvalid and gnum_hospital_code\=a.gnum_hospital_code AND hrgnum_visit_no \= (SELECT MAX (hrgnum_visit_no) FROM hrgt_episode_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code and gnum_isvalid\=a.gnum_isvalid and gnum_hospital_code\=a.gnum_hospital_code)),1,0)isMlc,DECODE ((SELECT hgnum_pat_status_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code),?, 1,0)isDead,(SELECT gstr_dept_name FROM gblt_department_mst WHERE gnum_dept_code \= a.gnum_dept_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) department,(SELECT hgstr_unitname FROM hgbt_unit_mst WHERE hgnum_deptunitcode \= a.gnum_deptunit_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) departmentunit,(SELECT hipstr_ward_name FROM hipt_ward_mst WHERE hipnum_ward_code \= a.hipnum_ward_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) ward FROM hipt_patadmdisc_dtl a WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ? AND hipdt_disdatetime IS NOT NULL and GNUM_DEPTUNIT_CODE\=? and HIPNUM_WARD_CODE\=? AND TRUNC (hipdt_disdatetime) \= TRUNC (SYSDATE) ORDER BY hrgnum_puk, hipnum_admno            \t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t
SELECT.DISCHARGE_PAT.FOR_PRINTING  = SELECT hipnum_admno patadmno, hrgnum_puk patcrno, hrgnum_name patname,(SELECT gstr_gender_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= 1)|| '/'|| hrgnum_age||'' || hrgstr_ageunit genderage,hrgnum_episode_code, hrgnum_visit_no, gnum_dept_code departmentcode, gnum_deptunit_code departmentUnitCode, hipnum_ward_code wardCode,TO_CHAR (hipdt_disdatetime, 'dd-Mon-yyyy') dischargedate,(SELECT hpmrnum_profile_id || '\#' || hpmrnum_profile_status FROM hpmrt_pat_profile_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_admission_no \= a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code AND hpmrnum_profile_type \= ?) profileid, decode((SELECT hrgnum_admission_no FROM hipd_discharge_print_dtl WHERE hrgnum_admission_no \=  a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code and HIPNUM_SLNO\=(select max(HIPNUM_SLNO) from hipd_discharge_print_dtl WHERE hrgnum_admission_no \= a.hipnum_admno AND gnum_hospital_code \= a.gnum_hospital_code)),1,1,0)printStatus, DECODE ((SELECT hgnum_pat_status_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code),?, 1,0)isDead,(SELECT gstr_dept_name FROM gblt_department_mst WHERE gnum_dept_code \= a.gnum_dept_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) department,(SELECT hgstr_unitname FROM hgbt_unit_mst WHERE hgnum_deptunitcode \= a.gnum_deptunit_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) departmentunit,(SELECT hipstr_ward_name FROM hipt_ward_mst WHERE hipnum_ward_code \= a.hipnum_ward_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) ward FROM hipt_patadmdisc_dtl a WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ? AND hipdt_disdatetime IS NOT NULL and GNUM_DEPTUNIT_CODE\=? and HIPNUM_WARD_CODE\=? ORDER BY hrgnum_puk, hipnum_admno            \t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t

#Modified by Vasu on 12.Feb.2019     								
#SELECT.DISCHARGE_PAT.FOR_PRINTING_CRNO_WISE	=SELECT hipnum_admno patadmno, hrgnum_puk patcrno, hrgnum_name patname,(SELECT gstr_gender_code FROM gblt_gender_mst WHERE a.gstr_gender_code \= gnum_gender_code AND gnum_isvalid \= a.gnum_isvalid )|| '/'|| hrgnum_age||'' || hrgstr_ageunit genderage,hrgnum_episode_code, hrgnum_visit_no, gnum_dept_code departmentcode, gnum_deptunit_code departmentUnitCode, hipnum_ward_code wardCode,TO_CHAR (hipdt_disdatetime, 'dd-Mon-yyyy') dischargedate,(SELECT hpmrnum_profile_id || '\#' || hpmrnum_profile_status FROM hpmrt_pat_profile_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_admission_no \= a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code AND hpmrnum_profile_type \= ?) profileid, nvl2((SELECT hrgnum_admission_no FROM hipd_discharge_print_dtl WHERE hrgnum_admission_no \=  a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code and HIPNUM_SLNO\=(select max(HIPNUM_SLNO) from hipd_discharge_print_dtl WHERE hrgnum_admission_no \= a.hipnum_admno AND gnum_hospital_code \= a.gnum_hospital_code)),1,0)printStatus, nvl2((SELECT hrgstr_mlc_no FROM hrgt_episode_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code and gnum_isvalid\=a.gnum_isvalid and gnum_hospital_code\=a.gnum_hospital_code AND hrgnum_visit_no \= (SELECT MAX (hrgnum_visit_no) FROM hrgt_episode_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_episode_code \= a.hrgnum_episode_code and gnum_isvalid\=a.gnum_isvalid and gnum_hospital_code\=a.gnum_hospital_code)),1,0)isMlc, DECODE ((SELECT hgnum_pat_status_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code), ? , 1, 0) isDead,(SELECT gstr_dept_name FROM gblt_department_mst WHERE gnum_dept_code \= a.gnum_dept_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) department,(SELECT hgstr_unitname FROM hgbt_unit_mst WHERE hgnum_deptunitcode \= a.gnum_deptunit_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) departmentunit,(SELECT hipstr_ward_name FROM hipt_ward_mst WHERE hipnum_ward_code \= a.hipnum_ward_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) ward FROM hipt_patadmdisc_dtl a WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ? AND hipdt_disdatetime IS NOT NULL and hrgnum_puk\=? ORDER BY hrgnum_puk, hipnum_admno            \t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t
     								
SELECT.DISCHARGE_PAT.FOR_PRINTING_CRNO_WISE	=SELECT hipnum_admno patadmno, hrgnum_puk patcrno, hrgnum_name patname,(SELECT gstr_gender_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= 1 )|| '/'|| hrgnum_age||'' || hrgstr_ageunit genderage,hrgnum_episode_code, hrgnum_visit_no, gnum_dept_code departmentcode, gnum_deptunit_code departmentUnitCode, hipnum_ward_code wardCode,TO_CHAR (hipdt_disdatetime, 'dd-Mon-yyyy') dischargedate,(SELECT hpmrnum_profile_id || '\#' || hpmrnum_profile_status FROM hpmrt_pat_profile_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND hrgnum_admission_no \= a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code AND hpmrnum_profile_type \= ?) profileid, decode((SELECT hrgnum_admission_no FROM hipd_discharge_print_dtl WHERE hrgnum_admission_no \=  a.hipnum_admno AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code and HIPNUM_SLNO\=(select max(HIPNUM_SLNO) from hipd_discharge_print_dtl WHERE hrgnum_admission_no \= a.hipnum_admno AND gnum_hospital_code \= a.gnum_hospital_code)),1,1,0)printStatus, DECODE ((SELECT hgnum_pat_status_code FROM hrgt_patient_dtl WHERE hrgnum_puk \= a.hrgnum_puk AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code), ? , 1, 0) isDead,(SELECT gstr_dept_name FROM gblt_department_mst WHERE gnum_dept_code \= a.gnum_dept_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) department,(SELECT hgstr_unitname FROM hgbt_unit_mst WHERE hgnum_deptunitcode \= a.gnum_deptunit_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) departmentunit,(SELECT hipstr_ward_name FROM hipt_ward_mst WHERE hipnum_ward_code \= a.hipnum_ward_code AND gnum_isvalid \= a.gnum_isvalid AND gnum_hospital_code \= a.gnum_hospital_code) ward FROM hipt_patadmdisc_dtl a WHERE gnum_isvalid \= ? AND gnum_hospital_code \= ? AND hipdt_disdatetime IS NOT NULL and hrgnum_puk\=? ORDER BY hrgnum_puk, hipnum_admno            \t\t\t\t\t\t\t\t\t             \t\t\t\t\t\t\t\t\t

     								
SELECT_BIRTH_CHILD_TO_UPLOAD.HANCT_NEWNATAL_DTL = SELECT A.HRGNUM_PUK AS patCrNo, (SELECT B.HRGSTR_FNAME||' '||B.HRGSTR_MNAME||' '||B.HRGSTR_LNAME FROM HRGT_PATIENT_DTL B WHERE B.HRGNUM_PUK\=A.HRGNUM_PUK)  AS motherName, A.GNUM_GENDER_CODE AS genderCode,(SELECT D.gstr_gender_code FROM GBLT_GENDER_MST D WHERE D.gstr_gender_code\=A.gstr_gender_code AND GNUM_ISVALID \= 1 ) AS gender, A.HRGNUM_CHILD_PUK AS childCrNo, (SELECT C.HRGSTR_FNAME||' '||C.HRGSTR_MNAME||' '||C.HRGSTR_LNAME FROM HRGT_PATIENT_DTL C WHERE C.HRGNUM_PUK\=A.HRGNUM_CHILD_PUK) AS childName, TO_CHAR(A.HANCDT_BIRTH_DATETIME,'dd-Mon-yyyy HH24\:MI') AS birthDateTime , 'Not Uploaded' AS status, '0' AS statusCode FROM HANCT_NEWNATAL_DTL A WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HRGNUM_CHILD_PUK IS NOT NULL AND A.HRGNUM_CHILD_PUK NOT IN (SELECT X.HRGNUM_PUK FROM HPMRT_BIRTHDEATH_UPLOAD_DTL X WHERE X.HPMRNUM_RECORD_TYPE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) UNION SELECT A.HRGNUM_PUK AS patCrNo, (SELECT B.HRGSTR_FNAME||' '||B.HRGSTR_MNAME||' '||B.HRGSTR_LNAME FROM HRGT_PATIENT_DTL B WHERE B.HRGNUM_PUK\=A.HRGNUM_PUK)  AS motherName, A.GNUM_GENDER_CODE AS genderCode,(SELECT D.gstr_gender_code FROM GBLT_GENDER_MST D WHERE D.gstr_gender_code\=A.gstr_gender_code AND GNUM_ISVALID \= 1 ) AS gender, A.HRGNUM_CHILD_PUK AS childCrNo, (SELECT C.HRGSTR_FNAME||' '||C.HRGSTR_MNAME||' '||C.HRGSTR_LNAME FROM HRGT_PATIENT_DTL C WHERE C.HRGNUM_PUK\=A.HRGNUM_CHILD_PUK) AS childName, TO_CHAR(A.HANCDT_BIRTH_DATETIME,'dd-Mon-yyyy HH24\:MI') AS birthDateTime , DECODE(E.HPMRNUM_ENTRY_MODE,1,'Uploaded') AS status, DECODE(E.HPMRNUM_ENTRY_MODE,1,'1') AS statusCode FROM HANCT_NEWNATAL_DTL A, HPMRT_BIRTHDEATH_UPLOAD_DTL E WHERE A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HRGNUM_CHILD_PUK\=E.HRGNUM_PUK AND E.HPMRNUM_RECORD_TYPE \= ? AND A.HRGNUM_CHILD_PUK IS NOT NULL AND E.HPMRNUM_ENTRY_MODE \= ? AND TRUNC(E.HPMRDT_UPLOAD_DATETIME)\=TRUNC(SYSDATE) AND e.HPMRNO_SLNO \= (SELECT MAX(x.HPMRNO_SLNO) FROM HPMRT_BIRTHDEATH_UPLOAD_DTL x WHERE x.HPMRNUM_RECORD_TYPE \= ? AND x.HRGNUM_PUK\=e.HRGNUM_PUK)


SELECT_RELATION.GBLT_RELATION_MST = SELECT   GNUM_RELATION_CODE, GSTR_RELATION_NAME FROM GBLT_RELATION_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY GSTR_RELATION_NAME


SELECT_BIRTH_UPLOAD.HPMRT_BIRTHDEATH_UPLOAD_DTL = SELECT HPMRSTR_REGISTRATION_NO AS registrtionNo, HPMRSTR_REMARKS AS remarks, TO_CHAR(HPMRDT_UPLOAD_DATETIME,'dd_mon_yyyy HH24\:MI') AS uploadDateTime FROM HPMRT_BIRTHDEATH_UPLOAD_DTL WHERE HPMRNUM_RECORD_TYPE \= ? AND HRGNUM_PUK \= ? AND  HPMRNO_SLNO \= (SELECT MAX(HPMRNO_SLNO) FROM HPMRT_BIRTHDEATH_UPLOAD_DTL WHERE HPMRNUM_RECORD_TYPE \= ? AND HRGNUM_PUK \= ?)


SELECT_MOTHER.HRGT_PATIENT_DTL = SELECT HRGNUM_PUK AS patCrNo, HRGSTR_FNAME AS patFirstName, HRGSTR_MNAME AS patMiddleName, HRGSTR_LNAME AS patLastName, HRGSTR_AGE AS patAge, HRGSTR_SPOUSENAME AS patHusbandName FROM HRGT_PATIENT_DTL WHERE  HRGNUM_PUK\=  ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?


SELECT_CHILD.HRGT_PATIENT_DTL = SELECT b.HRGNUM_PUK AS patCrNo, b.HRGSTR_FNAME AS patFirstName, b.HRGSTR_MNAME AS patMiddleName, b.HRGSTR_LNAME AS patLastName, TO_CHAR(HRGDT_DOB,'dd-Mon-yyyy HH24\:MI') AS patDOB,(SELECT a.GSTR_GENDER_NAME FROM GBLT_GENDER_MST a WHERE a.gstr_gender_code\=b.gstr_gender_code  AND a.GNUM_ISVALID\=b.GNUM_ISVALID) AS patGender FROM HRGT_PATIENT_DTL b WHERE  b.HRGNUM_PUK\=   ?  AND b.GNUM_ISVALID \= ? AND b.GNUM_HOSPITAL_CODE \= ?


SELECT_BIRTH_SLIP_DETAIL.HRGT_PATIENT_DTL = SELECT TO_CHAR(A.HRGDT_DOB,'dd-Mon-yyyy HH24\:MI') AS patDOB, (SELECT D.GSTR_GENDER_NAME FROM GBLT_GENDER_MST D WHERE D.gstr_gender_code\= A.gstr_gender_code AND D.GNUM_ISVALID \= ?) AS patGender, A.HRGSTR_FATHER_NAME AS patGuardianName, A.HRGSTR_MOMNAME AS patMotherName, B.HPMRSTR_REGISTRATION_NO AS birthRegNo, (SELECT TO_CHAR(SYSDATE,'dd-Mon-yyyy HH24\:MI') FROM dual) AS systemDate FROM HRGT_PATIENT_DTL A, HPMRT_BIRTHDEATH_UPLOAD_DTL B WHERE A.HRGNUM_PUK\=B.HRGNUM_PUK AND A.HRGNUM_PUK \=  ? AND B.HPMRNUM_RECORD_TYPE \= ? AND B.HPMRNO_SLNO\=(SELECT MAX(C.HPMRNO_SLNO) FROM HPMRT_BIRTHDEATH_UPLOAD_DTL C WHERE C.HPMRNUM_RECORD_TYPE \= ? AND HRGNUM_PUK \= ? ) AND A.GNUM_HOSPITAL_CODE \= ?


SELECT_DEATH_PAT_TO_UPLOAD.HPMRT_PAT_DEATH_DTL = SELECT A.HRGNUM_PUK AS patCrNo, A.HRGSTR_FNAME||' '||A.HRGSTR_MNAME||' '||A.HRGSTR_LNAME AS patFirstName, A.GNUM_GENDER_CODE AS patGenderCode, A.HRGSTR_AGE AS patAge,TO_CHAR(B.HPMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') AS deathDateTime,B.HPMRDT_DEATH_DATETIME AS dateTime, (SELECT D.gstr_gender_code   FROM GBLT_GENDER_MST D WHERE D.gstr_gender_code \= A.gstr_gender_code AND D.GNUM_ISVALID \= ? ) AS patGender , 'Not Uploaded' AS patStatus, '0' AS patStatusCode FROM HRGT_PATIENT_DTL A, HPMRT_PAT_DEATH_DTL B WHERE A.HRGNUM_PUK\=B.HRGNUM_PUK AND B.HPMRNUM_SLNO\=(SELECT MAX(C.HPMRNUM_SLNO) FROM HPMRT_PAT_DEATH_DTL C WHERE  C.HRGNUM_PUK\=B.HRGNUM_PUK) AND B.HRGNUM_PUK NOT IN (SELECT X.HRGNUM_PUK FROM HPMRT_BIRTHDEATH_UPLOAD_DTL X WHERE X.HPMRNUM_RECORD_TYPE \= ? AND GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?) UNION SELECT A.HRGNUM_PUK AS patCrNo, A.HRGSTR_FNAME||' '||A.HRGSTR_MNAME||' '||A.HRGSTR_LNAME AS patFirstName, A.GNUM_GENDER_CODE AS patGenderCode, A.HRGSTR_AGE AS patAge,TO_CHAR(B.HPMRDT_DEATH_DATETIME,'dd-Mon-yyyy HH24\:MI') AS deathDateTime,B.HPMRDT_DEATH_DATETIME AS dateTime, (SELECT D.GSTR_GENDER_CODE   FROM GBLT_GENDER_MST D WHERE D.GSTR_GENDER_CODE \= A.GSTR_GENDER_CODE AND D.GNUM_ISVALID \= ? ) AS patGender, DECODE (E.HPMRNUM_ENTRY_MODE, 1, 'Uploaded') AS patStatus, DECODE (E.HPMRNUM_ENTRY_MODE, 1, '1') AS patStatusCode FROM HRGT_PATIENT_DTL A,HPMRT_PAT_DEATH_DTL B,HPMRT_BIRTHDEATH_UPLOAD_DTL E WHERE A.HRGNUM_PUK\=B.HRGNUM_PUK AND E.HRGNUM_PUK\=B.HRGNUM_PUK AND B.HPMRNUM_SLNO\=(SELECT MAX(C.HPMRNUM_SLNO) FROM HPMRT_PAT_DEATH_DTL C WHERE  C.HRGNUM_PUK\=B.HRGNUM_PUK) AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND E.HPMRNUM_RECORD_TYPE \= ? AND E.HPMRNUM_ENTRY_MODE \= ? AND TRUNC (E.HPMRDT_UPLOAD_DATETIME) \= TRUNC (SYSDATE) AND E.HPMRNO_SLNO \= (SELECT MAX (X.HPMRNO_SLNO) FROM HPMRT_BIRTHDEATH_UPLOAD_DTL X WHERE X.HPMRNUM_RECORD_TYPE \= ? AND X.HRGNUM_PUK \= E.HRGNUM_PUK) ORDER BY dateTime
													

ESSENTIAL.GBLT_GENDER_MST = SELECT GSTR_GENDER_CODE, GSTR_GENDER_NAME FROM GBLT_GENDER_MST WHERE GNUM_ISVALID=? ORDER BY GSTR_GENDER_NAME     								

ESSENTIAL.HPMRT_SUMMON_TYPE_MST = select HPMRNUM_SUMMON_TYPE_ID,HPMRSTR_SUMMON_TYPE from HPMRT_SUMMON_TYPE_MST where GNUM_ISVALID=? and  GNUM_HOSPITAL_CODE=? order by HPMRSTR_SUMMON_TYPE

SELECT.RECEIVED_SUMMON.HPMRT_SUMMON_DTL = SELECT HPMRNUM_SUMMON_ID as summonId, HPMRNUM_SUMMON_TYPE_ID as summonTypeId, HPMRNUM_RECORD_TYPE as recordType, HPMRNUM_RECORD_CAT as recordCat, HRGNUM_PUK as patCrNo, HRGNUM_EPISODE_CODE as episodeCode, HRGNUM_VISIT_NO as episodeVisitNo, HRGSTR_MLC_NO as MLCNo, HRGNUM_ADMISSION_NO as patAdmNo, HPMRNUM_CERTIFICATE_ID as certificateNo, HMRNUM_DECEASED_NO as deceasedNo, HMRNUM_POSTMORTEM_ID as postmortemId, to_char(HPMRDT_SUMMON_DATETIME,'dd-Mon-yyyy') as summonDateTime, to_char(HPMRDT_SUMMON_RECEIVE_DATETIME,'dd-Mon-yyyy hh24\:mi') as summonReceiveDateTime, to_char(HPMRDT_HEARING_DATETIME,'dd-Mon-yyyy hh24\:mi') as hearingDateTime, HPMRSTR_COURT_NAME as courtName, HPMRSTR_COURT_ADDRESS as courtAddress, HPMRSTR_JUDGE_NAME as judgeName, HRGSTR_CASE_NO as caseNo, HRGSTR_POLICE_STATION as policeStation, HRGSTR_CONSTABLE_NAME as constableName, HRGSTR_CONSTABLE_DESIG as constableDesig, HRGSTR_CONSTABLE_BADGENO as constableBadgeNo, HPMRSTR_EMP_NAME as empName, HPMRSTR_ASSIGN_TO as assignTo, HPMRNUM_ASSIGN_SAME as assignSame, HPMRSTR_OTHER_ASSIGN_REASON as otherAssignReason, HPMRNUM_ENTRY_MODE as entryMode, HPMRSTR_ASSIGN_BY as assignBy, HPMRSTR_SUMMON_REMARKS summonRemarks, HPMRNUM_STATUS as status, HPMRSTR_VISIT_REMARKS as visitRemarks, HPMRDT_NEXTHEARING_DATETIME as nextHearingDateTime, HPMRSTR_INSTRUCTIONS as instruction, HPMRSTR_PAT_NAME as patName, HPMRSTR_FATHER_NAME as fatherName, HPMRSTR_SPOUSE_NAME as spouseName, HPMRSTR_MOTHER_NAME as motherName, decode(HPMRNUM_PAT_GENDER_CODE,1,'Male',2,'Female',3,'Other') as patGenderCode, ahis_util.dob_age_on (HPMRDT_PAT_DOB,sysdate) as patDOB, HPMRSTR_PAT_ADDRESS as patAddress, HPMRSTR_CID_NO as CIDNo, HPMRNUM_IS_UPLAOD as isUpload, GNUM_ISVALID as isValid, GDT_ENTRY_DATE as entryDate, GNUM_SEAT_ID, GDT_ASSIGN_DATE as assignDate, GNUM_ASSIGNSEAT_ID as assignSeatId, GDT_POSTENTRY_DATE as postentryDate, GNUM_POSTSEAT_ID, GNUM_HOSPITAL_CODE FROM hpmrt_summon_dtl where gnum_hospital_code\=? and gnum_isvalid\=? and HPMRNUM_STATUS\=? AND TRUNC (hpmrdt_hearing_datetime) >\= TRUNC (SYSDATE) order by hearingDateTime    \t

SELECT.POST_SUMMON.HPMRT_SUMMON_DTL =SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, hpmrnum_record_type AS recordtype, hpmrnum_record_cat AS recordcat, hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode, hrgnum_visit_no AS episodevisitno, hrgstr_mlc_no AS mlcno, hrgnum_admission_no AS patadmno, hpmrnum_certificate_id AS certificateno, hmrnum_deceased_no AS deceasedno, hmrnum_postmortem_id AS postmortemid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_court_name AS courtname, hpmrstr_court_address AS courtaddress, hpmrstr_judge_name AS judgename, hrgstr_case_no AS caseno, hrgstr_police_station AS policestation, hrgstr_constable_name AS constablename, hrgstr_constable_desig AS constabledesig, hrgstr_constable_badgeno AS constablebadgeno, hpmrstr_emp_name AS empname, HPMRSTR_ASSIGN_TO AS assignto, hpmrnum_assign_same AS assignSame, hpmrstr_other_assign_reason AS otherassignreason, HPMRNUM_ENTRY_MODE AS entrymode, HPMRSTR_ASSIGN_BY AS assignby, hpmrstr_summon_remarks summonremarks, HPMRNUM_STATUS AS status, hpmrstr_visit_remarks AS visitremarks, hpmrdt_nexthearing_datetime AS nexthearingdatetime, hpmrstr_instructions AS instruction, HPMRSTR_PAT_NAME AS patname, HPMRSTR_FATHER_NAME AS fathername, HPMRSTR_SPOUSE_NAME AS spousename, hpmrstr_mother_name AS mothername, DECODE (hpmrnum_pat_gender_code, 1, 'Male', 2, 'Female', 3, 'Other' ) AS patgendercode, (select x.HRGSTR_AGE from HRGT_PATIENT_DTL x where x.HRGNUM_PUK\=a.HRGNUM_PUK and x.gnum_hospital_code\=a.gnum_hospital_code and x.gnum_isvalid\=a.gnum_isvalid) as patAge,   ahis_util.dob_age_on (hpmrdt_pat_dob, SYSDATE) AS patdob, hpmrstr_pat_address AS pataddress, hpmrstr_cid_no AS cidno, hpmrnum_is_uplaod AS isupload, a.gnum_isvalid AS isvalid, a.gdt_entry_date AS entrydate, a.gnum_seat_id, gdt_assign_date AS assigndate, gnum_assignseat_id AS assignseatid, gdt_postentry_date AS postentrydate, gnum_postseat_id, a.gnum_hospital_code,b.NUM_DESIG_ID as assignToDesigID,NVL((SELECT gstr_desig_name FROM gblt_designation_mst WHERE gnum_desig_code \= b.gnum_desig_code AND gnum_isvalid \=b.GNUM_ISVALID AND gnum_hospital_code \= b.gnum_hospital_code),'-') as assignEmpDesignation, (select (STR_EMP_FULL_NAME)  from PIST_REGISTRATION_ENTRY_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a,PIST_EMP_REGISTRATION_DTL b WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.HPMRNUM_STATUS in (?,?) and a.HPMRSTR_ASSIGN_TO\=b.STR_EMP_NO and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID ORDER BY hearingDateTime  \t



SELECT.CHANGE_ASSIGN_SUMMON.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, hpmrnum_record_type AS recordtype, hpmrnum_record_cat AS recordcat, hrgnum_puk AS patcrno, hrgnum_episode_code AS episodecode, hrgnum_visit_no AS episodevisitno, hrgstr_mlc_no AS mlcno, hrgnum_admission_no AS patadmno, hpmrnum_certificate_id AS certificateno, hmrnum_deceased_no AS deceasedno, hmrnum_postmortem_id AS postmortemid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_court_name AS courtname, hpmrstr_court_address AS courtaddress, hpmrstr_judge_name AS judgename, hrgstr_case_no AS caseno, hrgstr_police_station AS policestation, hrgstr_constable_name AS constablename, hrgstr_constable_desig AS constabledesig, hrgstr_constable_badgeno AS constablebadgeno, hpmrstr_emp_name AS empname, HPMRSTR_ASSIGN_TO AS assignto, hpmrnum_assign_same AS assignSame, hpmrstr_other_assign_reason AS otherassignreason, HPMRNUM_ENTRY_MODE AS entrymode, HPMRSTR_ASSIGN_BY AS assignby, hpmrstr_summon_remarks summonremarks, HPMRNUM_STATUS AS status, hpmrstr_visit_remarks AS visitremarks, hpmrdt_nexthearing_datetime AS nexthearingdatetime, hpmrstr_instructions AS instruction, HPMRSTR_PAT_NAME AS patname, HPMRSTR_FATHER_NAME AS fathername, HPMRSTR_SPOUSE_NAME AS spousename, hpmrstr_mother_name AS mothername, DECODE (hpmrnum_pat_gender_code, 1, 'Male', 2, 'Female', 3, 'Other' ) AS patgendercode, ahis_util.dob_age_on (hpmrdt_pat_dob, SYSDATE) AS patdob, hpmrstr_pat_address AS pataddress, hpmrstr_cid_no AS cidno, hpmrnum_is_uplaod AS isupload, a.gnum_isvalid AS isvalid, a.gdt_entry_date AS entrydate, a.gnum_seat_id, gdt_assign_date AS assigndate, gnum_assignseat_id AS assignseatid, gdt_postentry_date AS postentrydate, gnum_postseat_id, a.gnum_hospital_code,b.GNUM_DESIG_CODE as assignToDesigID,(SELECT gstr_desig_name FROM gblt_designation_mst WHERE gnum_desig_code \= b.num_desig_id AND gnum_isvalid \=b.GNUM_ISVALID AND gnum_hospital_code \= b.gnum_hospital_code) as assignEmpDesignation, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a,PIST_EMP_REGISTRATION_DTL b WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.HPMRNUM_STATUS \= ? AND TRUNC (a.hpmrdt_hearing_datetime) >\= TRUNC (SYSDATE) and a.HPMRSTR_ASSIGN_TO\=b.STR_EMP_NO and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID ORDER BY hearingDateTime  
	
ESSENTIAL.USERS_BY_EMPNAME.PIST_EMP_PERSONNEL_DTL = select (a.STR_EMP_FULL_NAME) as empName, a.STR_EMP_NO as empId,a.STR_GENDER_NAME as empGender,ahis_util.dob_age_on (a.DT_BIRTH_DATE, SYSDATE) empAge,decode(a.str_gender_name,'M',1,'F',2,'O',3) as empgendercode, (SELECT Gstr_desig_name FROM gblt_designation_mst WHERE gnum_desig_code \= a.gnum_desig_code AND gnum_isvalid \=1 AND gnum_hospital_code \= a.gnum_hospital_code) empDesignation  from PIST_EMP_REGISTRATION_DTL a where  (a.STR_EMP_FULL_NAME) LIKE ('\#') and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=? 
													
SELECT.ALL.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) ORDER BY hearingDateTime 
									
SELECT.ALL_ATTENDED_SUMMON.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRNUM_STATUS\=? ORDER BY hearingDateTime \t\t
									
SELECT.ALL_NOT_ATTENDED_SUMMON.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRNUM_STATUS\=? ORDER BY hearingDateTime
									
SELECT.ALL_POST_SUMMON_SUMMON.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRNUM_STATUS in (?,?) ORDER BY hearingDateTime\t
									
SELECT.NEXT_HEARING_SUMMON.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRNUM_STATUS in (?,?) and a.HPMRDT_NEXTHEARING_DATETIME is not null ORDER BY hearingDateTime
									
SELECT.EMPLOYEE.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRSTR_ASSIGN_TO\= ? ORDER BY hearingDateTime\t

SELECT.SUMMON_TYPE.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid, hpmrnum_summon_type_id AS summontypeid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime, TO_CHAR (hpmrdt_summon_receive_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime, 'dd-Mon-yyyy hh24\:mi' ) AS hearingdatetime, hpmrstr_emp_name AS empName, HPMRSTR_PAT_NAME AS patname,HPMRNUM_STATUS as status, (select (STR_EMP_FULL_NAME)  from PIST_EMP_REGISTRATION_DTL where STR_EMP_NO\=a.HPMRSTR_ASSIGN_TO and gnum_isvalid \=a.GNUM_ISVALID AND gnum_hospital_code \= a.gnum_hospital_code) as assignEmpName FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME) <\=trunc(to_date(?,'dd-mm-yyyy')) and trunc(a.HPMRDT_SUMMON_RECEIVE_DATETIME)>\=trunc(to_date(?,'dd-mm-yyyy')) and a.HPMRNUM_SUMMON_TYPE_ID\= ? ORDER BY hearingDateTime\t\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t\t\t
									
SELECT.EMPLOYEE.PIST_EMP_PERSONNEL_DTL		=select STR_EMP_NO, STR_EMP_FULL_NAME name from PIST_EMP_REGISTRATION_DTL where GNUM_ISVALID\=? and GNUM_HOSPITAL_CODE\=? order by trim(name)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t

SELECT.PATIENT_BY_MLCNO.HMRT_DECEASED_DTL = select distinct a.HRGNUM_PUK as patCrNo,initcap(b.HRGSTR_FNAME)||' '|| initcap(b.HRGSTR_MNAME)||' '|| initcap(b.HRGSTR_LNAME) as patName,b.GNUM_GENDER_CODE as patGenderCode, b.HRGSTR_FATHER_NAME as fatherName, b.HRGSTR_MOMNAME as motherName, b.HRGSTR_AGE as patAge, b.HRGSTR_SPOUSENAME as spouseName,to_char(b.HRGDT_DOB,'dd-Mon-yyyy') as patDOB, decode(b.GNUM_GENDER_CODE,1,'Male',2,'Female',3,'Other') as patGender,a.HRGSTR_MLC_NO,a.HRGNUM_EPISODE_CODE as episodeCode,a.HRGNUM_VISIT_NO as episodeVisitNo, to_char(a.HRGDT_MLC_DATE,'dd-Mon-yyyy') as mlcDate,a.HRGSTR_MLC_NO as MLCNo, (SELECT x.hmrnum_postmortem_id FROM hmrt_postmortem_req_dtl x,HMRT_POSTMORTEM_DTL y WHERE a.hrgstr_mlc_no \= x.hrgstr_mlc_no AND a.gnum_hospital_code \= x.gnum_hospital_code AND a.gnum_isvalid \= x.gnum_isvalid and x.hmrnum_postmortem_id\=y.hmrnum_postmortem_id AND y.gnum_hospital_code \= x.gnum_hospital_code AND y.gnum_isvalid \= x.gnum_isvalid and y.GDT_VERIFY_DATE\!\=null AND x.hrgnum_srno \= (SELECT MAX (e.hrgnum_srno) FROM hmrt_postmortem_req_dtl e WHERE x.hmrnum_postmortem_id \= e.hmrnum_postmortem_id) AND y.hrgnum_srno \= (SELECT MAX (d.hrgnum_srno) FROM HMRT_POSTMORTEM_DTL d WHERE x.hmrnum_postmortem_id \= d.hmrnum_postmortem_id)  ) AS postmortemid from HRGT_PATIENT_MLC_DTL a,HRGT_PATIENT_DTL b where a.HRGSTR_MLC_NO\=? and a.GNUM_ISVALID\=? and  a.GNUM_HOSPITAL_CODE\=? and a.HRGNUM_PUK \=b.HRGNUM_PUK and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE order by patName


SELECT.PATIENT.HRGT_PATIENT_ADD_DTL = select  b.hrgstr_city AS pataddcity, INITCAP (b.hrgstr_district) AS patadddistrict, b.gnum_state_code AS pataddstatecode, b.hrgnum_pincode AS pataddpin, b.gnum_country_code AS pataddcountrycode, b.hrgstr_house_no AS pataddhno, b.hrgstr_street_no AS pataddstreet,  b.hrgstr_contact_no AS pataddcontactno, b.gnum_city_loc_code AS pataddcityloccode,  (SELECT INITCAP (c.gstr_statename) FROM gblt_state_mst c WHERE c.gnum_statecode \= b.gnum_state_code AND c.gnum_hospital_code \= b.gnum_hospital_code) pataddstate, (SELECT INITCAP (d.gstr_countryname) FROM gblt_country_mst d WHERE d.gnum_countrycode \= b.gnum_country_code AND d.gnum_hospital_code \= b.gnum_hospital_code) pataddcountry, (SELECT INITCAP (e.gstr_city_loc_name) FROM gblt_city_location_mst e WHERE e.gnum_city_loc_code \= b.gnum_city_loc_code  AND e.gnum_hospital_code \= b.gnum_hospital_code) pataddcityloc  FROM HRGT_PATIENT_ADD_DTL B WHERE B.HRGNUM_PUK \= ? AND B.GNUM_ISVALID \= ? AND B.GNUM_ADD_TYPE_CODE \= ? AND b.GNUM_HOSPITAL_CODE \= ? and b.HRGNUM_S_NO\=(select max(x.HRGNUM_S_NO) from HRGT_PATIENT_ADD_DTL x where x.HRGNUM_PUK\=b.HRGNUM_PUK) \t

											
SELECT.PATIENT_BY_POSTMORTEMID.HMRT_DECEASED_DTL = select initcap(HMRSTR_FNAME)||' '||initcap(HMRSTR_MNAME)||' '||initcap(HMRSTR_LNAME) as patName, HMRSTR_FATHER_NAME as fatherName, HMRSTR_SPOUSE_NAME as spouseName,b.HMRNUM_POSTMORTEM_ID as postmortemId, HMRSTR_ADD1||' '|| HMRSTR_ADD2 as patAddress ,HMRSTR_MOTHER_NAME as motherName,HRGNUM_PUK as patCrNo, ahis_util.dob_age_on (a.HMRDT_DOB, SYSDATE) patAge,to_char(a.HMRDT_DOB,'dd-Mon-yyyy') as patDOB,GNUM_GENDER_CODE as patGenderCode,a.HRGNUM_EPISODE_CODE as episodeCode,a.HRGNUM_VISIT_NO as episodeVisitNo, decode(a.GNUM_GENDER_CODE,1,'Male',2,'Female',3,'Other') as patGender,b.HRGSTR_MLC_NO as MLCNo,to_char(b.HMRDT_REQ_DATETIME,'dd-Mon-yyyy hh24\:mi') as postMotemReqDate from HMRT_DECEASED_DTL a,HMRT_POSTMORTEM_REQ_DTL b,HMRT_POSTMORTEM_DTL c  where a.HMRNUM_DECEASED_NO\=b.HMRNUM_DECEASED_NO and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=? and c.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID AND c.gnum_hospital_code \= b.gnum_hospital_code AND c.gnum_isvalid \= b.gnum_isvalid and c.GDT_VERIFY_DATE is not null and b.HMRNUM_POSTMORTEM_ID\=? and b.HRGNUM_SRNO\=(select max(x.HRGNUM_SRNO) from HMRT_POSTMORTEM_REQ_DTL x where x.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID)  AND c.hrgnum_srno \= (SELECT MAX (y.hrgnum_srno) FROM HMRT_POSTMORTEM_DTL y WHERE y.hmrnum_postmortem_id \= c.hmrnum_postmortem_id)\torder by patName\t\t
													
													
SELECT.POSTMORTEM_BY_CRNO.HMRT_DECEASED_DTL  = select initcap(HMRSTR_FNAME)||' '||initcap(HMRSTR_MNAME)||' '|| initcap(HMRSTR_LNAME) as patName, HMRSTR_FATHER_NAME as fatherName, HMRSTR_SPOUSE_NAME as spouseName,b.HMRNUM_POSTMORTEM_ID as postmortemId,  HMRSTR_ADD1||' '|| HMRSTR_ADD2 as patAddress ,HMRSTR_MOTHER_NAME as motherName,HRGNUM_PUK as patCrNo, ahis_util.dob_age_on (a.HMRDT_DOB, SYSDATE) patAge,to_char(a.HMRDT_DOB,'dd-Mon-yyyy') as patDOB,GNUM_GENDER_CODE as patGenderCode,a.HRGNUM_EPISODE_CODE as episodeCode,a.HRGNUM_VISIT_NO as episodeVisitNo,  decode(a.GNUM_GENDER_CODE,1,'Male',2,'Female',3,'Other') as patGender,b.HRGSTR_MLC_NO as MLCNo,to_char(b.HMRDT_REQ_DATETIME,'dd-Mon-yyyy hh24\:mi') as postMotemReqDate  from HMRT_DECEASED_DTL a,HMRT_POSTMORTEM_REQ_DTL b,HMRT_POSTMORTEM_DTL c   where a.HMRNUM_DECEASED_NO\=b.HMRNUM_DECEASED_NO and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_ISVALID\=?  and c.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID AND c.gnum_hospital_code \= b.gnum_hospital_code AND c.gnum_isvalid \= b.gnum_isvalid and c.GDT_VERIFY_DATE is not null and a.HRGNUM_PUK\=? and b.HRGNUM_SRNO\=(select max(x.HRGNUM_SRNO) from HMRT_POSTMORTEM_REQ_DTL x where x.HMRNUM_POSTMORTEM_ID\=b.HMRNUM_POSTMORTEM_ID)\t AND c.hrgnum_srno \= (SELECT MAX (y.hrgnum_srno) FROM HMRT_POSTMORTEM_DTL y WHERE y.hmrnum_postmortem_id \= b.hmrnum_postmortem_id) order by patName\t
												
SELECT.MLC_DTL_BY_CRNO.HMRT_DECEASED_DTL = select distinct a.HRGNUM_PUK as patCrNo,initcap(b.HRGSTR_FNAME)||' '|| initcap(b.HRGSTR_MNAME)||' '|| initcap(b.HRGSTR_LNAME) as patName,b.GNUM_GENDER_CODE as patGenderCode, b.HRGSTR_FATHER_NAME as fatherName, b.HRGSTR_MOMNAME as motherName, b.HRGSTR_AGE as patAge, b.HRGSTR_SPOUSENAME as spouseName,to_char(b.HRGDT_DOB,'dd-Mon-yyyy') as patDOB, decode(b.GNUM_GENDER_CODE,1,'Male',2,'Female',3,'Other') as patGender,a.HRGSTR_MLC_NO,a.HRGNUM_EPISODE_CODE as episodeCode,a.HRGNUM_VISIT_NO as episodeVisitNo, to_char(a.HRGDT_MLC_DATE,'dd-Mon-yyyy') as mlcDate,a.HRGSTR_MLC_NO as MLCNo, (SELECT x.hmrnum_postmortem_id FROM hmrt_postmortem_req_dtl x,HMRT_POSTMORTEM_DTL y WHERE a.hrgstr_mlc_no \= x.hrgstr_mlc_no AND a.gnum_hospital_code \= x.gnum_hospital_code AND a.gnum_isvalid \= x.gnum_isvalid and x.hmrnum_postmortem_id\=y.hmrnum_postmortem_id AND y.gnum_hospital_code \= x.gnum_hospital_code AND y.gnum_isvalid \= x.gnum_isvalid and y.GDT_VERIFY_DATE\!\=null AND x.hrgnum_srno \= (SELECT MAX (e.hrgnum_srno) FROM hmrt_postmortem_req_dtl e WHERE x.hmrnum_postmortem_id \= e.hmrnum_postmortem_id) AND y.hrgnum_srno \= (SELECT MAX (d.hrgnum_srno) FROM HMRT_POSTMORTEM_DTL d WHERE x.hmrnum_postmortem_id \= d.hmrnum_postmortem_id)  ) AS postmortemid from HRGT_PATIENT_MLC_DTL a,HRGT_PATIENT_DTL b where a.HRGNUM_PUK\=? and a.GNUM_ISVALID\=? and  a.GNUM_HOSPITAL_CODE\=? and a.HRGNUM_PUK \=b.HRGNUM_PUK and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE\torder by patName\t
											
SELECT.CIDNO.FTS_DOC_RECEIVING_FORM_TRN = SELECT str_cid_number as CIDNo , TO_CHAR (dt_receiving_date, 'dd-Mon-yyyy') as receivingDate, str_receiving_time as receivingTime, str_doc_subject as typeOfDocument FROM fts_doc_receiving_form_trn a WHERE  num_category_id \= ? and GNUM_HOSPITAL_CODE\=? and gnum_isvalid \= ? and str_cid_number not in (select x.HPMRSTR_CID_NO from HPMRT_SUMMON_DTL x where x.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE and x.gnum_isvalid\=a.gnum_isvalid and x.HPMRSTR_CID_NO is not null)\t\t
											
SELECT.INSURANCE_CIDNO.FTS_DOC_RECEIVING_FORM_TRN = SELECT str_cid_number as CIDNo , TO_CHAR (dt_receiving_date, 'dd-Mon-yyyy') as receivingDate, str_receiving_time as receivingTime, str_doc_subject as typeOfDocument FROM fts_doc_receiving_form_trn a WHERE  num_category_id \= ? and GNUM_HOSPITAL_CODE\=? and gnum_isvalid \= ? and str_cid_number not in (select x.HPMRSTR_CID_NO from HPMRT_INSURANCE_DTL x where x.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE and x.gnum_isvalid\=a.gnum_isvalid and x.HPMRSTR_CID_NO is not null)\t\t\t\t\t\t\t\t\t\t\t\t\t
		
SELECT.ALL_INSURANCE_COMPANY.HTRT_COMPANY_MST = select HTRNUM_COMPANY_ID, HTRSTR_COMPANY_NAME from HTRT_COMPANY_MST where GNUM_HOSPITAL_CODE=? and  GNUM_ISVALID=? and  HTRNUM_COMPANY_TYPE=? 			


ESSENTIAL.GET_CLINICALDEPT_HAVINGUNITS = SELECT GNUM_DEPT_CODE, GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE  GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=? and GNUM_DEPT_CODE in (select a.GNUM_DEPT_CODE from HGBT_UNIT_MST a where a.GNUM_ISVALID\=? AND a.GNUM_HOSPITAL_CODE\=? )  ORDER BY GSTR_DEPT_NAME

#Modified by Shruti shail on 21-Apr-2017								
GET_ALL_EXT_LAB.GBLT_LABORATORY_MST = SELECT GNUM_LAB_CODE, GSTR_LAB_NAME FROM HIVT_LABORATORY_MST WHERE GNUM_ISVALID = ? AND GNUM_HOSPITAL_CODE = ? ORDER BY GSTR_LAB_NAME


#Modified by Shruti shail on 21-Apr-2017
GET_ALL_EXT_LABTEST.GBLT_TEST_MST = SELECT GNUM_TEST_CODE, GSTR_TEST_NAME FROM HIVT_TEST_MST WHERE GNUM_ISVALID = ? ORDER BY GSTR_TEST_NAME
									


GET_ALL_MRD.HPMRT_MRD_MST = SELECT a.HPMRNUM_MRD_CODE, a.HPMRSTR_MRD_NAME FROM HPMRT_MRD_MST a WHERE a.GNUM_HOSPITAL_CODE \= ? AND a.GNUM_ISVALID \= ? AND HMRNUM_SLNO\=(SELECT MAX(b.HMRNUM_SLNO) FROM HPMRT_MRD_MST b WHERE a.HPMRNUM_MRD_CODE\=b.HPMRNUM_MRD_CODE AND b.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND b.GNUM_ISVALID\=a.GNUM_ISVALID) AND A.HPMRNUM_MRD_CODE IN(SELECT C.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING C WHERE C.HPMRNUM_BOUNDING_MODE \= ? AND HPMRNUM_RECORD_TYPE \= ? AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID)


GET_RECORD_TYPE.HPMRT_MRD_RECORDTYPE_MST = select hpmrnum_record_type as recordId,hpmrstr_recordtype_desc as recordType from hpmrt_mrd_recordtype_mst where gnum_hospital_code\=? and gnum_isValid\=?   


GET_SHELF_BASED_ON_RACK.HPMRT_RACK_SHELF_MST = SELECT A.HPMRNUM_RACKSHELF_ID, A.HMPRSTR_SHELF_LABEL FROM HPMRT_RACK_SHELF_MST A WHERE A.HPMRNUM_SHELF_STATUS \= ? AND A.HPMRNUM_RACK_ID \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_RACKSHELF_ID IN (SELECT C.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING C WHERE C.HPMRNUM_BOUNDING_MODE \= ? AND C.HPMRNUM_RECORD_TYPE \= ? AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID)

#added by swati sagar on date:14-may-2019
GET_SHELF_BASED_ON_RACK.HPMRT_RACK_SHELF_MST_ADMCR_NO = SELECT A.HPMRNUM_RACKSHELF_ID, A.HMPRSTR_SHELF_LABEL FROM HPMRT_RACK_SHELF_MST A WHERE A.HPMRNUM_SHELF_STATUS \= ? AND A.HPMRNUM_RACK_ID \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_RACKSHELF_ID IN (SELECT C.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING C WHERE C.HPMRNUM_BOUNDING_MODE \= ?  AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID)


GET_RACK_BASED_ON_MRD.HPMRT_RACK_MST = SELECT A.HPMRNUM_RACK_ID AS rackId, A.HPMRSTR_RACK_NAME AS rackName, NVL((SELECT b.STR_BUILDING_NAME FROM EST_BUILDING_MST b WHERE b.NUM_BUILDING_CODE\=a.NUM_BUILDING_CODE AND b.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND b.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS buildingCode, NVL((SELECT c.STR_BLOCK_NAME FROM EST_BLOCK_MST c WHERE c.NUM_BLOCK_ID\=a.NUM_BLOCK_ID AND c.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND c.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS blockId, NVL((SELECT d.STR_FLOOR_NAME FROM EST_FLOOR_MST d WHERE d.NUM_FLOOR_ID\=a.NUM_FLOOR_ID AND d.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND d.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS floorId, NVL((SELECT e.STR_ROOM_NAME FROM EST_ROOM_MST e WHERE e.NUM_ROOM_ID\=a.NUM_ROOM_ID AND e.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND e.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS roomId FROM HPMRT_RACK_MST A WHERE A.HPMRNUM_RACK_STATUS \= ? AND A.HPMRNUM_MRD_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRNUM_RACK_ID IN (SELECT C.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING C WHERE C.HPMRNUM_BOUNDING_MODE \= ? AND HPMRNUM_RECORD_TYPE \= ? AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID)

#added by swati sagar on date:14-may-2019
GET_RACK_BASED_ON_MRD.HPMRT_RACK_MST_ADMCRNO = SELECT A.HPMRNUM_RACK_ID AS rackId, A.HPMRSTR_RACK_NAME AS rackName, NVL((SELECT b.STR_BUILDING_NAME FROM EST_BUILDING_MST b WHERE b.NUM_BUILDING_CODE\=a.NUM_BUILDING_CODE AND b.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND b.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS buildingCode, NVL((SELECT c.STR_BLOCK_NAME FROM EST_BLOCK_MST c WHERE c.NUM_BLOCK_ID\=a.NUM_BLOCK_ID AND c.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND c.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS blockId, NVL((SELECT d.STR_FLOOR_NAME FROM EST_FLOOR_MST d WHERE d.NUM_FLOOR_ID\=a.NUM_FLOOR_ID AND d.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND d.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS floorId, NVL((SELECT e.STR_ROOM_NAME FROM EST_ROOM_MST e WHERE e.NUM_ROOM_ID\=a.NUM_ROOM_ID AND e.NUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE AND e.GNUM_ISVALID\=a.GNUM_ISVALID),'NA') AS roomId FROM HPMRT_RACK_MST A WHERE  A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \=? AND A.HPMRNUM_RACK_ID IN (SELECT C.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING C WHERE  C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID)


GET_ALL_MRD_USER_BASED.HPMRT_MRD_MST = SELECT a.HPMRNUM_MRD_CODE, a.HPMRSTR_MRD_NAME FROM HPMRT_MRD_MST a WHERE a.GNUM_HOSPITAL_CODE \= ? AND a.GNUM_ISVALID \= ? 

GET_RECORD_TYPE_BASED_ON_MRD.HPMRT_MRD_RECORDTYPE_MST = SELECT A.HPMRNUM_RECORD_TYPE, A.HPMRSTR_RECORDTYPE_DESC FROM HPMRT_MRD_RECORDTYPE_MST A WHERE A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_ISVALID \= ? AND A.HPMRNUM_RECORD_TYPE IN (SELECT B.HPMRNUM_RECORD_TYPE FROM HPMRT_RECORD_BOUNDING B WHERE B.HPMRNUM_BOUNDING_MODE \= ? AND  B.HPMRNUM_BOUNDING_ID \= ? AND B.GNUM_ISVALID \= A.GNUM_ISVALID AND B.GNUM_HOSPITAL_CODE\=? AND B.HPMRNUM_SLNO\=(SELECT MAX(C.HPMRNUM_SLNO) FROM HPMRT_RECORD_BOUNDING C WHERE C.HPMRNUM_BOUNDING_MODE\=B.HPMRNUM_BOUNDING_MODE AND C.HPMRNUM_RECORD_TYPE\=B.HPMRNUM_RECORD_TYPE AND C.HPMRNUM_BOUNDING_ID\=B.HPMRNUM_BOUNDING_ID AND C.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE)) ORDER BY HPMRSTR_RECORDTYPE_DESC


GET_CHECKLIST_BY_RECORDTYPE.HPMRT_RECORD_CHECKLIST_DTL = SELECT DISTINCT(a.HPMRNUM_CHECKLIST_ID),(SELECT b.HPMRSTR_CHECKLIST FROM HPMRT_CHECKLIST_MST b WHERE b.HPMRNUM_CHECKLIST_ID\=a.HPMRNUM_CHECKLIST_ID AND b.GNUM_HOSPITAL_CODE\=? AND b.GNUM_ISVALID\=a.GNUM_ISVALID) AS chk FROM HPMRT_RECORD_TYPE_CHECKLIST a WHERE a.HPMRNUM_RECORD_TYPE\= ? AND a.GNUM_HOSPITAL_CODE \= ? AND a.GNUM_ISVALID \= ? ORDER BY chk



GET_MRD_LIST_BY_RECORD_TYPE.HPMRT_MRD_MST = SELECT a.HPMRNUM_MRD_CODE, a.HPMRSTR_MRD_NAME FROM HPMRT_MRD_MST a WHERE a.GNUM_HOSPITAL_CODE \= ? AND a.GNUM_ISVALID \= ? AND a.HPMRNUM_MRD_CODE IN (SELECT c.HPMRNUM_BOUNDING_ID FROM HPMRT_RECORD_BOUNDING c WHERE c.HPMRNUM_BOUNDING_MODE \= ? AND c.HPMRNUM_RECORD_TYPE\= ? AND c.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE AND  c.GNUM_ISVALID \= a.GNUM_ISVALID) order BY a.HPMRSTR_MRD_NAME


												
																															

SELECT.ADM_DTL_BY_CRNO.HIPT_PATADMISSION_DTL = select a.HIPNUM_ADMNO as patAdmNo, a.HRGNUM_PUK as patCrNo ,to_char(a.HIPDT_ADMDATETIME,'dd-Mon-yyyy') as patAdmissionDate, initcap(b.hrgstr_fname) || ' ' || initcap(b.hrgstr_mname) || ' ' || initcap(b.hrgstr_lname) AS patname, DECODE (b.gnum_gender_code,1, 'Male',2, 'Female',3, 'Other') AS patgender,b.hrgstr_age AS patage , b.hrgstr_father_name AS fathername,b.hrgstr_spousename AS spousename,b.hrgstr_momname AS mothername from HIPT_PATADMISSION_DTL a,HRGT_PATIENT_DTL b where a.GNUM_ISVALID\=? and a.GNUM_HOSPITAL_CODE\=? and a.HRGNUM_PUK\=b.HRGNUM_PUK and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID AND  a.HRGNUM_PUK\=? and a.HIPDT_ADMSTATUS_CODE not in(?,?) ORDER BY patname

SELECT.ADM_DTL_BY_ADMNO.HIPT_PATADMISSION_DTL = select a.HIPNUM_ADMNO as patAdmNo, a.HRGNUM_PUK as patCrNo ,to_char(a.HIPDT_ADMDATETIME,'dd-Mon-yyyy') as patAdmissionDate, initcap(b.hrgstr_fname) || ' ' || initcap(b.hrgstr_mname) || ' ' || initcap(b.hrgstr_lname) AS patname, DECODE (b.gnum_gender_code,1, 'Male',2, 'Female',3, 'Other') AS patgender,b.hrgstr_age AS patage , b.hrgstr_father_name AS fathername,b.hrgstr_spousename AS spousename,b.hrgstr_momname AS mothername from HIPT_PATADMISSION_DTL a,HRGT_PATIENT_DTL b where a.GNUM_ISVALID\=? and a.GNUM_HOSPITAL_CODE\=? and a.HRGNUM_PUK\=b.HRGNUM_PUK and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID AND  a.HIPNUM_ADMNO\=? and a.HIPDT_ADMSTATUS_CODE not in(?,?) ORDER BY patname\t
												
SELECT.POSTMORTEM_BY_ADMNO.HMRT_POSTMORTEM_REQ_DTL = SELECT a.hipnum_admno AS patadmno, a.hrgnum_puk AS patcrno,TO_CHAR (a.hipdt_admdatetime, 'dd-Mon-yyyy') AS patadmissiondate, initcap(b.hrgstr_fname) || ' ' || initcap(b.hrgstr_mname) || ' ' || initcap(b.hrgstr_lname) AS patname, DECODE (b.gnum_gender_code,1, 'Male',2, 'Female',3, 'Other') AS patgender, b.hrgstr_age AS patage, b.hrgstr_father_name AS fathername, b.hrgstr_spousename AS spousename, b.hrgstr_momname AS mothername, c.HMRNUM_POSTMORTEM_ID AS postmortemid, TO_CHAR (c.hmrdt_req_datetime,'dd-Mon-yyyy hh24\:mi') AS postmotemreqdate, d.hmrstr_add1 || ' ' || d.hmrstr_add2 AS pataddress FROM hipt_patadmission_dtl a, hrgt_patient_dtl b,hmrt_postmortem_req_dtl c ,hmrt_deceased_dtl d WHERE a.gnum_isvalid \=? AND a.gnum_hospital_code \= ? AND a.hrgnum_puk \= b.hrgnum_puk AND d.hrgnum_puk \= b.hrgnum_puk AND d.HMRNUM_DECEASED_NO\=c.HMRNUM_DECEASED_NO AND d.gnum_isvalid \= b.gnum_isvalid AND c.gnum_isvalid \= b.gnum_isvalid AND a.gnum_hospital_code \= b.gnum_hospital_code AND c.gnum_hospital_code \= b.gnum_hospital_code AND d.gnum_hospital_code \= c.gnum_hospital_code AND a.gnum_isvalid \= b.gnum_isvalid and c.HMRNUM_POSTMORTEM_STATUS\=? AND a.hipnum_admno \= ? ORDER BY patname

SELECT.MLC_DTL_BY_ADMNO.HRGT_PATIENT_MLC_DTL = select  a.hipnum_admno AS patadmno, a.hrgnum_puk AS patcrno,TO_CHAR (a.hipdt_admdatetime, 'dd-Mon-yyyy') AS patadmissiondate, initcap(b.hrgstr_fname) || ' '|| initcap(b.hrgstr_mname) || ' ' || initcap(b.hrgstr_lname) AS patname, DECODE (b.gnum_gender_code,1, 'Male',2, 'Female',3, 'Other') AS patgender, b.hrgstr_age AS patage, b.hrgstr_father_name AS fathername, b.hrgstr_spousename AS spousename, b.hrgstr_momname AS mothername,TO_CHAR (c.hrgdt_mlc_date, 'dd-Mon-yyyy') AS mlcdate, c.hrgstr_mlc_no AS mlcno from hipt_patadmission_dtl a,hrgt_patient_dtl b,HRGT_PATIENT_MLC_DTL c where a.gnum_isvalid \= ? AND a.gnum_hospital_code \= ? and a.HIPNUM_ADMNO\=? and a.hrgnum_puk \= b.hrgnum_puk and  a.gnum_hospital_code \= b.gnum_hospital_code and a.gnum_isvalid \= b.gnum_isvalid and a.HRGNUM_PUK\=c.HRGNUM_PUK and a.HRGNUM_VISIT_NO\=c.HRGNUM_VISIT_NO  and a.HRGNUM_EPISODE_CODE\=c.HRGNUM_EPISODE_CODE and a.gnum_hospital_code \= c.gnum_hospital_code and a.gnum_isvalid \= c.gnum_isvalid order by patname\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t

SELECT.ASSIGN_SUMMON_DETAIL.HPMRT_SUMMON_DTL = SELECT   hpmrnum_summon_id AS summonid,hpmrnum_summon_type_id AS summontypeid,hrgnum_puk AS patcrno, hrgnum_visit_no AS episodevisitno, hrgstr_mlc_no AS mlcno,hrgnum_admission_no AS patadmno, hpmrnum_certificate_id AS certificateno,hmrnum_deceased_no AS deceasedno,hmrnum_postmortem_id AS postmortemid, TO_CHAR (hpmrdt_summon_datetime, 'dd-Mon-yyyy') AS summondatetime,TO_CHAR (hpmrdt_summon_receive_datetime,'dd-Mon-yyyy hh24\:mi') AS summonreceivedatetime, TO_CHAR (hpmrdt_hearing_datetime,'dd-Mon-yyyy hh24\:mi') AS hearingdatetime,hpmrstr_court_name AS courtname,hpmrstr_court_address AS courtaddress, hpmrstr_judge_name AS judgename, hrgstr_case_no AS caseno,hrgstr_police_station AS policestation,hrgstr_constable_name AS constablename, hrgstr_constable_desig AS constabledesig,hrgstr_constable_badgeno AS constablebadgeno,hpmrnum_entry_mode AS entrymode, hpmrstr_assign_by AS assignby, hpmrstr_summon_remarks summonremarks, hpmrnum_status AS status,hpmrstr_pat_name AS patname,hpmrstr_father_name AS fathername, hpmrstr_spouse_name AS spousename, hpmrstr_mother_name AS mothername,TO_CHAR (a.gdt_assign_date, 'dd-Mon-yyyy hh24\:mi') AS assigndate, (select GSTR_GENDER_NAME from GBLT_GENDER_MST x where x.GSTR_GENDER_CODE\=hpmrnum_pat_gender_code and x.GNUM_ISVALID\=a.GNUM_ISVALID) AS patgendercode, ahis_util.dob_age_on (hpmrdt_pat_dob, SYSDATE) AS patdob,hpmrstr_pat_address AS pataddress, hpmrstr_cid_no AS cidno FROM hpmrt_summon_dtl a WHERE a.gnum_hospital_code \= ? AND a.gnum_isvalid \= ? AND a.hpmrnum_status IN (?, ?) AND TRUNC (a.hpmrdt_hearing_datetime) >\= TRUNC (SYSDATE) AND hpmrstr_assign_to \= ? ORDER BY hpmrnum_status, hearingdatetime

SELECT.INSURANCE_RECEIVED.HPMRT_INSURANCE_DTL = select a.HPMRNUM_INSURANCE_ID as insuranceId, a.HRGNUM_PUK as patCrNo,a.HRGNUM_ADMISSION_NO as patAdmNo, to_char(a.HPMRDT_RECEIVE_DATETIME,'dd-Mon-yyyy hh24\:mi') as receiveDateTime, a.HPMRSTR_REMARKS as remarks, a.HPMRSTR_CID_NO as CIDNo ,HPMRSTR_POLICY_NO as policyNo, (select HTRSTR_COMPANY_NAME from HTRT_COMPANY_MST z where z.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE and z.GNUM_ISVALID\=a.GNUM_ISVALID and a.HTRNUM_COMPANY_ID\=z.HTRNUM_COMPANY_ID) as companyName, initcap(b.hrgstr_fname) || ' ' || initcap(b.hrgstr_mname) || ' ' || initcap(b.hrgstr_lname) AS patName, (select GSTR_GENDER_NAME from GBLT_GENDER_MST x  where x.GNUM_ISVALID\=a.gnum_isvalid  and x.GSTR_GENDER_CODE\=b.GSTR_GENDER_CODE) AS patgender, ahis_util.dob_age_on (b.hrgdt_dob, SYSDATE) patage,to_char(c.HIPDT_DISDATETIME,'dd-Mon-yyyy') as dischargeDate,to_char(c.HIPDT_ADMDATETIME,'dd-Mon-yyyy') as admDate, (SELECT hgstr_unitname FROM hgbt_unit_mst x WHERE c.gnum_deptunit_code \= x.hgnum_deptunitcode AND c.gnum_hospital_code \= x.gnum_hospital_code AND c.gnum_isvalid \= x.gnum_isvalid) AS unitname, (SELECT gstr_dept_name FROM gblt_department_mst y WHERE SUBSTR (c.gnum_deptunit_code, 1, 3) \= y.gnum_dept_code AND c.gnum_hospital_code \= y.gnum_hospital_code AND c.gnum_isvalid \= y.gnum_isvalid) AS deptname from HPMRT_INSURANCE_DTL a,hrgt_patient_dtl b,hipt_patadmission_dtl c where a.GNUM_ISVALID\=? and a.GNUM_HOSPITAL_CODE\=? and a.GNUM_HOSPITAL_CODE\=b.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=b.GNUM_ISVALID and a.HRGNUM_PUK\=b.HRGNUM_PUK and a.GNUM_HOSPITAL_CODE\=c.GNUM_HOSPITAL_CODE and a.GNUM_ISVALID\=c.GNUM_ISVALID and a.HRGNUM_ADMISSION_NO\=c.HIPNUM_ADMNO and a.HPMRNUM_STATUS\=? order by HPMRDT_RECEIVE_DATETIME
												
GET_RECORD_TYPE_BASED_ON_MOVABLE_TYPE.HPMRT_MRD_RECORDTYPE_MST	=SELECT hpmrnum_record_type, hpmrstr_recordtype_desc FROM hpmrt_mrd_recordtype_mst WHERE gnum_hospital_code \= ?  AND gnum_isvalid \= ?  AND hpmrnum_movable_type IN (?, ?) and HPMRNUM_IS_PATIENTCENTRIC\=? order by hpmrstr_recordtype_desc\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 
																	
ESSENTIAL.GET_DISEASE_TYPE = select HGBNUM_DISEASE_TYPE_CODE,initcap(HGBSTR_DISEASE_TYPE_NAME) from HGBT_DISEASE_TYPE_MST where GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=?	order by HGBSTR_DISEASE_TYPE_NAME																

															
// Change in Query By Akash Singh in STR_EMP_FULL_NAME
GET_LOST_RECORD.HPMRT_MRDRECORD_LOSTFOUND_DTL = SELECT B.HRGNUM_PUK AS patCrNo ,A.HPMRNUM_MRD_RECORD_ID AS mrdRecordId, TO_CHAR(A.HPMRDT_LOST_DATETIME,'dd-Mon-yyyy hh24\:mi') AS lostDateTime, A.HPMRNUM_RECORD_ID AS recordId, (SELECT  DISTINCT  C.STR_EMP_FULL_NAME FROM PIST_EMP_REGISTRATION_DTL C WHERE C.STR_EMP_NO \= A.HPMRSTR_REPORTED_BY AND C.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND C.GNUM_ISVALID \= A.GNUM_ISVALID) AS reportedby, HPMRSTR_LOST_AREA AS lostArea, DECODE (a.HPMRNUM_LOST_TYPE, 1, 'Partial', 2, 'Complete') AS lostType, AHIS_UTIL.PUK_AGE_ON (B.HRGNUM_PUK, SYSDATE) AS patAge, (SELECT  INITCAP (D.HRGSTR_FNAME) || '  ' || INITCAP (D.HRGSTR_MNAME) || '  ' || INITCAP (D.HRGSTR_LNAME) FROM HRGT_PATIENT_DTL D WHERE D.HRGNUM_PUK\=B.HRGNUM_PUK ) AS patName, (SELECT GSTR_GENDER_CODE FROM GBLT_GENDER_MST WHERE gstr_gender_code \= (SELECT e.GSTR_GENDER_CODE FROM  HRGT_PATIENT_DTL E WHERE E.HRGNUM_PUK\=B.HRGNUM_PUK)  AND GNUM_ISVALID \= A.GNUM_ISVALID) AS patgender, (SELECT R.HPMRSTR_RECORDTYPE_DESC FROM HPMRT_MRD_RECORDTYPE_MST R WHERE R.HPMRNUM_RECORD_TYPE\=B.HPMRNUM_RECORD_TYPE AND R.GNUM_HOSPITAL_CODE\=?) AS recordTypeLabel,b.HPMRSTR_RECORD_ID as recordDesc, B.HPMRNUM_RECORD_TYPE AS recordType,  b.HPMRNUM_MRD_CODE as mrdCode FROM HPMRT_MRDRECORD_LOSTFOUND_DTL A,  HPMRT_MRD_RECORD_DTL B WHERE  A.HPMRNUM_MRD_RECORD_ID\=B.HPMRNUM_MRD_RECORD_ID AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND  A.GNUM_ISVALID\=B.GNUM_ISVALID AND B.HPMRNUM_RECORD_STATUS \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HPMRDT_FOUND_DATETIME IS NULL ORDER BY A.HPMRDT_LOST_DATETIME 


GET_RECORD_PREVIOUS_LOCATION.HPMRT_MRD_RECORD_DTL = SELECT  (SELECT b.str_building_name FROM EST_BUILDING_MST b WHERE b.num_building_code \= a.num_building_code AND b.gnum_isvalid \= a.gnum_isvalid) ||', '|| (SELECT c.str_block_name FROM EST_BLOCK_MST c WHERE c.num_block_id \= a.num_block_id AND c.num_hospital_code \= a.gnum_hospital_code AND c.gnum_isvalid \= a.gnum_isvalid) ||', '|| (SELECT d.str_floor_name FROM EST_FLOOR_MST d WHERE d.num_floor_id \= a.num_floor_id AND d.num_hospital_code \= a.gnum_hospital_code AND d.gnum_isvalid \= a.gnum_isvalid) ||', '|| (SELECT e.num_room_number FROM EST_ROOM_MST e WHERE e.num_room_id \= a.num_room_id AND e.num_hospital_code \= a.gnum_hospital_code AND e.gnum_isvalid \= a.gnum_isvalid) ||', '|| a.HPMRSTR_RACK_NAME||', '|| (SELECT s.HMPRSTR_SHELF_LABEL FROM HPMRT_RACK_SHELF_MST s WHERE s.HPMRNUM_RACKSHELF_ID\=x.HPMRNUM_SHELF_ID AND s.GNUM_HOSPITAL_CODE\=x.GNUM_HOSPITAL_CODE AND s.GNUM_ISVALID\=x.GNUM_ISVALID)||'@'||x.HPMRNUM_RACK_ID||x.HPMRNUM_SHELF_ID AS recLocation FROM HPMRT_MRD_RECORD_DTL x, HPMRT_RACK_MST a WHERE  x.HPMRNUM_RACK_ID\=a.HPMRNUM_RACK_ID AND X.GNUM_ISVALID\=A.GNUM_ISVALID AND x.HPMRNUM_MRD_RECORD_ID \= ? AND x.GNUM_HOSPITAL_CODE \= ? AND x.GNUM_ISVALID \= ?
														

GET_ALL_CHECKLIST.HPMRT_CHECKLIST_MST = select HPMRNUM_CHECKLIST_ID, HPMRSTR_CHECKLIST from HPMRT_CHECKLIST_MST where GNUM_ISVALID=? and GNUM_HOSPITAL_CODE=?
																																									 

SELECT.FOR_DUPLICATE_DISCHARGE_PRINTING.HIPT_PATADMDISC_DTL	=SELECT HIPNUM_ADMNO PATADMNO, HRGNUM_PUK PATCRNO, HRGNUM_NAME PATNAME,(SELECT GSTR_GENDER_CODE FROM GBLT_GENDER_MST WHERE A.HRGSTR_SEX \= GSTR_GENDER_CODE AND GNUM_ISVALID \= A.GNUM_ISVALID ) || '/'|| HRGNUM_AGE || ''|| HRGSTR_AGEUNIT GENDERAGE,HRGNUM_EPISODE_CODE, HRGNUM_VISIT_NO, GNUM_DEPT_CODE DEPARTMENTCODE, GNUM_DEPTUNIT_CODE DEPARTMENTUNITCODE, HIPNUM_WARD_CODE WARDCODE, TO_CHAR (HIPDT_DISDATETIME, 'dd-Mon-yyyy') DISCHARGEDATE, (SELECT HPMRNUM_PROFILE_ID || '\#'|| HPMRNUM_PROFILE_STATUS FROM HPMRT_PAT_PROFILE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_ADMISSION_NO \= A.HIPNUM_ADMNO AND GNUM_ISVALID \= A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND HPMRNUM_PROFILE_TYPE \= ?) PROFILEID,NVL2((SELECT HRGSTR_MLC_NO FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_EPISODE_CODE \= A.HRGNUM_EPISODE_CODE AND GNUM_ISVALID \= A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND HRGNUM_VISIT_NO \= (SELECT MAX (HRGNUM_VISIT_NO) FROM HRGT_EPISODE_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND HRGNUM_EPISODE_CODE \= A.HRGNUM_EPISODE_CODE AND GNUM_ISVALID \= A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE)),1,0) ISMLC,DECODE ((SELECT HGNUM_PAT_STATUS_CODE FROM HRGT_PATIENT_DTL  WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE), ?, 1,0) ISDEAD,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE\=A.GNUM_DEPT_CODE AND GNUM_ISVALID\=A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE)DEPARTMENT, (SELECT HGSTR_UNITNAME FROM HGBT_UNIT_MST WHERE HGNUM_DEPTUNITCODE\=A.GNUM_DEPTUNIT_CODE AND GNUM_ISVALID\=A.GNUM_ISVALID  AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE)DEPARTMENTUNIT,(SELECT HIPSTR_WARD_NAME FROM HIPT_WARD_MST WHERE HIPNUM_WARD_CODE\=A.HIPNUM_WARD_CODE AND GNUM_ISVALID\=A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE)ward FROM HIPT_PATADMDISC_DTL A WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPDT_DISDATETIME IS NOT NULL AND HRGNUM_PUK \= ? AND HIPNUM_ADMNO IN(SELECT HRGNUM_ADMISSION_NO FROM HIPD_DISCHARGE_PRINT_DTL WHERE GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= A.GNUM_ISVALID) ORDER BY HIPNUM_ADMNO
               													
SELECT.PROFILE_BY_PUK.HPMRT_PAT_PROFILE_DTL	=SELECT HPMRNUM_PROFILE_ID PROFILEID, HPMRSTR_PROFILE_HEADER PROFILEHEADER,HRGNUM_ADMISSION_NO ADMISSIONNO, HPMRNUM_PROFILE_TYPE PROFILETYPE FROM HPMRT_PAT_PROFILE_DTL A WHERE A.HRGNUM_PUK \= ? AND A.HPMRNUM_PROFILE_STATUS \= ?  AND A.GNUM_HOSPITAL_CODE \= ?  and gnum_isvalid\=? ORDER BY HPMRSTR_PROFILE_HEADER
																						               													
               																																																						 
GET_ALL_REQUESTED_RECORD_ID_BY_USER = SELECT HPMRNUM_MRD_RECORD_ID||'$'||a.HPMRNUM_REQ_STATUS FROM HPMRT_MRDRECORD_REQ_DTL a, HPMRT_REQ_RECORD_DTL b WHERE a.HPMRSTR_REQ_BY\= ?  AND  a.HPMRNUM_REQ_ID\=b.HPMRNUM_REQ_ID AND a.GNUM_ISVALID \= ? AND a.GNUM_HOSPITAL_CODE \= ? AND a.HPMRNUM_REQ_STATUS IN (?,?) AND b.HPMRNUM_REQ_STATUS IN (?,?)

	
#modified by NehaRajgariya Date:26July2016																																																			 
GET.PATIENT_ATTENDANT_BY_PUK.HPMRT_PAT_FAMILY_DTL = SELECT A.HPMRNUM_PAT_RELATIVE_ID AS patRelativeId, A.HRGNUM_PUK AS patCrNo, A.HPMRSTR_RELATIVE_NAME AS relativeName, A.GNUM_RELATION_CODE AS relationCode, A.HRGNUM_RELATIVE_PUK AS relativeCrNo, A.HPMRSTR_ADDR1 AS address, A.HPMRSTR_EMAIL AS email, A.HPMRSTR_PHONE AS phoneNo, A.HPMRSTR_MOBILE AS mobileNo, (SELECT GSTR_RELATION_NAME FROM GBLT_RELATION_MST WHERE GNUM_RELATION_CODE\=a.gnum_relation_code  AND  gnum_isvalid \= a.gnum_isvalid ) AS relationName FROM HPMRT_PAT_FAMILY_DTL A WHERE A.HRGNUM_PUK \= ? AND A.GNUM_ISVALID \= ? AND A.GNUM_HOSPITAL_CODE \= ?



SELECT.ALL_DEPT_UNIT.HGBT_UNIT_MST	=SELECT a.hgnum_deptunitcode,(SELECT INITCAP (gstr_dept_name) FROM gblt_department_mst WHERE gnum_isvalid IN (?, ?)  AND gnum_dept_code \= a.gnum_dept_code AND gnum_hospital_code \= a.gnum_hospital_code) || ' (' || INITCAP (a.hgstr_unitname) || ')' AS deptunitname FROM hgbt_unit_mst a WHERE a.gnum_hospital_code \= ?  AND a.gnum_isvalid \= ?  ORDER BY deptunitname

SELECT.ALL.HPMRT_EPR_TAB_MST =	SELECT hpmrnum_epr_tab_id, hpmrstr_tab_name  FROM hpmrt_epr_tab_mst where GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=? order by hpmrstr_tab_name
																																																				 
//----------------------------------------------------------EMR_QUERY----------------------------------------------------------------------------
SELECT.DEPARMENT_UNIT_BY_USER_ROLE.HGBT_UNIT_MST	=SELECT HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE \= A.GNUM_DEPT_CODE AND GNUM_ISVALID \= A.GNUM_ISVALID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE  ) || ' (' || HGSTR_UNITNAME || ')' DEPARTMENTUNIT FROM HGBT_UNIT_MST A WHERE GNUM_ISVALID \= ? AND GNUM_HOSPITAL_CODE \= ?  AND HGNUM_DEPTUNITCODE IN (SELECT GNUM_COLUMN_VALUE FROM GBLT_ROLE_SEAT_TABLE_DTL P, GBLT_METATABLE_COLUMN_MST Q WHERE P.GNUM_METATABLE_ID \= Q.GNUM_METATABLE_ID AND p.GSTR_TABLE_NAME \= 'HGBT_UNIT_MST' AND p.GSTR_COLUMN_NAME \= 'HGNUM_DEPTUNITCODE' AND P.GNUM_SEATID \= PKG_USERMGMT.FUN_GETSEATID (?, A.GNUM_HOSPITAL_CODE)  AND P.GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE) ORDER BY DEPARTMENTUNIT

SELECT.COUNT.HPMRT_EPR_RESTRICTED_CAT = SELECT COUNT (*) FROM hpmrt_epr_restricted_cat where GNUM_PATIENT_CAT_CODE=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=?


SELECT.USER.GBLT_USER_MST	=	SELECT GNUM_USERID, GSTR_USR_NAME  FROM GBLT_USER_MST WHERE GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=? order by GSTR_USR_NAME

SELECT.DESIGNATION_NAME.GBLT_DEPARTMENT_MST 	= SELECT GNUM_DESIG_CODE, GSTR_DESIG_NAME FROM GBLT_DESIGNATION_MST WHERE GNUM_ISVALID=? AND  GNUM_HOSPITAL_CODE=? order by GSTR_DESIG_NAME


SEARCH_STAFF_DETAIL.PIST_EMP_PERSONNEL_DTL = SELECT A.STR_EMP_NO, STR_EMP_FULL_NAME, STR_GENDER_NAME , AHIS_UTIL.DOB_AGE_ON(DT_BIRTH_DATE,SYSDATE)AGE , GSTR_DEPT_NAME FROM NUM_DEPT_ID, (SELECT GSTR_DESIG_NAME FROM GBLT_DESIGNATION_MST WHERE GNUM_DESIG_CODE\=A.GNUM_DESIG_CODE AND GNUM_ISVALID\=?  AND gnum_hospital_code \= c.gnum_hospital_code)NUM_DESIG_ID, (SELECT HGSTR_DESCRIPTION||','||HGSTR_ROOM||','||HGSTR_FLOOR||' floor,'||HGSTR_BUILDING||','||HGSTR_BLOCK  FROM HGBT_LOCATION_MST WHERE HGNUM_LOCATION_CODE\=C.GNUM_LOCATION_CODE AND GNUM_ISVALID\=?  AND gnum_hospital_code \= c.gnum_hospital_code)HGNUM_LOCATION_CODE FROM PIST_EMPREGISTRATION_DTL A, GBLT_DEPARTMENT_MST C WHERE A.GNUM_ISVALID\=? AND A.GNUM_ISVALID\=? AND c.GNUM_ISVALID\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_HOSPITAL_CODE\=? AND A.GNUM_HOSPITAL_CODE\=? AND STR_VALIDATE\='Y' AND A.NUM_DEPT_ID\=C.GNUM_DEPT_CODE 



SEARCH_STAFF_DETAIL.PIST_EMP_PERSONNEL_DTL.ESTATE_MAPPING_REQ_OLD = SELECT   A.STR_EMP_NO, STR_EMP_FULL_NAME,GSTR_GENDER_CODE,AHIS_UTIL.DOB_AGE_ON (DT_BIRTH_DATE, SYSDATE) AGE, GSTR_DEPT_NAME NUM_DEPT_ID,(SELECT GSTR_DESIG_NAME FROM GBLT_DESIGNATION_MST WHERE GNUM_DESIG_CODE \= A.GNUM_DESIG_CODE AND GNUM_ISVALID \= 1 AND gnum_hospital_code \= c.gnum_hospital_code) NUM_DESIG_ID,(SELECT HGSTR_DESCRIPTION || ','|| (SELECT NUM_ROOM_NUMBER FROM EST_ROOM_MST WHERE NUM_BUILDING_CODE\=HGSTR_BUILDING AND NUM_BLOCK_ID\=HGSTR_BLOCK AND NUM_FLOOR_ID\=HGSTR_FLOOR  AND NUM_ROOM_ID\=HGSTR_ROOM AND GNUM_ISVALID\=? AND NUM_HOSPITAL_CODE\=?) || ','|| (SELECT STR_FLOOR_NAME FROM EST_FLOOR_MST WHERE NUM_BUILDING_CODE \= HGSTR_BUILDING AND NUM_BLOCK_ID \= HGSTR_BLOCK AND NUM_FLOOR_ID \= HGSTR_FLOOR AND GNUM_ISVALID\=? AND NUM_HOSPITAL_CODE\=? AND gdt_effective_frm <\= TRUNC (SYSDATE) AND NVL (gdt_effective_to, SYSDATE + 1) >\= TRUNC (SYSDATE))|| ' floor ,' || (SELECT STR_BLOCK_NAME FROM EST_BLOCK_MST WHERE NUM_BUILDING_CODE \= HGSTR_BUILDING AND NUM_BLOCK_ID \= HGSTR_BLOCK AND GNUM_ISVALID\=? AND NUM_HOSPITAL_CODE\=? AND gdt_effective_frm <\= TRUNC (SYSDATE) AND NVL (gdt_effective_to, SYSDATE + 1) >\= TRUNC (SYSDATE))|| ','|| (SELECT STR_BUILDING_NAME FROM EST_BUILDING_MST WHERE NUM_BUILDING_CODE \=  HGSTR_BUILDING AND GNUM_ISVALID\=? AND gNUM_HOSPITAL_CODE\=?)  FROM HGBT_LOCATION_MST WHERE HGNUM_LOCATION_CODE \= C.GNUM_LOCATION_CODE AND GNUM_ISVALID \= ?  AND gnum_hospital_code \= c.gnum_hospital_code) HGNUM_LOCATION_CODE FROM PIST_EMP_REGISTRATION_DTL A, GBLT_DEPARTMENT_MST C WHERE A.GNUM_ISVALID \= ? AND A.GNUM_ISVALID \= ? AND C.GNUM_ISVALID \= ?  AND A.GNUM_HOSPITAL_CODE \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND c.GNUM_HOSPITAL_CODE \= ? AND STR_VALIDATE \= 'Y' AND A.NUM_DEPT_ID \= C.GNUM_DEPT_CODE  
SEARCH_STAFF_DETAIL.PIST_EMP_PERSONNEL_DTL.ESTATE_MAPPING_REQ = SELECT   a.str_emp_no, str_emp_full_name,gstr_gender_code,ahis_util.dob_age_on (dt_birth_date, SYSDATE) age,(SELECT gstr_desig_name FROM gblt_designation_mst WHERE gnum_desig_code \= a.gnum_desig_code AND gnum_isvalid \= 1 AND gnum_hospital_code \= a.gnum_hospital_code) gnum_desig_code, string_agg((SELECT string_agg((INITCAP (e.gstr_dept_name)|| '(' || f.hgstr_unitname||')'),',') FROM gblt_department_mst e,hgbt_unit_mst f WHERE  e.gnum_hospital_code\=a.gnum_hospital_code and f.gnum_hospital_code\=a.gnum_hospital_code and e.gnum_isvalid\=1 and f.gnum_isvalid\=1 and e.gnum_dept_code\=SUBSTR(b.hgnum_deptunitcode,0,3)and f.hgnum_deptunitcode\=b.hgnum_deptunitcode AND  b.hgnum_hierarchy_level IN(1,2,3,4,5) and b.hgstr_emp_code\=a.str_emp_no),',') gnum_dept_code FROM pist_emp_registration_dtl a,hgbt_unit_consultant_mst b  WHERE a.gnum_isvalid \=? AND a.gnum_hospital_code \= ? 
ESSENTIAL.ALL_CONSULTANT.HGBT_UNIT_CONSULTANT_MST=select  distinct hucm.HGSTR_EMP_CODE, nvl((SELECT   str_emp_full_name ||'('|| (select GHM.GSTR_HOSPITAL_NAME  from gblt_hospital_mst ghm  where ghm.GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE and gnum_hospital_code\=a.gnum_hospital_code ) FROM PIST_EMP_RESISTRATION_DTL a WHERE a.gnum_isvalid \= 1 AND a.GNUM_HOSPITAL_CODE\=hucm.GNUM_HOSPITAL_CODE AND a.str_emp_no \= HGSTR_EMP_CODE),' ') AS employeefullname from  HGBT_UNIT_CONSULTANT_MST hucm where \t? like '%'||hucm.gnum_hospital_code||'%'\t\t\t\t\t\t\t\t\t\t\t\t



ESSENTIAL.HIPT_DUWRBED_MST.WARD	=SELECT  DISTINCT HIPNUM_WARD_CODE,nvl(Ipd_Mst.getWardName(HIPNUM_WARD_CODE,GNUM_HOSPITAL_CODE),'/') AS WARD_NAME FROM \tHIPT_DUWRBED_MST WHERE \tGNUM_ISVALID \= 1 AND \tGNUM_HOSPITAL_CODE \= ? AND \tGDT_EFFECTIVE_FRM <\= SYSDATE AND  GNUM_DEPT_CODE like ? AND \tHGNUM_DEPTUNITCODE like ? ORDER  BY WARD_NAME
    								 
ESSENTIAL.HIPT_DUWRBED_MST.ROOM =SELECT \tDISTINCT HIPNUM_ROOM_NO,Ipd_Mst.getRoomName(HIPNUM_ROOM_NO,GNUM_HOSPITAL_CODE) AS ROOM_NAME FROM \tHIPT_DUWRBED_MST WHERE \tGNUM_ISVALID \= 1 AND \tGNUM_HOSPITAL_CODE \= ? AND \tGDT_EFFECTIVE_FRM <\= SYSDATE AND \tHGNUM_DEPTUNITCODE like  ? AND \tHIPNUM_WARD_CODE like ? ORDER \tBY ROOM_NAME    
    								 
    								 
ESSENTIAL.GBLT_LABORATORY_MST.LABORATORY =SELECT glm.gnum_lab_code,glm.gstr_lab_name  FROM gblt_laboratory_mst glm WHERE glm.gnum_dept_code LIKE ? AND trunc(glm.gdt_effective_frm) <\= trunc(SYSDATE) AND trunc(NVL (glm.gdt_effective_to, SYSDATE)) >\= trunc(SYSDATE) AND glm.gbl_isvalid \= 1 AND glm.gnum_hospital_code like ? ORDER BY 1         
										
GET.ESTIMATE_TARIFF_DTL_HBLT_TARIFF_MST= SELECT hblnum_tariff_id as tariffId, hblstr_tariff_name as tariffName FROM hblt_tariff_mst where hblnum_tariff_id in(SELECT hblnum_tariff_id FROM hpmrt_unit_estimate_map_mst where hgnum_deptunitcode\=? AND gnum_isvalid\=? and gnum_hospital_code\=? and hgnum_isdefault\=1) and  gnum_isvalid\=?; \t\t\t\t\t\t\t\t\t

GET_EMP_LIST.PIST_EMP_REGISTRATION_DTL= SELECT a.STR_EMP_NO AS empno,a.str_emp_full_name FROM pist_emp_registration_dtl a WHERE  a.gnum_hospital_code =? and a.gnum_desig_code in (select NUM_DESIG_ID from HGBT_DOCTOR_DESIG_MAPPING where HGNUM_PROCESS_TYPE=? and gnum_hospital_code =? and GNUM_ISVALID=?  ) order by a.str_emp_full_name

#GET.ESTIMATE_TARIFF_DTL_HPMRT_TARIFF_MST= SELECT hblnum_tariff_id as tariffId, hblstr_tariff_name as tariffName FROM hblt_tariff_mst where hblnum_tariff_id in(SELECT hblnum_tariff_id FROM hpmrt_unit_estimate_map_mst where hgnum_deptunitcode=? AND gnum_isvalid=? and gnum_hospital_code=? and hgnum_isdefault=1 ) \
#										and  gnum_isvalid=? and gnum_hospital_code=?; 	
										
								
GET.ESTIMATE_TARIFF_DTL_HPMRT_TARIFF_MST= SELECT hblnum_tariff_id as tariffId, hblstr_tariff_name as tariffName FROM hblt_tariff_mst where hblnum_tariff_id in(SELECT hblnum_tariff_id FROM hpmrt_unit_estimate_map_mst where hgnum_deptunitcode\=? AND gnum_isvalid\=? and gnum_hospital_code\=?) and  gnum_isvalid\=? and gnum_hospital_code\=?; \t
										
										
	# ---addedBY_ManishaGangwar_date_27_May_16---------		
										
GET.TARIFF_LIST_HPMRT_TARIFF_MST= SELECT HBLNUM_TARIFF_ID AS tariffId,BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE) AS tariffName FROM HBLT_TARIFF_MST WHERE HBLNUM_GROUP_ID NOT IN (101,102,106,107,108) AND  hblnum_tariff_id NOT in(SELECT hblnum_tariff_id FROM hpmrt_unit_estimate_map_mst where hgnum_deptunitcode\=? AND gnum_isvalid\=? and gnum_hospital_code\=? ) AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? order by  tariffName

	# ---addedBY_ManishaGangwar_UnitWise_Estimate_Procedure_Master_date_09_Nov_15---------		
	
ESSENTIAL.ALL_CLINICAL_DEPT.GBLT_DEPARTMENT_MST = SELECT GNUM_DEPT_CODE, INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE  GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=? AND GNUM_DEPT_TYPE= ? ORDER BY INITCAP(GSTR_DEPT_NAME)
	
SELECT.ALL_UNIT.HGBT_UNIT_MST = SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_DEPT_CODE=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=1 )||'('|| HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=? ORDER BY UNIT
	
#old
#SELECT_PROCEDURE_UNIT_LIST.HPMRT_PROCEDURE_MST  =    SELECT hblnum_tariff_id as tariffId, INITCAP(hblstr_tariff_name) as tariffName FROM hblt_tariff_mst WHERE GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE = ? AND hblnum_is_estimation=1 ORDER BY hblstr_tariff_name


#modified on 31.5.2016
SELECT_PROCEDURE_UNIT_LIST.HPMRT_PROCEDURE_MST  = SELECT HBLNUM_TARIFF_ID AS tariffId,BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE) AS tariffName FROM HBLT_TARIFF_MST WHERE HBLNUM_GROUP_ID NOT IN (101,102,106,107,108) AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? order by  tariffName
SELECT.ALL.UNIT.NOT.IN.HPMRT_PROCEDURE_UNIT_MAPPING  =  SELECT A.HGNUM_DEPTUNITCODE,(SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST B WHERE B.GNUM_DEPT_CODE=SUBSTR(A.HGNUM_DEPTUNITCODE,1,3) AND B.GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=1 )||'('|| A.HGSTR_UNITNAME ||')' AS UNIT FROM HGBT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE=? AND A.GNUM_ISVALID=? AND A.HGNUM_DEPTUNITCODE NOT IN (SELECT HGNUM_DEPTUNITCODE FROM hpmrt_unit_estimate_map_mst C WHERE C.GNUM_HOSPITAL_CODE=? AND C.GNUM_ISVALID=?) ORDER BY UNIT					
	
	
#ESSENTIAL.HPMRT_PROCEDURE_UNIT_MAPPING       =         SELECT hblnum_tariff_id as tariffId, HGNUM_DEPTUNITCODE as deptUnitCode, HGNUM_ISDEFAULT as isDefault, (SELECT hblstr_tariff_name FROM hblt_tariff_mst X WHERE  X.hblnum_tariff_id=a.hblnum_tariff_id AND X.gnum_isvalid = a.gnum_isvalid AND X.hblnum_is_estimation=1 \
#													 AND  X.gnum_hospital_code = ?) as procedureListDesc \
#												    FROM hpmrt_unit_estimate_map_mst a \
#													WHERE  hgnum_deptunitcode =?  AND a.gnum_hospital_code =?   AND a.gnum_isvalid =?	
								


ESSENTIAL.HPMRT_PROCEDURE_UNIT_MAPPING       = SELECT hblnum_tariff_id as tariffId, HGNUM_DEPTUNITCODE as deptUnitCode, HGNUM_ISDEFAULT as isDefault, (SELECT hblstr_tariff_name FROM hblt_tariff_mst X WHERE  X.hblnum_tariff_id\=a.hblnum_tariff_id AND X.gnum_isvalid \= a.gnum_isvalid  AND  X.gnum_hospital_code \= ?) as procedureListDesc FROM hpmrt_unit_estimate_map_mst a WHERE  hgnum_deptunitcode \=?  AND a.gnum_hospital_code \=?   AND a.gnum_isvalid \=?\t
								

 #added by manisha gangwar date: 10.07.2017  new process MRDDocumentUpload
#Commented by Dheeraj
#SELECT.MRD_RECORDS_DETAIL_BY_CRNO.HPMRT_MRD_RECORD_DTL= SELECT (SELECT HRGSTR_FNAME||' '||HRGSTR_MNAME||' '||HRGSTR_LNAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= 1) as patName, hpmrnum_record_id as recordId,nvl(DECODE (HPMRNUM_RECORD_TYPE,11,'Medical Certificate',12,'Fitness Certificate',13,'General Case Sheet',14,'MLC Case Sheet',15,'OPD FILE'),'-') AS recordTypeName, HPMRNUM_RECORD_TYPE as recordType, hpmrnum_record_status as recordStatus,  decode(hpmrnum_is_scanned,1,'Uploaded','Upload') as isScanned, gdt_entry_date as entryDate,  hrgnum_admission_no as admissionNo,  hpmrnum_issue_flag\tas issueFlag FROM HPMRT_MRD_RECORD_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=?  ORDER BY TO_DATE(gdt_entry_date,'dd-Mon-yyyy hh24\:mi') DESC

#Added by Dheeraj to select PatientCrNo for MRD Uploaded Document View
SELECT.MRD_RECORDS_DETAIL_BY_CRNO.HPMRT_MRD_RECORD_DTL= SELECT (SELECT HRGSTR_FNAME||' '||HRGSTR_MNAME||' '||HRGSTR_LNAME FROM HRGT_PATIENT_DTL WHERE HRGNUM_PUK \= A.HRGNUM_PUK AND GNUM_ISVALID \= 1) as patName, hpmrnum_record_id as recordId,nvl(DECODE (HPMRNUM_RECORD_TYPE,11,'Medical Certificate',12,'Fitness Certificate',13,'General Case Sheet',14,'MLC Case Sheet',15,'OPD FILE'),'-') AS recordTypeName, HPMRNUM_RECORD_TYPE as recordType, hpmrnum_record_status as recordStatus,  decode(hpmrnum_is_scanned,1,'Uploaded','Upload') as isScanned, gdt_entry_date as entryDate,  hrgnum_admission_no as admissionNo, hrgnum_puk as patCrNo,  hpmrnum_issue_flag\tas issueFlag FROM HPMRT_MRD_RECORD_DTL a WHERE hrgnum_puk \= ? and GNUM_ISVALID\=?  ORDER BY TO_DATE(gdt_entry_date,'dd-Mon-yyyy hh24\:mi') DESC

#Added by Dheeraj to access UNIT for CaseSheetReady
SELECT.DEPT_UNIT_FOR_CASESHEET.HGBT_UNIT_MST = SELECT a.hgnum_deptunitcode,(SELECT INITCAP (gstr_dept_name) FROM gblt_department_mst WHERE  gnum_isvalid IN (?) AND gnum_dept_code = a.gnum_dept_code AND gnum_hospital_code = a.gnum_hospital_code)|| ' ('|| INITCAP (a.hgstr_unitname)|| ')' AS deptunitname FROM hgbt_unit_mst a WHERE a.gnum_hospital_code = ? AND a.gnum_isvalid = ?  AND a.hgnum_deptunitcode IN (SELECT hgnum_deptunitcode FROM hipt_duwrbed_mst c WHERE c.gnum_hospital_code = a.gnum_hospital_code AND gnum_isvalid = 1) ORDER BY deptunitname	

#Added by Vasu on 07.March.2019 to get previous ICD Codes for ICD Indexing
SELECT.PREVIOUS_ICD_DIAGNOSIS_RECORDS.HPMRT_PAT_DIAGNOSIS_DTL = SELECT hrgstr_disease_name as diagnosisName, hrgstr_disease_code as icdCodeList from hpmrt_pat_diagnosis_dtl where hipnum_admno \= ? AND gnum_isvalid \= 1 \t
 
#Added by Vasu on 07.March.2019 to remove previous ICD Records
UPDATE.PREVIOUS_ICD_DIAGNOSIS_RECORD.HPMRT_PAT_DIAGNOSIS_DTL = UPDATE hpmrt_pat_diagnosis_dtl SET gnum_isvalid \= 0 where hipnum_admno  \= ? AND hrgstr_disease_code \= ? \t\t\t
 
#End MRDDocumentUpload								

								

													
													
							
																						
														 																			