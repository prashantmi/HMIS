#Generic Dossier Master Page Queries (Added By Timsi Kataria)
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#Dossier Master ComboQuery
------------------------------------------------------------------------
select.dossierService.departmentName.0		=	SELECT DISTINCT GNUM_DEPT_CODE , GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 AND GNUM_DEPT_TYPE\=1 ORDER BY GSTR_DEPT_NAME
select.dossierService.dossierServiceType.0		= SELECT HNUM_SERVICETYPE_ID , HSTR_SERVICE_TYPE FROM SGDT_SERVICETYPE_MST WHERE GNUM_ISVALID=1
select.dossierServiceName.modify.0			=SELECT HSTR_SERVICE_TYPE FROM SGDT_SERVICETYPE_MST WHERE GNUM_ISVALID\=1 AND HNUM_SERVICETYPE_ID\=?

delete.dossier.0							= UPDATE HGDT_DOSSIER_MST SET GNUM_ISVALID\=0 , GNUM_SEAT_ID\=?
delete.dossier.cond.0						=  , GNUM_HOSPITAL_CODE\=?
delete.dossier.cond.1						= HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=?

delete.dossier.1							=UPDATE HGDT_DOSSIER_ITEM_MST SET GNUM_ISVALID\=0, GNUM_SEAT_ID\=? WHERE 
delete.dossier.cond.11						=GNUM_HOSPITAL_CODE\=?
delete.dossier.cond.12						=HNUM_DOSSIER_ID\=? OR 1\=?

delete.dossier.2							=UPDATE HGDT_DOSSIER_DEPARTMENT_MST SET GNUM_ISVALID\=0 ,GNUM_SEAT_ID\=?   
delete.dossier.cond.21						=   WHERE GNUM_HOSPITAL_CODE\=?
delete.dossier.cond.22						= HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=?




select.dossierService.serviceTypeName.0			= SELECT DISTINCT HNUM_DOSSIER_ID||'@'||HNUM_SERVICETYPE_ID||'^'||UPPER(HSTR_DOSSIER_NAME)||'^'||nvl(hstr_dossier_short_name ,'NA') ||'^'|| UPPER(dossier_mst.get_service_type(HNUM_SERVICETYPE_ID,?)||'^'||TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy')) as data  FROM HGDT_DOSSIER_MST WHERE GNUM_HOSPITAL_CODE\=?
select.dossierServiceTypeName.1				=	select dossier_mst.get_service_type(?,?)
select.dossierService.cond.0				=	GNUM_ISVALID=?
select.dossierService.cond.1				=	HNUM_SERVICETYPE_ID\=?
select.dossierService.cond.2				=	GNUM_DEPT_CODE\=?
select.dossier.1							=	SELECT HSTR_SERVICE_TYPE FROM SGDT_SERVICETYPE_MST WHERE HNUM_SERVICETYPE_ID\=? AND GNUM_ISVALID\=1
select.dossierDepartment.1					=SELECT GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_CODE\=?
select.dossierDepartment.11					=SELECT GNUM_DEPT_CODE, GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=1 ORDER BY GSTR_DEPT_NAME

select.DeptLeftListAdd.10					=SELECT DISTINCT GNUM_DEPT_CODE,INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=1 ORDER BY GSTR_DEPT_NAME
select.DeptRightListAdd.10					=SELECT DISTINCT GNUM_DEPT_CODE,INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST A WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=1 AND NOT EXISTS(SELECT 'X' FROM GBLT_DEPARTMENT_MST) ORDER BY GSTR_DEPT_NAME

select.OTNameLeft.10						=select gnum_dept_code||'^'||gdom.hotnum_operation_code, initcap(gom.hotstr_operation_name) || '[ ' || dossier_mst.get_department_name(gnum_dept_code ,gdom.gnum_hospital_code ) || ']' from hott_dept_operation_mst gdom, hott_operation_mst gom where gdom.hotnum_operation_code \= gom.hotnum_operation_code and gdom.gnum_isvalid\=1 and gom.gnum_isvalid \= 1  and gom.gnum_hospital_code\=100  and gdom.gnum_hospital_code \= ? order by 2 
select.LabNameLeft.10						=Select gnum_labcode||'^'||gnum_test_code, (Select gstr_test_name from hivt_test_mst a where gnum_isvalid\=1 and a.gnum_test_code \= b.gnum_test_code ) ||'[ '|| (Select gstr_lab_name from hivt_laboratory_mst c  where gnum_isvalid\=1 and c.gnum_lab_code\=b.gnum_labcode and c.gnum_hospital_code\=b.gnum_hospital_code) || ']' from hivt_laboratory_test_mst b where gnum_isvalid \=1 and  gnum_hospital_code\=? and gnum_isdossier_req\=1
select.serviceleft.10						=SELECT  HSRNUM_SERVICE_AREA_CODE || '^' ||A.HSRNUM_PROCEDURE_CODE, Initcap(B.HSRSTR_PROCEDURE_NAME) || '[' || dossier_mst.getServiceAreaName1(hsrnum_service_area_code\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric ) || ']' FROM HSRV_SERVICEAREA_PROCEDURE_MST A  , HSRV_PROCEDURE_MST B WHERE A.GNUM_ISVALID\=1 AND A.GNUM_HOSPITAL_CODE \=? and B.HSRNUM_PROCEDURE_CODE\=A.HSRNUM_PROCEDURE_CODE and B.GNUM_ISVALID\=1 ORDER BY 2

select.opName_update.10						= SELECT DISTINCT GNUM_DEPT_CODE || '^' || GNUM_SERVICE_ID, dossier_mSt.getopreationName(GNUM_SERVICE_ID ,GNUM_HOSPITAL_CODE ,HNUM_SERVICETYPE_ID ) || '[ '|| dossier_mst.getServiceAreaName(GNUM_DEPT_CODE,? ,HNUM_SERVICETYPE_ID) || ']' AS GSTR_DEPT_NAME FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE HNUM_DOSSIER_ID \=? AND HNUM_SERVICETYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=? ORDER BY GSTR_DEPT_NAME
select.opName.leftSide						=select gnum_dept_code||'^'||gdom.hotnum_operation_code, initcap(gom.hotstr_operation_name) || '[ ' || dossier_mst.get_department_name(gnum_dept_code ,gdom.gnum_hospital_code ) || ']' from hott_dept_operation_mst gdom, hott_operation_mst gom where gdom.hotnum_operation_code \= gom.hotnum_operation_code and gdom.gnum_isvalid\=1  and gom.gnum_isvalid \= 1  and gom.gnum_hospital_code\=100  and gdom.gnum_hospital_code  \= ? and gdom.hotnum_operation_code not in  ( SELECT GNUM_service_id FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ?  AND HNUM_DOSSIER_ID \=? AND HNUM_SERVICETYPE_ID \=? ) order by 2
select.testName.leftside					=Select gnum_labcode||'^'||gnum_test_code, (Select gstr_test_name from hivt_test_mst a where gnum_isvalid\=1 and a.gnum_test_code \= b.gnum_test_code ) ||'[ '||  (Select gstr_lab_name from hivt_laboratory_mst c  where gnum_isvalid\=1 and c.gnum_lab_code\=b.gnum_labcode and c.gnum_hospital_code\=b.gnum_hospital_code) || ']'  from hivt_laboratory_test_mst b where gnum_isvalid \=1 and  gnum_hospital_code \=? and gnum_isdossier_req\=1 AND  gnum_test_code NOT IN (SELECT GNUM_service_id FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \=?  AND HNUM_DOSSIER_ID \=? AND HNUM_SERVICETYPE_ID \=?  )
select.serviceName.leftSide					=SELECT A.HSRNUM_PROCEDURE_CODE || '^' || HSRNUM_SERVICE_AREA_CODE, Initcap(B.HSRSTR_PROCEDURE_NAME) || '[' || dossier_mst.getServiceAreaName1(hsrnum_service_area_code\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric ) || ']' FROM HSRV_SERVICEAREA_PROCEDURE_MST A  , HSRV_PROCEDURE_MST B WHERE A.GNUM_ISVALID\=1 AND A.GNUM_HOSPITAL_CODE \=? and B.HSRNUM_PROCEDURE_CODE\=A.HSRNUM_PROCEDURE_CODE and B.GNUM_ISVALID\=1 AND HSRNUM_SERVICE_AREA_CODE NOT IN (  SELECT GNUM_service_id FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ?  AND HNUM_DOSSIER_ID \=? AND HNUM_SERVICETYPE_ID \=?  )  ORDER BY 2

select.dossierDepartment.id.0				=SELECT GNUM_DEPT_CODE FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND UPPER(GSTR_DEPT_NAME)\=UPPER(?)
select.dossier.department.1					=SELECT GNUM_DEPT_CODE, GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=? AND GNUM_ISVALID\=1 AND GNUM_DEPT_TYPE\=1 AND GNUM_DEPT_CODE\=? ORDER BY GSTR_DEPT_NAME  
select.dossier.department.11				=SELECT GNUM_DEPT_CODE, GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=1 ORDER BY GSTR_DEPT_NAME

select.dossierDepartmentName.RightSelectedList.0=SELECT DISTINCT GNUM_DEPT_CODE, dossier_mst.get_department_name(GNUM_DEPT_CODE,?) AS GSTR_DEPT_NAME FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? ORDER BY GSTR_DEPT_NAME
select.dossierDepartmentName.LeftSelectedList.0=SELECT DISTINCT GNUM_DEPT_CODE, INITCAP(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_DEPT_TYPE\=1 AND GNUM_DEPT_CODE NOT IN ( SELECT GNUM_DEPT_CODE FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=? ) ORDER BY GSTR_DEPT_NAME

select.dossier.id.0							=	SELECT nvl(MAX(HNUM_DOSSIER_ID)+1 ,1000) FROM HGDT_DOSSIER_MST
select.dossier.slno.0							=	SELECT nvl(MAX(HNUM_SLNO)+1 ,1) FROM HGDT_DOSSIER_MST

insert.dossier.0							=INSERT INTO HGDT_DOSSIER_MST (HNUM_DOSSIER_ID,GNUM_HOSPITAL_CODE,HNUM_SERVICETYPE_ID, HSTR_DOSSIER_NAME,HSTR_DOSSIER_DESC, HNUM_DOSSIER_TYPE, GNUM_SERVICE_ID,HSTR_SERVICE_NAME,HNUM_BILLING_MODE,HNUM_ITEM_ISSUE_MODE, GDT_ENTRY_DATE,GNUM_SEAT_ID,GNUM_ISVALID,HNUM_SLNO , hstr_dossier_short_name)VALUES(?,?,?,?,?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,?,? , ?)
insert.dossier.dept.mst.0					=INSERT INTO hgdt_dossier_department_mst(hnum_dossier_id, gnum_hospital_code, hnum_servicetype_id, gnum_dept_code, gnum_service_id, gdt_entry_date, gnum_seat_id, gnum_isvalid, hnum_slno) VALUES (?, ?, ?, ?, ?, TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'), ?, ? ,?)
select.dossier.dept.mst.slno.0				=	SELECT nvl(MAX(HNUM_SLNO)+1 ,1) FROM HGDT_DOSSIER_DEPARTMENT_MST

select.dossier.6							=SELECT TRIM(HSTR_DOSSIER_NAME), nvl(TRIM(HSTR_DOSSIER_DESC),'') , nvl(hstr_dossier_short_name,'') FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=? AND HNUM_SERVICETYPE_ID\=?
select.dossier.totalCost.0					=SELECT HNUM_DOSSIER_PRICE FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=? AND GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND HNUM_SERVICETYPE_ID\=?
update.dossier.0							=UPDATE HGDT_DOSSIER_MST SET HSTR_DOSSIER_NAME\=? , HSTR_DOSSIER_DESC\=? , GNUM_DEPT_CODE\=? , HNUM_BILLING_MODE\=? , GNUM_ISVALID\=? , GNUM_HOSPITAL_CODE\=? , GNUM_SEAT_ID\=? , GDT_ENTRY_DATE\=SYSDATE WHERE HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=?
update.dossier.10							=UPDATE HGDT_DOSSIER_MST SET GNUM_ISVALID\=0, GNUM_HOSPITAL_CODE\=? , GNUM_SEAT_ID\=?  WHERE HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=?
update.dossier.dept.mst.10					=UPDATE HGDT_DOSSIER_DEPARTMENT_MST SET GNUM_ISVALID\=0 WHERE HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=?
insert.dossier.1							=INSERT INTO HGDT_DOSSIER_MST (HNUM_DOSSIER_ID,GNUM_HOSPITAL_CODE,HNUM_SERVICETYPE_ID, HSTR_DOSSIER_NAME,HSTR_DOSSIER_DESC, HNUM_DOSSIER_TYPE, GNUM_SERVICE_ID,HSTR_SERVICE_NAME,HNUM_BILLING_MODE,HNUM_ITEM_ISSUE_MODE, GDT_ENTRY_DATE,GNUM_SEAT_ID,GNUM_ISVALID,HNUM_DOSSIER_PRICE,HNUM_SLNO , hstr_dossier_short_name)VALUES (?,?,?,?,?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,?,?,? ,?)


update.dossierItem.10						=UPDATE HGDT_DOSSIER_ITEM_MST SET GNUM_ISVALID\=?, GNUM_SEAT_ID\=? WHERE GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=? AND GNUM_ISVALID\=?
update.dossierItem.11						=UPDATE HGDT_DOSSIER_ITEM_MST SET HNUM_DOSSIER_ID\=?, GNUM_SEAT_ID\=? WHERE GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=?

select.dossier.9							=SELECT COUNT(*) FROM HGDT_DOSSIER_MST WHERE UPPER(HSTR_DOSSIER_NAME)\=UPPER(TRIM(?)) AND  GNUM_HOSPITAL_CODE\=?  AND HNUM_SERVICETYPE_ID\=?  AND GNUM_ISVALID\=1
 


select.dossier.10							=SELECT COUNT(*) FROM HGDT_DOSSIER_MST WHERE GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=? AND GNUM_ISVALID\=1
select.dossier.view.0						=SELECT DISTINCT dossier_mst.get_dossier_name(?,?) AS HSTR_DOSSIER_NAME , DOSSIER_MST.GET_SERVICE_TYPE(?,?) AS SERVICE_TYPE_NAME , nvl(HSTR_DOSSIER_DESC,'') , CASE WHEN HNUM_BILLING_MODE\='1' THEN 'Item-Wise Cost' ELSE 'Dossier-Wise Cost' END AS HNUM_BILLING_MODE, TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS EFFECTIVE_FROM , CASE WHEN GNUM_ISVALID\='1' THEN 'Active' ELSE 'Inactive' END AS RECORD_STATUS, HNUM_DOSSIER_PRICE FROM HGDT_DOSSIER_MST B WHERE GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=?  AND HNUM_SERVICETYPE_ID\=?  AND GNUM_ISVALID\=?
select.dossier.view.deptList.0 				=SELECT dossier_mSt.getopreationName(GNUM_SERVICE_ID ,GNUM_HOSPITAL_CODE ,HNUM_SERVICETYPE_ID ) || '[ '|| dossier_mst.getServiceAreaName(GNUM_DEPT_CODE,GNUM_HOSPITAL_CODE ,HNUM_SERVICETYPE_ID) || ']'  AS HSTR_DEPT_NAME FROM HGDT_DOSSIER_DEPARTMENT_MST WHERE GNUM_ISVALID\=? AND GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=? AND HNUM_SERVICETYPE_ID\=? ORDER BY HSTR_DEPT_NAME

select.dossierItem.dossierName.0			=SELECT DISTINCT HNUM_DOSSIER_ID , HSTR_DOSSIER_NAME FROM HGDT_DOSSIER_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GDT_ENTRY_DATE <\= SYSDATE
select.dossierItem.dossierName.1			=GNUM_DEPT_CODE\=?
select.dossierItem.dossierName.2			=HNUM_SERVICETYPE_ID\=?

select.DossierStoreItemCategory.0			=SELECT HSTNUM_STORE_ID, HSTSTR_STORE_NAME FROM HSTT_STORE_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GDT_ENTRY_DATE<\=SYSDATE ORDER BY HSTSTR_STORE_NAME
select.DossierItem.0						=SELECT DISTINCT HNUM_DOSSIER_ID||'^'||UPPER(dossier_mst.get_dossier_name(HNUM_DOSSIER_ID,?))||'^'||(SELECT DISTINCT UPPER(dossier_mst.get_service_type(HNUM_SERVICETYPE_ID,?)) FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=B.HNUM_DOSSIER_ID)||'^'||(SELECT DISTINCT HNUM_DOSSIER_PRICE FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=B.HNUM_DOSSIER_ID AND GNUM_ISVALID\=B.GNUM_ISVALID) as data FROM HGDT_DOSSIER_ITEM_MST B WHERE GNUM_HOSPITAL_CODE\=?

select.dossierItemBrand.deptId.0			= select gnum_dept_code from gblt_department_mst where UPPER(gstr_dept_name)\=UPPER(?) and gnum_hospital_code\=?

select.dossierItem.cond.2					=EXISTS (SELECT 'X' FROM HGDT_DOSSIER_MST C WHERE B.HNUM_DOSSIER_ID\=C.HNUM_DOSSIER_ID AND C.GNUM_DEPT_CODE\=?)
select.dossierItem.cond.1					=EXISTS (SELECT 'X' FROM HGDT_DOSSIER_MST C WHERE B.HNUM_DOSSIER_ID\=C.HNUM_DOSSIER_ID AND C.HNUM_SERVICETYPE_ID\=?)
select.dossierItem.cond.3					=EXISTS (SELECT 'X' FROM HGDT_DOSSIER_MST C WHERE B.HNUM_DOSSIER_ID\=C.HNUM_DOSSIER_ID AND C.HNUM_DOSSIER_ID\=?)

select.DossierItem.5						=SELECT * FROM ( SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? ) B ORDER BY B.HSTSTR_ITEM_NAME
select.DossierItem.6						=SELECT * FROM ( SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? ) B WHERE NOT EXISTS(SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? ) ORDER BY B.HSTSTR_ITEM_NAME
select.DossierDeptAndServiceType.0			=select gnum_dept_code, hnum_servicetype_id from hgdt_dossier_mst where hnum_dossier_id\=? and gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_seat_id\=?
select.DossierDeptNameAndServiceTypeName.0	=select dossier_mst.get_department_name(?,?), dossier_mst.get_service_type(?,?) from hgdt_dossier_mst where hnum_dossier_id\=? and gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_seat_id\=?
select.StoreNameCombo.5						= SELECT HSTNUM_STORE_ID, HSTSTR_STORE_NAME FROM HSTT_STORE_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1
select.dossierItem.storeId.0				= SELECT HSTNUM_STORE_ID FROM HSTT_STORE_MST WHERE GNUM_HOSPITAL_CODE\=? AND UPPER(HSTSTR_STORE_NAME)\=UPPER(?) AND GNUM_ISVALID\=1


insert.dossierItem.0						=INSERT INTO HGDT_DOSSIER_ITEM_MST (HNUM_DOSSIER_ID, GNUM_HOSPITAL_CODE, HNUM_ITEM_SLNO, HNUM_ISSTORE_ITEM, HNUM_ITEM_ID,  HNUM_ITEMBRAND_ID, HNUM_ITEM_CAT_NO, HNUM_CONSUMABLE_FLAG, HNUM_ITEM_TYPE_ID, HNUM_DISPLAY_ORDER, HNUM_ITEM_DEFAULT_QTY, HNUM_ITEM_ISSUE_MODE, HNUM_ISMISC_ITEM, HNUM_STORE_ID, HNUM_ITEM_TARIFF_ID, GDT_ENTRY_DATE, GNUM_SEAT_ID, GNUM_ISVALID, HSTNUM_DEFAULT_RATE, HSTNUM_ISBROUGHT_BYPATIENT ,HNUM_ISRETURNABLE_ITEM, HNUM_ISRC_ITEM, HSTR_REMARKS ) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,?,?,?,?,?,?)

update.dossierMst.TotalCost.0				=UPDATE HGDT_DOSSIER_MST SET HNUM_DOSSIER_PRICE\=? WHERE GNUM_HOSPITAL_CODE\=?  AND HNUM_DOSSIER_ID\=? AND GNUM_ISVALID\=?

select.dossierItem.slNo.0					=SELECT nvl(MAX(HNUM_ITEM_SLNO),1) FROM HGDT_DOSSIER_ITEM_MST
select.dossierItem.catNo.0					=SELECT * FROM ( SELECT SSTNUM_ITEM_CAT_NO, HSTNUM_ITEMTYPE_ID, HSTNUM_ITEM_ID FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND HSTNUM_ITEMBRAND_ID\=? UNION SELECT SSTNUM_ITEM_CAT_NO, HSTNUM_ITEMTYPE_ID, HSTNUM_ITEM_ID FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND HSTNUM_ITEMBRAND_ID\=? ) B
select.DossierItem.2						=SELECT COUNT(*) FROM HGDT_DOSSIER_ITEM_MST WHERE GNUM_HOSPITAL_CODE\=? AND HNUM_DOSSIER_ID\=? AND GNUM_ISVALID\=1 
select.DossierName.0						=select dossier_mst.get_dossier_name(?,?)
select.DepartmentName.DossierItem.0			=SELECT DOSSIER_MST.GET_DEPARTMENT_NAME((SELECT GNUM_DEPT_CODE FROM HGDT_DOSSIER_MST WHERE GNUM_ISVALID\=1 AND HNUM_DOSSIER_ID\=?),?)
select.ServiceTypeName.DossierItem.0		=SELECT DOSSIER_MST.GET_SERVICE_TYPE((SELECT DISTINCT HNUM_SERVICETYPE_ID FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=?),?)
select.DossierItemNameList.0				=SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME)||decode(hnum_isrc_item,'1','[RC*]')||decode(hnum_ismisc_item,'1','[MISC]')||decode(hnum_isreturnable_item,'1','[R]'), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE,  A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID,  B.HSTNUM_ITEM_ID,  nvl(B.HSTSTR_SPECIFICATION,''),  B.HSTNUM_ITEMTYPE_ID,Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric),case when hnum_ismisc_item\='1' then 'Yes' else 'No' end,CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END,case when hnum_isrc_item\='1' then 'Yes' else 'No' end, nvl(A.hstr_remarks,'') FROM HGDT_DOSSIER_ITEM_MST A INNER JOIN HSTT_DRUGBRAND_MST B ON A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 AND A.HNUM_DOSSIER_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID UNION SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME)||decode(hnum_isrc_item,'1','[RC*]')||decode(hnum_ismisc_item,'1','[MISC]')||decode(hnum_isreturnable_item,'1','[R]'), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric),  A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_DEFAULT_QTY,  B.HSTNUM_ITEMBRAND_ID,  B.HSTNUM_ITEM_ID,  nvl(B.HSTSTR_SPECIFICATION,''),  B.HSTNUM_ITEMTYPE_ID,Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric),case when hnum_ismisc_item\='1' then 'Yes' else 'No' end,CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END,case when hnum_isrc_item\='1' then 'Yes' else 'No' end, nvl(A.hstr_remarks,'') FROM HGDT_DOSSIER_ITEM_MST A INNER JOIN HSTT_ITEMBRAND_MST B ON A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 AND A.HNUM_DOSSIER_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID ORDER BY 1 


select.DossierStoreName.0					=select dossier_mst.get_store_name(?,?)
select.selectedRightDossierItemList.0		=SELECT HNUM_ITEMBRAND_ID,dossier_mst.get_item_name(HNUM_ITEMBRAND_ID,100) AS HSTSTR_ITEMBRAND_NAME FROM HGDT_DOSSIER_ITEM_MST WHERE HNUM_DOSSIER_ID\=? AND HNUM_STORE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 ORDER BY HSTSTR_ITEMBRAND_NAME
select.selectedLeftDossierItemList.0		=SELECT * FROM (SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100) B WHERE HSTSTR_ITEM_NAME NOT IN (SELECT dossier_mst.get_item_name(HNUM_ITEMBRAND_ID,100) AS HSTSTR_ITEMBRAND_NAME FROM HGDT_DOSSIER_ITEM_MST WHERE HNUM_DOSSIER_ID\=? AND HNUM_STORE_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) ORDER BY B.HSTSTR_ITEM_NAME
delete.DossierPreviousItem.0				=UPDATE HGDT_DOSSIER_ITEM_MST SET GNUM_ISVALID\=0 , GNUM_SEAT_ID\=? WHERE HNUM_DOSSIER_ID\=? AND GNUM_HOSPITAL_CODE\=?
delete.DossierItem.0						=UPDATE HGDT_DOSSIER_ITEM_MST SET GNUM_ISVALID\=0 , GNUM_SEAT_ID\=?
delete.DossierItem.cond.0					=HNUM_DOSSIER_ID\=?
delete.DossierItem.cond.1					=AND GNUM_HOSPITAL_CODE\=?

delete.DossierItem.1						=UPDATE HGDT_DOSSIER_MST SET HNUM_DOSSIER_PRICE\=0.00 WHERE HNUM_DOSSIER_ID\=?
delete.DossierItem.cond.2					=AND GNUM_HOSPITAL_CODE\=?

select.DossierItemView.0 =SELECT dossier_mst.get_dossier_name(?,
select.DossierItemView.1 =?) AS HSTSTR_DOSSIER_NAME , 
select.DossierItemView.2 =dossier_mst.get_store_name(?,   
select.DossierItemView.3 =?) AS HSTSTR_Store_NAME ,
select.DossierItemView.4 =dossier_mst.get_item_name(?,100) AS HSTSTR_ITEM_NAME ,
select.DossierItemView.5 =CASE WHEN GNUM_ISVALID\='1' THEN 'Active' ELSE 'Inactive' END AS RECORD_STATUS , TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS EFFECTIVE_FROM FROM HGDT_DOSSIER_ITEM_MST WHERE GNUM_ISVALID\=1
select.DossierItemView.6 = AND GNUM_HOSPITAL_CODE\=?
select.DossierItemView.7 = AND GNUM_SEAT_ID\=?

select.dossierItemMst.View.0	= SELECT DISTINCT dossier_mst.get_dossier_name(?,?) AS HSTSTR_DOSSIER_NAME , dossier_mst.get_service_type(HNUM_SERVICETYPE_ID,?) FROM HGDT_DOSSIER_MST WHERE HNUM_DOSSIER_ID\=? AND GNUM_HOSPITAL_CODE\=?
select.dossierItemMst.View.1	= SELECT DISTINCT CASE WHEN GNUM_ISVALID\='1' THEN 'Active' ELSE 'Inactive' END AS RECORD_STATUS ,TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS EFFECTIVE_FROM FROM HGDT_DOSSIER_ITEM_MST WHERE HNUM_DOSSIER_ID\=? AND HNUM_STORE_ID\=? AND GNUM_HOSPITAL_CODE\=?
select.dossierItemMst.View.2	=SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID, nvl(B.HSTSTR_SPECIFICATION,''), B.HSTNUM_ITEMTYPE_ID, CASE WHEN A.HSTNUM_ISBROUGHT_BYPATIENT\='1' THEN 'Yes' ELSE 'No' END,Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric),case when hstnum_is_misc\='1' then 'Yes' else 'No' end,CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END, decode((select count(hststr_tender_itemno) from hstt_ratecontract_item_dtl e where e.HSTNUM_ITEMBRAND_ID\=a.HNUM_ITEMBRAND_ID and gnum_isvalid\=1 and e.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE ) ,'0' , 'No' ,'Yes') as RCFLG , nvl(A.hstr_remarks,'') , (select nvl(hststr_tender_itemno,'NA') from hstt_ratecontract_item_dtl e where e.HSTNUM_ITEMBRAND_ID\=a.HNUM_ITEMBRAND_ID and gnum_isvalid\=1 and e.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE order by gdt_entry_date desc limit 1 )  FROM HGDT_DOSSIER_ITEM_MST A INNER JOIN HSTT_DRUGBRAND_MST B ON  A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 AND A.HNUM_DOSSIER_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID UNION SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID, nvl(B.HSTSTR_SPECIFICATION,''), B.HSTNUM_ITEMTYPE_ID, CASE WHEN A.HSTNUM_ISBROUGHT_BYPATIENT\='1' THEN 'Yes' ELSE 'No' END,Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric),case when hstnum_is_misc\='1' then 'Yes' else 'No' end,CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END, decode((select count(hststr_tender_itemno) from hstt_ratecontract_item_dtl e where e.HSTNUM_ITEMBRAND_ID\=a.HNUM_ITEMBRAND_ID and gnum_isvalid\=1 and e.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE  ) ,'0' , 'No' ,'Yes') as RCFLG  , nvl(A.hstr_remarks,'') , (select nvl(hststr_tender_itemno ,'NA') from hstt_ratecontract_item_dtl e where e.HSTNUM_ITEMBRAND_ID\=a.HNUM_ITEMBRAND_ID and gnum_isvalid\=1 and e.GNUM_HOSPITAL_CODE \= a.GNUM_HOSPITAL_CODE order by gdt_entry_date desc limit 1 ) FROM HGDT_DOSSIER_ITEM_MST A INNER JOIN HSTT_ITEMBRAND_MST B ON  A.GNUM_ISVALID\=? AND B.GNUM_ISVALID\=1 AND A.HNUM_DOSSIER_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID ORDER BY 1
  

select.DossierItemBrandMstCat.0 		= SELECT HNUM_MISC_ID,HSTR_MISC_NAME FROM HGDT_MISC_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=?
select.DossierItemBrandMstCat.1			= GNUM_SEAT_ID\=? ORDER BY HSTR_MISC_NAME

select.DossierItemBrandMstGrp.0 		= SELECT HSTNUM_GROUP_ID,HSTSTR_GROUP_NAME FROM HSTT_GROUP_MST WHERE GDT_EFFECTIVE_FRM<\=TRUNC(SYSDATE) AND GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ? AND SSTNUM_ITEM_CAT_NO \= \#1\# ORDER BY HSTSTR_GROUP_NAME\t
select.DossierItemBrandMst.0			= SELECT HNUM_MISC_ID||'@'||HSTUM_DEPT_CODE||'@'||HSTNUM_ITEMBRAND_ID||'^'||UPPER(HSTR_MISC_NAME)||'^'||HSTNUM_SALEPRICE||'^'||dossier_mst.get_department_name(HSTUM_DEPT_CODE,?) AS DATA FROM HGDT_MISC_MST B WHERE GNUM_HOSPITAL_CODE\=?
select.DossierItemBrandMst.1			=  AND GNUM_SEAT_ID\=?
select.DossierItemBrandMst.cond.4		= HNUM_MISC_ID\=?
select.DossierItemBrandMst.cond.3		= EXISTS ( SELECT 'X' FROM  GBLT_DEPARTMENT_MST C WHERE C.GNUM_ISVALID \= 1 AND C.GNUM_HOSPITAL_CODE \= 96101 AND C.GNUM_DEPT_CODE \= B.HSTUM_DEPT_CODE AND C.GNUM_DEPT_CODE \=? )

select.DossierItemBrandMst.cond.0 		= GNUM_ISVALID \= ?
select.DossierItemBrand.5				= SELECT DISTINCT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM (SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=?) UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=? AND GNUM_ISVALID\=1) ) B ORDER BY B.HSTSTR_ITEM_NAME
select.DossierItemBrand.6				= SELECT DISTINCT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM ( SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=?) UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=? AND GNUM_ISVALID\=1))B WHERE NOT EXISTS (SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=?) UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=?) )ORDER BY B.HSTSTR_ITEM_NAME
select.dossierItemBrand.miscId.0		= select dossier_mst.get_misckit_id(?)  
select.dossierItemBrand.slNo.0			= SELECT nvl(MAX(HNUM_ITEM_SLNO),1) FROM HGDT_MISC_ITEM_MST
insert.dossierMisc.0					= INSERT INTO HGDT_MISC_MST (HNUM_MISC_ID, GNUM_HOSPITAL_CODE, HSTR_MISC_NAME, HSTR_MISC_DESC, GNUM_SERVICE_ID, HSTR_SERVICE_NAME, HNUM_BILLING_MODE, HNUM_ITEM_ISSUE_MODE, GDT_ENTRY_DATE, GNUM_SEAT_ID, GNUM_ISVALID, HSTNUM_SALEPRICE, HSTUM_DEPT_CODE ,hstnum_itembrand_id) VALUES (?,?,?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,?,?,? , dossier_mst.get_miscKit_itembrand_id(25,?)) 
insert.dossierMiscItemBrandMst.0		= INSERT INTO hstt_itembrand_mst(hstnum_itembrand_id, hstnum_item_id, gnum_hospital_code, sstnum_item_cat_no, hststr_item_name, hstnum_default_rate, hstnum_rate_unit_id, hstnum_approved_type, hststr_specification, gstr_remarks, gnum_seatid, hstnum_itemtype_id, gnum_isvalid) VALUES(dossier_mst.get_miscKit_itembrand_id(25,?),?,?,?,?,?,?,?,?,?,?,?,?)

select.dossierItemBrand.itemType.0		= SELECT HSTNUM_ITEM_ID, HSTNUM_ITEMTYPE_ID FROM (SELECT HSTNUM_ITEM_ID, HSTNUM_ITEMTYPE_ID FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND HSTNUM_ITEMBRAND_ID\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=?) UNION SELECT HSTNUM_ITEM_ID, HSTNUM_ITEMTYPE_ID FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND HSTNUM_ITEMBRAND_ID\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=? AND GNUM_ISVALID\=1) ) B
insert.dossierItemBrand.0				= INSERT INTO HGDT_MISC_ITEM_MST (HNUM_MISC_ID, GNUM_HOSPITAL_CODE, HNUM_ITEM_SLNO, HNUM_ISSTORE_ITEM, HNUM_ITEM_ID, HNUM_ITEMBRAND_ID, HNUM_ITEM_CAT_NO, HNUM_CONSUMABLE_FLAG, HNUM_ITEM_TYPE_ID, HNUM_DISPLAY_ORDER, HNUM_ITEM_DEFAULT_QTY, HNUM_ITEM_ISSUE_MODE, HNUM_ISMISC_ITEM, HNUM_STORE_ID, HNUM_ITEM_TARIFF_ID, GDT_ENTRY_DATE, GNUM_SEAT_ID, GNUM_ISVALID, HSTNUM_DEFAULT_RATE) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,?,?)
select.dossierItemBrandMisc.9			= SELECT COUNT(*) FROM HGDT_MISC_MST WHERE UPPER(HSTR_MISC_NAME)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 AND HSTUM_DEPT_CODE\=?



select.selectedRightDossierItemBrandList.0 = SELECT DISTINCT HNUM_ITEMBRAND_ID,dossier_mst.get_item_name(HNUM_ITEMBRAND_ID,100) AS HSTSTR_ITEMBRAND_NAME FROM HGDT_MISC_ITEM_MST WHERE HNUM_ITEM_CAT_NO\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 ORDER BY HSTSTR_ITEMBRAND_NAME 
select.selectedLeftDossierItemBrandList.0  = SELECT DISTINCT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM (SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_DRUGBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=? AND GNUM_ISVALID\=1) UNION SELECT HSTNUM_ITEMBRAND_ID , HSTSTR_ITEM_NAME FROM HSTT_ITEMBRAND_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=100 AND SSTNUM_ITEM_CAT_NO\=? AND EXISTS(SELECT HSTNUM_GROUP_ID FROM HSTT_ITEM_MST WHERE HSTNUM_GROUP_ID\=? AND GNUM_ISVALID\=1)) B WHERE HSTSTR_ITEM_NAME NOT IN (SELECT dossier_mst.get_item_name(HNUM_ITEMBRAND_ID,100) AS HSTSTR_ITEMBRAND_NAME FROM HGDT_MISC_ITEM_MST WHERE HNUM_ITEM_CAT_NO\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1) ORDER BY B.HSTSTR_ITEM_NAME 
select.DossierMiscData.0				= SELECT TRIM(HSTR_MISC_NAME), TRIM(HSTR_MISC_DESC), HNUM_BILLING_MODE, HSTNUM_SALEPRICE FROM HGDT_MISC_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=? AND HNUM_MISC_ID\=? 
select.DeptNameCombo.5					=SELECT GNUM_DEPT_CODE ,GSTR_DEPT_NAME FROM GBLT_DEPARTMENT_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_ISVALID\=1 AND GNUM_DEPT_TYPE\=1 ORDER BY GSTR_DEPT_NAME
select.DossierMiscItemNameList.0		=SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE,  A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID,  B.HSTSTR_SPECIFICATION,  B.HSTNUM_ITEMTYPE_ID  FROM HGDT_MISC_ITEM_MST A INNER JOIN HSTT_DRUGBRAND_MST B ON A.GNUM_ISVALID\=1  AND A.HNUM_MISC_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID UNION SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric),  A.HSTNUM_DEFAULT_RATE,  A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID,  B.HSTSTR_SPECIFICATION,  B.HSTNUM_ITEMTYPE_ID FROM HGDT_MISC_ITEM_MST A INNER JOIN HSTT_ITEMBRAND_MST B ON A.GNUM_ISVALID\=1 AND A.HNUM_MISC_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID ORDER BY 1



select.DossierMiscItemData.0			= SELECT GNUM_ISVALID, HNUM_ISMISC_ITEM FROM HGDT_MISC_ITEM_MST WHERE GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=? AND HNUM_MISC_ID\=? AND HNUM_ITEMBRAND_ID\=? AND GNUM_ISVALID\=1

delete.dossierItemBrandMiscMst.0			= UPDATE HGDT_MISC_MST   SET GNUM_ISVALID\=0, GNUM_SEAT_ID\=?   
delete.dossierItemBrandMiscMst.cond.1		= HNUM_MISC_ID\=? AND HSTUM_DEPT_CODE\=? AND HSTNUM_ITEMBRAND_ID\=?

delete.dossierItemBrandMiscItemMst.0		=  UPDATE HGDT_MISC_ITEM_MST   SET GNUM_ISVALID\=0, GNUM_SEAT_ID\=? 
delete.dossierItemBrandMiscItemMst.cond.0	=  HNUM_MISC_ID\=? OR 1\=? OR 1\=?

delete.dossierItemBrandMst.0				=UPDATE HSTT_ITEMBRAND_MST  SET GNUM_ISVALID\=0, GNUM_SEATID\=?
delete.dossierItemBrandMst.cond.0			= 1<>? OR 1<>? AND HSTNUM_ITEMBRAND_ID\=?

update.DossierMiscMst.0					= UPDATE HGDT_MISC_MST   SET GNUM_ISVALID\=0, GNUM_SEAT_ID\=?   WHERE HNUM_MISC_ID\=?
delete.PreviousItemBrandMst.0			= UPDATE HSTT_ITEMBRAND_MST  SET GNUM_ISVALID\=0, GNUM_SEATID\=?   WHERE HSTNUM_ITEMBRAND_ID\=?
delete.DossierPreviousItemBrand.0		= UPDATE HGDT_MISC_ITEM_MST   SET GNUM_ISVALID\=0, GNUM_SEAT_ID\=?   WHERE HNUM_MISC_ID\=?


view.dossierMiscItemBrandMst.0 = SELECT DISTINCT HSTR_MISC_NAME, HSTR_MISC_DESC, CASE WHEN HNUM_BILLING_MODE\='1' THEN 'Item-Wise Cost' ELSE 'Dossier-Wise Cost' END AS HNUM_BILLING_MODE, HSTNUM_SALEPRICE, CASE WHEN GNUM_ISVALID\='1' THEN 'Active' ELSE 'Inactive' END AS GNUM_ISVALID, dossier_mst.get_department_name(HSTUM_DEPT_CODE,GNUM_HOSPITAL_CODE), TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS EFFECTIVE_FROM FROM HGDT_MISC_MST WHERE HNUM_MISC_ID\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=? AND GNUM_ISVALID\=?
view.dossierMiscItemBrandMst.1 = SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID, B.HSTSTR_SPECIFICATION, B.HSTNUM_ITEMTYPE_ID, A.gdt_entry_date FROM HGDT_MISC_ITEM_MST A INNER JOIN HSTT_DRUGBRAND_MST B ON A.GNUM_ISVALID\=? AND A.HNUM_MISC_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID UNION SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_DEFAULT_QTY, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID, B.HSTSTR_SPECIFICATION, B.HSTNUM_ITEMTYPE_ID, A.gdt_entry_date FROM HGDT_MISC_ITEM_MST A INNER JOIN HSTT_ITEMBRAND_MST B ON A.GNUM_ISVALID\=? AND A.HNUM_MISC_ID\=? AND A.HNUM_ITEMBRAND_ID\=B.HSTNUM_ITEMBRAND_ID ORDER BY 1


view.dossierItemBrandMst.0 = SELECT dossier_mst.get_item_name(HNUM_ITEMBRAND_ID,100) AS HSTSTR_ITEM_NAME, dossier_mst.get_item_rate(HNUM_ITEMBRAND_ID,100) AS HSTNUM_DEFAULT_RATE, TO_CHAR (GDT_ENTRY_DATE, 'dd-Mon-yyyy') AS EFFECTIVE_FROM , CASE WHEN HNUM_ISMISC_ITEM\='1' THEN 'Yes' ELSE 'No' END AS HSTSTR_IS_MISC_ITEM FROM HGDT_MISC_ITEM_MST WHERE HNUM_ITEMBRAND_ID\=? AND HNUM_MISC_ID\=? AND HNUM_ITEM_TYPE_ID\=? AND HNUM_ITEM_CAT_NO\=? AND GNUM_HOSPITAL_CODE\=? AND GNUM_SEAT_ID\=? AND GNUM_ISVALID\=1
select.dossierItemBrandMst.4			= SELECT COUNT(*) FROM HGDT_MISC_MST WHERE GNUM_ISVALID\=1 AND HNUM_MISC_ID\=? AND GNUM_HOSPITAL_CODE\=?

#End of Generic Dossier Master Page Queries 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#Dossier Issue Desk View And Dossier Return View Query

select.IssueNo.0 = select hstnum_issue_no from sstt_issue_dtl where hstnum_req_no=? and gnum_isvalid=1 and gnum_hospital_code=?

select.ReturnNo.0 = select hstnum_return_no from hstt_patemp_return_dtl where hstnum_issue_no = ? and gnum_isvalid=1 and gnum_hospital_code= ?

select.DossierIssueViewItemList.0 = SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_QTY_AVL, A.HNUM_ITEM_QTY_REQ, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID,   nvl(B.HSTSTR_SPECIFICATION,''''),  B.HSTNUM_ITEMTYPE_ID,  CASE WHEN A.HNUM_ISBROUGHT_BYPATIENT\='1' THEN 'Yes' ELSE 'No' END, Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric), case when hstnum_is_misc\='1' then 'Yes' else 'No' end,CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END  FROM hgdt_dossier_req_item_dtl A INNER JOIN HSTT_DRUGBRAND_MST B ON A.GNUM_ISVALID\=1 AND B.GNUM_ISVALID\=1 AND A.GNUM_HOSPITAL_CODE \= ? AND A.hnum_dossier_req_id \= ? AND A.HNUM_BRAND_ID\=B.HSTNUM_ITEMBRAND_ID UNION SELECT DISTINCT UPPER(HSTSTR_ITEM_NAME), mms_mst.get_itemcat_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, A.HNUM_ITEM_CAT_NO\:\:numeric), A.HSTNUM_DEFAULT_RATE, A.HNUM_ITEM_QTY_AVL, A.HNUM_ITEM_QTY_REQ, B.HSTNUM_ITEMBRAND_ID, B.HSTNUM_ITEM_ID, nvl(B.HSTSTR_SPECIFICATION,''''), B.HSTNUM_ITEMTYPE_ID, CASE WHEN A.HNUM_ISBROUGHT_BYPATIENT\='1' THEN 'Yes' ELSE 'No' END, Mms_Mst.get_itemtype_dtl(1\:\:numeric, A.GNUM_HOSPITAL_CODE\:\:numeric, hstnum_itemtype_id\:\:numeric), case when hstnum_is_misc\='1' then 'Yes' else 'No' end, CASE WHEN hstnum_is_returnable\='1' THEN 'Yes' ELSE 'No' END FROM hgdt_dossier_req_item_dtl A INNER JOIN HSTT_ITEMBRAND_MST B ON A.GNUM_ISVALID\=1 AND B.GNUM_ISVALID\=1 AND A.GNUM_HOSPITAL_CODE \= ? AND A.hnum_dossier_req_id \= ? AND A.HNUM_BRAND_ID\=B.HSTNUM_ITEMBRAND_ID ORDER BY 1

select.DossierIssueRequestTypeDtlsForView.0 = select dossier_mst.get_dossier_name(hnum_dossier_id,gnum_hospital_code) , DOSSIER_MST.GET_SERVICE_TYPE(hnum_servicetype_id,gnum_hospital_code) , dossier_mst.get_store_name(hnum_tostore_id,gnum_hospital_code) , DOSSIER_MST.GET_DEPARTMENT_NAME(hgnum_dept_code,100) from hgdt_dossier_req_dtl where hnum_dossier_req_id = ? and gnum_isvalid=1 and gnum_hospital_code = ?

select.DossierReturnViewItemList.0 = SELECT  * from ( SELECT round(HSTNUM_ISSUE_QTY)||'@'||HSTNUM_ISSUEQTY_UNITID||'@'||HSTNUM_STORE_ID||'@'||HSTNUM_ITEMBRAND_ID||'@'||HSTNUM_ITEM_ID||'@'||HSTSTR_BATCH_SL_NO||'@'||HSTSTR_ITEM_SL_NO||'@'||HSTNUM_STOCK_STATUS_CODE||'@'||HSTNUM_GROUP_ID||'@'||HSTNUM_SUBGROUP_ID||'@'||HSTNUM_RATE||'@'||HSTNUM_RATE_UNITID||'^'||Mms_Mst.GETUNITBASEVALUE(HSTNUM_RATE_UNITID,GNUM_HOSPITAL_CODE)||'@'||TO_CHAR(HSTDT_MANUF_DATE,'DD-Mon-yyyy')||'@'||NVL(TO_CHAR(HSTDT_EXPIRY_DATE,'DD-Mon-yyyy'),' ')||'@'|| Mms_Mst.GETUNITBASEVALUE(HSTNUM_ISSUEQTY_UNITID,GNUM_HOSPITAL_CODE) AS hiddenfield, Mms_Mst.get_item_dtl(3,GNUM_HOSPITAL_CODE,HSTNUM_ITEMBRAND_ID) AS itemname, HSTSTR_BATCH_SL_NO, round(HSTNUM_ISSUE_QTY-(NVL(HSTNUM_RETURN_QTY,0)*Mms_Mst.getunit_conv_value(HSTNUM_RETQTY_UNITID, HSTNUM_ISSUEQTY_UNITID,GNUM_HOSPITAL_CODE))) AS balance_Qty, Mms_Mst.getunitname(GNUM_HOSPITAL_CODE,HSTNUM_ISSUEQTY_UNITID)AS balanceUnitQty, NVL(TO_CHAR(HSTDT_EXPIRY_DATE,'DD-Mon-YYYY'),' ') AS ExpiryDate, nvl(( select hnum_item_qty_return from hgdt_dossier_return_item_dtl b  where b.hstnum_issue_no=a.hstnum_issue_no  and b.hnum_brand_id=a.hstnum_itembrand_id and b.gnum_hospital_code=a.gnum_hospital_code limit 1),0) as retQty , date_part('day',-(TRUNC(SYSDATE)-TRUNC(NVL(HSTDT_EXPIRY_DATE,SYSDATE)))) AS validity, (select count(*) from hgdt_dossier_return_dtl where hnum_dossier_status = 3 and gnum_hospital_code = ? and gnum_isvalid = 1 and hstnum_issue_no = a.hstnum_issue_no ) as cnt FROM SSTT_PATEMP_ISSUE_ITEM_DTL a WHERE GNUM_ISVALID=1 AND HSTNUM_STORE_ID=? AND HSTNUM_ISSUE_NO=? AND GNUM_HOSPITAL_CODE=? ORDER BY Mms_Mst.getunitname(GNUM_HOSPITAL_CODE,HSTNUM_ISSUEQTY_UNITID) ) dual

 