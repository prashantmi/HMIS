select.mrdc.0 = SELECT HPMRNUM_RECORD_TYPE,HPMRSTR_RECORDTYPE_DESC FROM HPMRT_MRD_RECORDTYPE_MST D WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND NOT EXISTS  ( SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GSTR_TARIFF_ID \= D.HPMRNUM_RECORD_TYPE ) 

select.mrdc.1 = SELECT HPMRNUM_RECORD_TYPE,HPMRSTR_RECORDTYPE_DESC FROM HPMRT_MRD_RECORDTYPE_MST D WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND NOT EXISTS  ( SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GSTR_TARIFF_ID \= D.HPMRNUM_RECORD_TYPE )


//************************** GLOBAL QUERY FOR MASTER *******************************//
select.item.0 = SELECT HSTNUM_ITEMBRAND_ID,INITCAP(HSTSTR_ITEM_NAME) AS ITEM_NAME FROM HSTT_ITEMBRAND_MST A WHERE A.GNUM_ISVALID \= 1 AND A.SSTNUM_ITEM_CAT_NO \= 4 AND A.GNUM_HOSPITAL_CODE \= ? AND not exists (select 'x' from hblt_tariff_mst where GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= A.HSTNUM_ITEMBRAND_ID) UNION SELECT HSTNUM_ITEMBRAND_ID,INITCAP(HSTSTR_ITEM_NAME) AS ITEM_NAME FROM HSTT_ITEMBRAND_MST A WHERE A.GNUM_ISVALID \= 1 AND A.SSTNUM_ITEM_CAT_NO \= 4 AND A.GNUM_HOSPITAL_CODE \= ? AND A.HSTNUM_ITEMBRAND_ID \= ? ORDER BY ITEM_NAME

select.medicalboard.0 = SELECT HMBNUM_CERTIFICATE_TYPE_ID , INITCAP(HMBSTR_CERTIFICATE_TYPE_NAME) AS TEST_NAME FROM HMBT_CERTIFICATE_TYPE_MST A WHERE A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? AND NOT EXISTS (select 'x' from hblt_tariff_mst where GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= A.HMBNUM_CERTIFICATE_TYPE_ID ) UNION SELECT HMBNUM_CERTIFICATE_TYPE_ID , INITCAP(HMBSTR_CERTIFICATE_TYPE_NAME) AS TEST_NAME FROM HMBT_CERTIFICATE_TYPE_MST A WHERE A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? AND HMBNUM_CERTIFICATE_TYPE_ID \= ? ORDER BY TEST_NAME



//select.bloodbank.0 = SELECT HBNUM_BLD_COMPONENT_ID,INITCAP(HBSTR_COMPONENT_NAME) AS TEST_NAME FROM HBBT_BLD_COMPONENT_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= A.HBNUM_BLD_COMPONENT_ID ) UNION SELECT HBNUM_BLD_COMPONENT_ID,INITCAP(HBSTR_COMPONENT_NAME) AS TEST_NAME FROM HBBT_BLD_COMPONENT_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND A.HBNUM_BLD_COMPONENT_ID \= ? ORDER BY TEST_NAME

select.bloodbank.0 = SELECT  HBNUM_BLD_COMPONENT_ID ,INITCAP(HBSTR_COMPONENT_NAME)  AS TEST_NAME FROM HBBT_BLD_COMPONENT_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= 100 AND NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= A.HBNUM_BLD_COMPONENT_ID ) UNION SELECT  HBNUM_BLD_COMPONENT_ID ,INITCAP(HBSTR_COMPONENT_NAME)  FROM HBBT_BLD_COMPONENT_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= 100 AND A.HBNUM_BLD_COMPONENT_ID \= ? UNION ALL SELECT HBNUM_BILLINGMAP_ID,HBSTR_BILLING_TARIFFNAME FROM HBBT_GENERICTARIFF_MST  A WHERE GNUM_ISVALID \=1 AND GNUM_HOSPITAL_CODE \=100 AND NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= A.HBNUM_BILLINGMAP_ID ) UNION SELECT  HBNUM_BILLINGMAP_ID,HBSTR_BILLING_TARIFFNAME FROM HBBT_GENERICTARIFF_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= 100 AND HBNUM_BILLINGMAP_ID \= ? ORDER BY TEST_NAME


//Investigation package integration
//select.inv.0 = SELECT  gtm.GNUM_TEST_CODE, gtm.GSTR_TEST_NAME AS TEST_NAME FROM GBLT_TEST_MST gtm WHERE gtm.GDT_EFFECTIVE_FRM<\=SYSDATE AND NVL(gtm.GDT_EFFECTIVE_TO,SYSDATE)>\=SYSDATE AND gtm.GNUM_ISVALID\=1 AND gtm.GNUM_HOSPITAL_CODE \= ? AND NOT EXISTS (SELECT 'x' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= gtm.GNUM_HOSPITAL_CODE AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= gtm.GNUM_TEST_CODE) UNION SELECT  gtm.GNUM_TEST_CODE, gtm.GSTR_TEST_NAME AS TEST_NAME FROM GBLT_TEST_MST gtm WHERE  gtm.GDT_EFFECTIVE_FRM<\=SYSDATE AND NVL(gtm.GDT_EFFECTIVE_TO,SYSDATE)>\=SYSDATE AND gtm.GNUM_ISVALID\= 1 AND gtm.GNUM_HOSPITAL_CODE \= ? AND gtm.GNUM_TEST_CODE \= ? ORDER BY TEST_NAME

select.inv.0 = SELECT  GTM.GNUM_TEST_CODE, GTM.GSTR_TEST_NAME AS TEST_NAME FROM HIVT_TEST_MST GTM WHERE  GTM.GNUM_ISVALID\=1 AND   NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND  SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE\=? AND GSTR_TARIFF_ID \= GTM.GNUM_TEST_CODE) UNION SELECT  GTM.GNUM_TEST_CODE, GTM.GSTR_TEST_NAME AS TEST_NAME FROM HIVT_TEST_MST GTM WHERE   GTM.GNUM_ISVALID\= 1 AND GTM.GNUM_TEST_CODE \= ? ORDER BY TEST_NAME

//select.invpkg.0 = SELECT DISTINCT SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)|| htgim.HGNUM_GROUP_CODE, glm.GSTR_LAB_NAME||'-'|| htgm.HGSTR_GROUP_NAME AS TEST_NAME FROM HIVT_TEST_GROUP_INFO_MST htgim, HIVT_TEST_GROUP_MST htgm ,GBLT_LABORATORY_MST glm WHERE htgim.HGNUM_GROUP_CODE\=htgm.HGNUM_GROUP_CODE AND  SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)\=glm.GNUM_LAB_CODE AND glm.GBL_ISVALID\=1 AND glm.GDT_EFFECTIVE_FRM<\=SYSDATE AND NVL(glm.GDT_EFFECTIVE_TO,SYSDATE)>\=SYSDATE AND  htgim.GNUM_IS_VALID\=1 AND htgm.GNUM_ISVALID\=1 AND  htgim.GNUM_HOSPITAL_CODE\=htgm.GNUM_HOSPITAL_CODE AND  htgim.GNUM_HOSPITAL_CODE \= glm.GNUM_HOSPITAL_CODE AND  htgim.GNUM_HOSPITAL_CODE\=? AND NOT EXISTS ( SELECT 'x' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= htgim.GNUM_HOSPITAL_CODE AND SBLNUM_SERVICE_ID \= ? AND GSTR_TARIFF_ID \= SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)|| htgim.HGNUM_GROUP_CODE) UNION SELECT DISTINCT SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)|| htgim.HGNUM_GROUP_CODE, glm.GSTR_LAB_NAME||'-'|| htgm.HGSTR_GROUP_NAME AS TEST_NAME FROM HIVT_TEST_GROUP_INFO_MST htgim, HIVT_TEST_GROUP_MST htgm ,GBLT_LABORATORY_MST glm WHERE htgim.HGNUM_GROUP_CODE\=htgm.HGNUM_GROUP_CODE AND  SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)\=glm.GNUM_LAB_CODE AND glm.GBL_ISVALID\=1 AND glm.GDT_EFFECTIVE_FRM<\=SYSDATE AND NVL(glm.GDT_EFFECTIVE_TO,SYSDATE)>\=SYSDATE AND  htgim.GNUM_IS_VALID\=1 AND htgm.GNUM_ISVALID\=1 AND  htgim.GNUM_HOSPITAL_CODE\=htgm.GNUM_HOSPITAL_CODE AND  htgim.GNUM_HOSPITAL_CODE \= glm.GNUM_HOSPITAL_CODE AND  htgim.GNUM_HOSPITAL_CODE\=? AND SUBSTR(htgim.GNUM_LAB_TEST_CODE,1,5)|| htgim.HGNUM_GROUP_CODE \= ? ORDER BY TEST_NAME
select.invpkg.0 = SELECT DISTINCT HTGIM.GNUM_LAB_CODE|| HTGIM.HGNUM_GROUP_CODE, GLM.GSTR_LAB_NAME||'-'|| HTGM.HGSTR_GROUP_NAME AS TEST_NAME FROM HIVT_TEST_GROUP_INFO_MST HTGIM, HIVT_TEST_GROUP_MST HTGM ,HIVT_LABORATORY_MST GLM WHERE HTGIM.HGNUM_GROUP_CODE\=HTGM.HGNUM_GROUP_CODE AND  HTGIM.GNUM_LAB_CODE\=GLM.GNUM_LAB_CODE AND GLM.GNUM_ISVALID\=1 AND  HTGIM.GNUM_IS_VALID\=1 AND HTGM.GNUM_ISVALID\=1 AND  HTGIM.GNUM_HOSPITAL_CODE\=HTGM.GNUM_HOSPITAL_CODE AND  HTGIM.GNUM_HOSPITAL_CODE \= GLM.GNUM_HOSPITAL_CODE AND NOT EXISTS ( SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= HTGIM.GNUM_HOSPITAL_CODE AND SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE\=? AND GSTR_TARIFF_ID \= HTGIM.GNUM_LAB_CODE|| HTGIM.HGNUM_GROUP_CODE) UNION SELECT DISTINCT HTGIM.GNUM_LAB_CODE|| HTGIM.HGNUM_GROUP_CODE, GLM.GSTR_LAB_NAME||'-'|| HTGM.HGSTR_GROUP_NAME AS TEST_NAME FROM HIVT_TEST_GROUP_INFO_MST HTGIM, HIVT_TEST_GROUP_MST HTGM ,HIVT_LABORATORY_MST GLM WHERE HTGIM.HGNUM_GROUP_CODE\=HTGM.HGNUM_GROUP_CODE AND  (HTGIM.GNUM_LAB_CODE,1,5)\=GLM.GNUM_LAB_CODE AND GLM.GNUM_ISVALID\=1  AND  HTGIM.GNUM_IS_VALID\=1 AND HTGM.GNUM_ISVALID\=1 AND  HTGIM.GNUM_HOSPITAL_CODE\=HTGM.GNUM_HOSPITAL_CODE AND  HTGIM.GNUM_HOSPITAL_CODE \= GLM.GNUM_HOSPITAL_CODE AND HTGIM.GNUM_LAB_CODE|| HTGIM.HGNUM_GROUP_CODE \= ? ORDER BY TEST_NAME


select.ot.0 =SELECT  HOTNUM_OPERATION_CODE, INITCAP(HOTSTR_OPERATION_NAME)  FROM HOTT_OPERATION_MST GTM WHERE  GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE\=? AND NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND  SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE\=? AND GSTR_TARIFF_ID \= HOTNUM_OPERATION_CODE) UNION SELECT HOTNUM_OPERATION_CODE, HOTSTR_OPERATION_NAME  FROM HOTT_OPERATION_MST GTM WHERE  GNUM_ISVALID\=1  AND GNUM_HOSPITAL_CODE\=? AND HOTNUM_OPERATION_CODE\= ? ORDER BY  2

//Billing Parameter Detail
-----------------------------------
gbl.bservice.0 = SELECT A.SBLNUM_BSERVICE_ID, NVL(A.SBLSTR_FILENAME,''), A.SBLSTR_BSERVICE_NAME \
				 FROM SBLT_BILLSERVICE_MST A

gbl.bservice.cond.0 = A.SBLNUM_CHARGETYPE_ID = ?
gbl.bservice.cond.1 = A.SBLNUM_ISVISIBLE \= 1 AND TRUNC(A.GDT_EFFECTIVE_DATE) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 \t\t\t\t  
gbl.bservice.cond.2 = ORDER BY A.SBLSTR_BSERVICE_NAME  

//Charge Master
-----------------------------------------------------
//gbl.chargetype.0 = SELECT A.SBLNUM_CHARGETYPE_ID, A.SBLSTR_CHARGETYPE_NAME FROM SBLT_CHARGETYPE_MST A WHERE TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? 
//gbl.chargetype.cond.0 = ORDER BY A.SBLSTR_CHARGETYPE_NAME   

gbl.chargetype.0=SELECT A.SBLNUM_CHARGETYPE_ID, A.SBLSTR_CHARGETYPE_NAME FROM SBLT_CHARGETYPE_MST A WHERE TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? ORDER BY HBLNUM_ORDER_BY 

//IPD Charge Type Details [e.g. General/Private]
---------------------------------------------------------
gbl.ipdchargetype.0 = SELECT A.SBLNUM_IPD_CHARGETYPE_ID, INITCAP(A.SBLSTR_IPD_CHARGETYPE_NAME) FROM SBLT_IPD_CHARGETYPE_MST A WHERE SBLNUM_CHARGETYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 ORDER BY A.SBLSTR_IPD_CHARGETYPE_NAME 

gbl.ipdchargetype.1 = SELECT A.SBLNUM_IPD_CHARGETYPE_ID, INITCAP(A.SBLSTR_IPD_CHARGETYPE_NAME) FROM SBLT_IPD_CHARGETYPE_MST A WHERE SBLNUM_CHARGETYPE_ID \= \#1\# AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 ORDER BY A.SBLSTR_IPD_CHARGETYPE_NAME 

//Service Detail [LINKING WITH OTHER SYSTEM]
--------------------------------------------------
gbl.service.0 = SELECT A.SBLNUM_SERVICE_ID,A.SBLSTR_QRY_INDEX, DECODE(A.SBLNUM_CHARGE_DEFINED,1,A.SBLSTR_RATEQRY_INDEX,'-1'), A.SBLNUM_SERVICE_TYPE, INITCAP(A.SBLSTR_SERVICE_NAME) FROM SBLT_SERVICE_MST A WHERE TRUNC(A.GDT_EFFECTIVE_DATE) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1
gbl.service.cond.0 = ORDER BY INITCAP(A.SBLSTR_SERVICE_NAME)

//Group Details
------------------------
gbl.group.0 = SELECT HBLNUM_GROUP_ID,HBLNUM_IS_PACKAGE, INITCAP(HBLSTR_GROUP_NAME) FROM HBLT_GROUP_MST  WHERE  GNUM_HOSPITAL_CODE \= ?
gbl.group.cond.0 = HBLNUM_IS_PACKAGE = ?
gbl.group.cond.1 = TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND HBLNUM_IS_VISIBLE \= 1 AND GNUM_ISVALID \= 1
gbl.group.cond.2 = SELECT 'X' FROM HBLT_HSERVICE_GROUP_MST WHERE HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID AND SBLNUM_CHARGETYPE_ID \= ?
gbl.group.cond.3 = ORDER BY INITCAP(A.HBLSTR_GROUP_NAME)

gbl.group.1 = SELECT HBLNUM_GROUP_ID,BILL_MST.GETGROUPNAME(HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE) AS GROUP_NAME FROM HBLT_HSERVICE_GROUP_MST WHERE GNUM_ISVALID \= 1 AND SBLNUM_CHARGETYPE_ID \= \#1\# AND GNUM_HOSPITAL_CODE \= ? ORDER BY  GROUP_NAME DESC

//Tariff Master
---------------------
gbl.tariff.0 = SELECT A.HBLNUM_TARIFF_ID,NVL(GSTR_TARIFF_ID,'0'),HBLNUM_DEFAULT_UNIT, INITCAP(A.HBLSTR_TARIFF_NAME) FROM HBLT_TARIFF_MST A WHERE  A.GNUM_HOSPITAL_CODE \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 AND HBLNUM_IS_PACKAGE\=0 AND HBLNUM_GROUP_ID \= ?
			   
gbl.tariff.cond.0 = ORDER BY INITCAP(A.HBLSTR_TARIFF_NAME)

gbl.tariff1.0 = SELECT A.HBLNUM_TARIFF_ID,NVL(GSTR_TARIFF_ID,-1),HBLNUM_DEFAULT_UNIT, INITCAP(A.HBLSTR_TARIFF_NAME) FROM HBLT_TARIFF_MST A WHERE  A.GNUM_HOSPITAL_CODE \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 AND HBLNUM_IS_PACKAGE\=1 AND HBLNUM_GROUP_ID\= ? ORDER BY A.HBLSTR_TARIFF_NAME

//Package Service Master
------------------------------
gbl.package.0 = SELECT A.HBLNUM_TARIFF_ID, A.HBLNUM_GROUP_ID, NVL(HBLNUM_QTY,0), NVL(GNUM_UNIT_ID,-1),BILL_MST.GetTariffName(HBLNUM_TARIFF_ID) TRF_NAME FROM HBLT_PACKAGE_SERVICE_MST A WHERE HBLNUM_PACKAGE_ID \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1
gbl.package.cond.0 = ORDER BY TRF_NAME
-------------------
gbl.charge.0 = SELECT A.HBLNUM_TARIFF_ID||'^'||A.HBLNUM_CHARGE_SLNO||'^'|| NVL(A.HBLNUM_PROCEDURE_COST,0)||'^'||NVL(A.HBLNUM_TARIFF_COST,0)||'^'|| NVL(A.HBLNUM_COST,0)||'^'||NVL(A.GNUM_UNIT_ID,'-1'), A.HBLNUM_IS_ADVANCE,A.HBLNUM_IS_REFUNDABLE, BILL_MST.gettariffname(A.HBLNUM_TARIFF_ID) TRF_NAME FROM HBLT_CHARGE_MST A WHERE A.SBLNUM_CHARGETYPE_ID \= ? AND A.GNUM_PATIENT_CAT_CODE \= ?
gbl.charge.cond.0 = A.SBLNUM_IPD_CHARGETYPE_ID = BILL_MST.GetIPDChargeTypeName(-1,?)
gbl.charge.cond.1 = A.HBLNUM_GROUP_ID = ?
gbl.charge.cond.2 = TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1
gbl.charge.cond.3 = ORDER BY TRF_NAME

//Remarks Details
-----------------------
gbl.remarks.0 = SELECT HBLNUM_REMARKS_ID, SBLNUM_REMARKS_TYPE, INITCAP(HBLSTR_REMARKS) \
				FROM HBLT_REMARKS_MST
gbl.remarks.cond.0 = SBLNUM_REMARKS_TYPE = ?
gbl.remarks.cond.1 = TRUNC(GDT_EFFECTIVE_FRM) <= TRUNC(SYSDATE) AND GNUM_ISVALID = 1
gbl.remarks.cond.2 = ORDER BY INITCAP(HBLSTR_REMARKS)

//Unit Master
gbl.unit.0 = SELECT DISTINCT  GNUM_UNIT_ID, INITCAP(GSTR_UNIT_NAME) AS UNIT_NAME FROM GBLT_UNIT_MST A WHERE A.GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= 1 AND GNUM_MODULE_ID \= SUBSTR( ? ,1,2) AND GNUM_UNIT_LEVEL \= (SELECT GNUM_UNIT_LEVEL FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \= ? AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND GNUM_ISVALID \= 1  ) ORDER BY UNIT_NAME

gbl.unit.cond.0 = A.GNUM_UNIT_LEVEL = ?

gbl.unit.cond.1 = SELECT 'X' FROM GBLT_UNITVALUE_MST WHERE GNUM_TOUNIT_ID \= A.GNUM_UNIT_ID

gbl.unit.cond.2 = TRUNC(A.GDT_EFFECTIVE_FRM) <= TRUNC(SYSDATE) AND A.GNUM_ISVALID = 1

gbl.unit.cond.3 = ORDER BY INITCAP(A.GSTR_UNIT_NAME)

gbl.unit.cond.4 = GNUM_ISVALID = ?
-----------------------------
gbl.setup.0 = SELECT HBLSTR_PARAM_NAME, HBLSTR_PARAM_VALUE \
				FROM HBLT_BILLING_PARAMETER_DTL
gbl.setup.cond.0 = HBLNUM_PARAM_TYPE = ?
gbl.setup.cond.1 = ORDER BY HBLSTR_PARAM_NAME

//Module Master
--------------------
gbl.module.0 = SELECT A.GNUM_MODULE_ID, INITCAP(A.GSTR_MODULE_NAME) FROM GBLT_METATABLE_TYPE_MST A WHERE A.GBL_ISVALID \= 1
gbl.module.cond.0 = ORDER BY INITCAP(A.GSTR_MODULE_NAME)

//Ward Combo Query
gbl.ward.0 = SELECT A.HANUM_WARD_CODE, INITCAP(A.HASTR_WARD_NAME) FROM HGBT_WARD_MST A WHERE A.HABL_ISVALID \= 1
gbl.ward.cond.0 = ORDER BY INITCAP(A.HASTR_WARD_NAME) 

//Department Master
----------------------
gbl.dept.0 = SELECT A.GNUM_DEPT_CODE||'^'||A.GNUM_DEPT_SLNO, NVL(GSTR_DEPT_SHORT,''), INITCAP(A.GSTR_DEPT_NAME) \
				FROM GBLT_DEPARTMENT_MST A
gbl.dept.cond.0 = GNUM_DEPT_TYPE = ?
gbl.dept.cond.1 = TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1
gbl.dept.cond.2 = ORDER BY INITCAP(A.GSTR_DEPT_NAME)

//Location Master
gbl.location.0 = SELECT A.GNUM_LOCATION_CODE, NVL(A.GSTR_ROOM_NO,'/'), NVL(A.GSTR_FLOOR,'/'), \
					NVL(A.GSTR_BUILDING,'/'),NVL(A.GSTR_LANDMARK,'/'),INITCAP(A.GSTR_DESCRIPTION) \
					FROM GBLT_LOCATION_MST A
gbl.location.cond.0 = A.GNUM_LOC_TYPE_CODE = ?
gbl.location.cond.1 = TRUNC(NVL(A.GDT_EFFECT_DATE,SYSDATE)) <= TRUNC(SYSDATE) AND A.GBL_ISVALID = 1
gbl.location.cond.2 = ORDER BY INITCAP(A.GSTR_DESCRIPTION)
 
//Category Master
gbl.cat.0 = SELECT GNUM_PATIENT_CAT_CODE||'^'||GNUM_CAT_SLNO, NVL(GSTR_PATIENT_CAT_SHORT,''),INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A ORDER BY INITCAP(A.GSTR_PATIENT_CAT_NAME) 
			
gbl.cat.1 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=1 AND GNUM_PATIENT_CAT_CODE NOT IN (SELECT GNUM_PATIENT_CAT_CODE FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_GROUP_ID\= ? AND HBLNUM_TARIFF_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND SBLNUM_IPD_CHARGETYPE_ID \=? AND GNUM_ISVALID IN(1,2)) ORDER BY  INITCAP(A.GSTR_PATIENT_CAT_NAME) 

gbl.cat.x = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A  WHERE GNUM_HOSPITAL_CODE\= ? AND GNUM_ISVALID\=1 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)


gbl.cat.cond.0 = GNUM_PATIENT_CAT_TYPE = ?
gbl.cat.cond.1 = TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1
gbl.cat.cond.2 = ORDER BY INITCAP(A.GSTR_PATIENT_CAT_NAME) 


//*********************************** END GLOBAL QUERY *******************************************//


/*************************************************************************************************/


/****************************** update statements *********************************/
/*	Client Master\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   */\t\t\t\t\t\t\t\t\t\t\t\t
/**********************************************************************************/

/******* Counter Master Select Queries ((change by pawan after changes in table (removal of buiding id,block id,floor id and addition of column "location")********/

select.chargeMst.0= SELECT A.GNUM_HOSPITAL_CODE || '@'|| A.SBLNUM_CHARGETYPE_ID || '@'|| A.HBLNUM_TARIFF_ID|| '@'|| A.GNUM_PATIENT_CAT_CODE|| '@'|| A.SBLNUM_IPD_CHARGETYPE_ID|| '@'|| A.HBLNUM_CHARGE_SLNO|| '|'|| A.HBLNUM_IS_PACKAGE|| '|'|| A.flag||'|'||a.effectfrom||'|'||A.HBLNUM_GROUP_ID||'^'|| TRIM(A.TARIFF_CODE)|| '^'|| TRIM(A.TARIFF_NAME)|| '^'||A.PATIENT_CATEGORY_NAME||'^'|| A.HBLNUM_COST|| ' / '|| A.RATE_UNIT ||'^'|| DECODE (A.HBLNUM_IS_PACKAGE, 1, 'Yes', 0, 'No') ||'^'|| A.VALIDITY AS DATA FROM (   SELECT decode(nvl(to_char(GDT_EFFECTIVE_TO ,'dd-mon-yyyy'),'1'),'1','1','0') as flag, SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_GROUP_ID, HBLNUM_CHARGE_SLNO,BILL_MST.GETGROUPNAME (HBLNUM_GROUP_ID, GNUM_HOSPITAL_CODE) AS GROUP_NAME, BILL_MST.GETTARIFFCODE (HBLNUM_TARIFF_ID, GNUM_HOSPITAL_CODE) AS TARIFF_CODE,BILL_MST.GETTARIFFNAME (HBLNUM_TARIFF_ID, 0, GNUM_HOSPITAL_CODE) AS TARIFF_NAME,BILL_MST.GET_CATEGORY_NAME(GNUM_HOSPITAL_CODE,GNUM_PATIENT_CAT_CODE) AS PATIENT_CATEGORY_NAME,HBLNUM_COST, BILL_MST.GETUNITNAME (GNUM_HOSPITAL_CODE, GNUM_UNIT_ID) AS RATE_UNIT,to_char(GDT_EFFECTIVE_FRM,'DD/Mon/YYYY') as effectfrom, GDT_EFFECTIVE_TO,HBLNUM_IS_PACKAGE, GNUM_HOSPITAL_CODE, to_char(GDT_EFFECTIVE_FRM,'DD/Mon/YYYY')|| '-' || NVL(to_char(GDT_EFFECTIVE_TO,'DD/Mon/YYYY'),'') AS VALIDITY FROM HBLT_CHARGE_MST C WHERE ( to_date( to_char(sysdate,'dd-mon-yyyy'),'dd-mon-yyyy') between to_date(to_char(C.GDT_EFFECTIVE_FRM,'dd-mon-yyyy'),'dd-mon-yyyy') and NVL (to_date(to_char(C.GDT_EFFECTIVE_TO,'dd-mon-yyyy'),'dd-mon-yyyy'), to_date( to_char(sysdate,'dd-mon-yyyy'),'dd-mon-yyyy')) or trunc(sysdate) < to_date(to_char(C.GDT_EFFECTIVE_FRM,'dd-mon-yyyy'),'dd-mon-yyyy') ) AND C.GNUM_ISVALID \= 1 ) A WHERE  A.GNUM_HOSPITAL_CODE \= ?
						
select.chargeMst.cond.0 =	A.SBLNUM_CHARGETYPE_ID = ?
select.chargeMst.cond.3 =  	A.HBLNUM_GROUP_ID = ? 
select.chargeMst.cond.1 =	A.GNUM_PATIENT_CAT_CODE = ?			
select.chargeMst.cond.2 =	A.SBLNUM_IPD_CHARGETYPE_ID = ?
select.cmbName.0 = select BILL_MST.getchargetypename(?,?),BILL_MST.gettariffname(?,0,?), \
                   AHIS_FUNCTION.getCategoryName(?,?),BILL_MST.getUnitName(?,?), \
                   BILL_MST.getipdchargetypename(?,0,0,?),BILL_MST.getgroupname(?,?) from dual
--------------------------------
select.chargeMst.1 =SELECT HBLNUM_GROUP_ID,BILL_MST.GETGROUPNAME(HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE) FROM HBLT_HSERVICE_GROUP_MST WHERE SBLNUM_CHARGETYPE_ID \= ? AND TRUNC(GDT_EFFECTIVE_FRM)<\=TRUNC(SYSDATE) and GNUM_HOSPITAL_CODE \= ? 
select.chargeMst.2 =SELECT HBLNUM_TARIFF_ID||'\#'||HBLNUM_DEFAULT_UNIT, Trim(HBLSTR_TARIFF_NAME) FROM HBLT_TARIFF_MST WHERE HBLNUM_GROUP_ID \= ?\tand\tTRUNC(GDT_EFFECTIVE_FRM)<\= TRUNC(SYSDATE) and GNUM_HOSPITAL_CODE \= ?\t\t\t\t\t
-------------------------------
select.chargeMst.3 =SELECT GNUM_UNIT_ID, GSTR_UNIT_NAME FROM GBLT_UNIT_MST A WHERE EXISTS(SELECT 'x' FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \= ? AND GNUM_UNIT_LEVEL \= A.GNUM_UNIT_LEVEL and GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE) and GNUM_HOSPITAL_CODE \= ?\t
---------------------------------------------------------------------
gbl.unitMst.0 =SELECT GNUM_UNIT_LEVEL FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= 1
----------------------------------------------------------------------
select.chargeMst.4 = SELECT HBLNUM_TARIFF_ID, TRIM(BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE)) AS TRF_NAME, NVL(HBLNUM_QTY,0),GNUM_UNIT_ID, TRIM(BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_UNIT_ID)) AS UNIT_NAME FROM HBLT_PACKAGE_SERVICE_MST WHERE GNUM_ISVALID \= 1 AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_PACKAGE_ID \= ? ORDER BY TRF_NAME
-----------------------------------------------
select.chargeMst.5 =SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, TO_CHAR(GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')), TO_CHAR(GDT_EFFECTIVE_TO,('DD-Mon-YYYY')), GSTR_REMARKS, GNUM_SEATID, HBLNUM_IS_PACKAGE,SBLNUM_IPD_CHARGETYPE_ID, (SELECT SBLSTR_IPD_CHARGETYPE_NAME FROM SBLT_IPD_CHARGETYPE_MST WHERE SBLNUM_IPD_CHARGETYPE_ID\=A.SBLNUM_IPD_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AS WARD_TYPE, TRIM(BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE)) AS TRF_NAME, (select INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST where GNUM_PATIENT_CAT_CODE\=a.GNUM_PATIENT_CAT_CODE  and GNUM_HOSPITAL_CODE \= ? and gnum_isvalid\=1 and rownum\=1) as patcatname, GNUM_UNIT_ID, decode(GDT_EFFECTIVE_TO,null,0,1) as dtflag FROM HBLT_CHARGE_MST a WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID\=? and HBLNUM_GROUP_ID \= ? AND (TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) OR TRUNC(SYSDATE) < TRUNC(GDT_EFFECTIVE_FRM)) AND GNUM_ISVALID \= 1 ORDER BY SBLNUM_CHARGETYPE_ID,a.SBLNUM_IPD_CHARGETYPE_ID
						
select.chargeMst.55 =SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, TO_CHAR(GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')), TO_CHAR(GDT_EFFECTIVE_TO,('DD-Mon-YYYY')), GSTR_REMARKS, GNUM_SEATID, HBLNUM_IS_PACKAGE,SBLNUM_IPD_CHARGETYPE_ID, (SELECT SBLSTR_IPD_CHARGETYPE_NAME FROM SBLT_IPD_CHARGETYPE_MST WHERE SBLNUM_IPD_CHARGETYPE_ID\=A.SBLNUM_IPD_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE\=A.GNUM_HOSPITAL_CODE) AS WARD_TYPE, TRIM(BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE)) AS TRF_NAME, AHIS_UTIL.CAT_DTL(A.GNUM_PATIENT_CAT_CODE) as patcatname, GNUM_UNIT_ID, decode(GDT_EFFECTIVE_TO,null,0,1) as dtflag FROM HBLT_CHARGE_MST a WHERE HBLNUM_CHARGE_SLNO \= ? AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND HBLNUM_TARIFF_ID \= ? ORDER BY SBLNUM_CHARGETYPE_ID,a.SBLNUM_IPD_CHARGETYPE_ID\t\t\t\t\t\t
						
						
select.chargeMst.6 =SELECT HBLNUM_TARIFF_ID,TRIM(BILL_MST.gettariffname(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE)), HBLNUM_TARIFF_QTY, GNUM_RATE_UNIT_ID,TRIM(Bill_mst.getUnitName(GNUM_HOSPITAL_CODE,GNUM_RATE_UNIT_ID)), HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST,HBLNUM_COST, HBLNUM_ISREFUNDABLE FROM HBLT_PACKAGE_CHARGE_MST WHERE GNUM_ISVALID \= 1 AND TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECTIVE_FRM)  AND TRUNC(NVL(GDT_EFFECTIVE_TO , SYSDATE)) AND GNUM_HOSPITAL_CODE\=? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_PACKAGE_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=?
---------------------------------------------------------------------------------
select.chargeMst.7 = SELECT count(*) from HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \=? AND SBLNUM_CHARGETYPE_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) < TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(DECODE(NVL(?,''),'',GDT_EFFECTIVE_FRM,TO_DATE(?,'DD-MON-YYYY'))) >\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_ISVALID \!\= 0 
select.chargeMst.8 =SELECT count(*) FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND ((TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(TO_DATE(?,'DD-MM-YYYY')) AND TRUNC(GDT_EFFECTIVE_TO) >\= TRUNC(TO_DATE(?,'DD-MM-YYYY')) AND GDT_EFFECTIVE_TO IS NOT NULL) OR (TRUNC(GDT_EFFECTIVE_FRM) \= TRUNC(TO_DATE(?,'DD-MM-YYYY')) AND ((GDT_EFFECTIVE_TO IS NULL) OR (LENGTH(TRIM(GDT_EFFECTIVE_TO)) \= 0)))) AND GNUM_ISVALID \!\= 0\t\t\t\t\t\t
----------------------------------------------------------------------------------					
select.chargeMst.9 = SELECT count(*) FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND TRUNC(TO_DATE(?,'DD-MM-YYYY')) < TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(DECODE(NVL(?,''),'',GDT_EFFECTIVE_FRM,TO_DATE(?,'DD-MM-YYYY'))) >\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_ISVALID \!\= 0
-------------------------
select.chargeMst.11 =SELECT C.HBLSTR_TARIFF_CODE , C.HBLSTR_TARIFF_NAME,BILL_MST.GET_CATEGORY_NAME(A.GNUM_HOSPITAL_CODE,A.GNUM_PATIENT_CAT_CODE) AS PATIENT_CATEGORY_NAME , \
					 A.HBLNUM_PROCEDURE_COST, A.HBLNUM_TARIFF_COST, A.HBLNUM_COST, DECODE (A.HBLNUM_IS_PACKAGE, 1, 'Yes', 0, 'No'), \
					 DECODE (A.HBLNUM_IS_ADVANCE, 1, 'Yes', 0, 'No'), DECODE (A.HBLNUM_IS_REFUNDABLE, 1, 'Yes', 0, 'No'), TO_CHAR(A.GDT_EFFECTIVE_FRM,'dd-Mon-yyyy'),NVL(TO_CHAR( A.GDT_EFFECTIVE_TO,'dd-Mon-yyyy'),' '), NVL(A.GSTR_REMARKS,' ') \
					 FROM HBLT_CHARGE_MST A, HBLT_GROUP_MST B, HBLT_TARIFF_MST C \
					 WHERE A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE \= C.GNUM_HOSPITAL_CODE AND A.HBLNUM_GROUP_ID \= B.HBLNUM_GROUP_ID  AND A.HBLNUM_TARIFF_ID \= C.HBLNUM_TARIFF_ID AND  A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? AND A.SBLNUM_CHARGETYPE_ID\=? AND A.HBLNUM_TARIFF_ID\=? \
					 AND A.GNUM_PATIENT_CAT_CODE\=? AND A.SBLNUM_IPD_CHARGETYPE_ID\=? AND A.HBLNUM_CHARGE_SLNO \= ?
				
	
						   
select.chargeMst.12  = SELECT GNUM_PATIENT_CAT_CODE, TRIM(AHIS_FUNCTION.GETCATEGORYNAME(GNUM_PATIENT_CAT_CODE,?)) AS CAT_NAME, NVL(HBLNUM_PROCEDURE_COST,0), NVL(HBLNUM_TARIFF_COST,0), NVL(HBLNUM_COST,0), DECODE(HBLNUM_IS_ADVANCE,1,'Yes','No'), DECODE(HBLNUM_IS_REFUNDABLE,1,'Yes','No'), TO_CHAR(GDT_EFFECTIVE_FRM,'DD/Mon/YYYY') || ' - ' || NVL(TO_CHAR(GDT_EFFECTIVE_TO,'DD/Mon/YYYY'),'') FROM HBLT_CHARGE_MST WHERE GNUM_ISVALID \= 1 AND(TRUNC(SYSDATE) BETWEEN TRUNC (GDT_EFFECTIVE_FRM) AND NVL (TRUNC (GDT_EFFECTIVE_TO), SYSDATE) OR TRUNC (GDT_EFFECTIVE_FRM) > TRUNC (SYSDATE)) AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID \= ?
		   
select.chargeMst.category.0 = SELECT GNUM_PATIENT_CAT_CODE FROM HBLT_CHARGE_MST  WHERE GNUM_HOSPITAL_CODE\= ? AND SBLNUM_CHARGETYPE_ID\=? AND  HBLNUM_TARIFF_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID \=? AND  HBLNUM_GROUP_ID \=? AND GNUM_ISVALID\=1 AND HBLNUM_IS_PACKAGE\= 0   
						   
	

					   
//qry for group name combo in charge master	
-------------------------------------------------
select.chargegroupcmb.0 = SELECT A.HBLNUM_GROUP_ID , \tBILL_MST.GETGROUPNAME(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE) AS GROUP_NAME FROM HBLT_HSERVICE_GROUP_MST A WHERE GNUM_ISVALID \= 1 AND SYSDATE BETWEEN GDT_EFFECTIVE_FRM AND NVL(GDT_EFFECTIVE_TO,SYSDATE) AND EXISTS (SELECT 'X' FROM HBLT_GROUP_MST WHERE HBLNUM_IS_PACKAGE \= 0 AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID ) AND A.GNUM_HOSPITAL_CODE\= ? AND A.SBLNUM_CHARGETYPE_ID \= ? ORDER BY  GROUP_NAME\t
                          
select.chargegroupcmb1.0 = SELECT A.HBLNUM_GROUP_ID , \tBILL_MST.GETGROUPNAME(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE) AS GROUP_NAME FROM HBLT_HSERVICE_GROUP_MST A WHERE GNUM_ISVALID \= 1 AND SYSDATE BETWEEN GDT_EFFECTIVE_FRM AND NVL(GDT_EFFECTIVE_TO,SYSDATE) AND A.GNUM_HOSPITAL_CODE\= ? AND A.SBLNUM_CHARGETYPE_ID \= ? ORDER BY  GROUP_NAME\t                        \t\t\t\t   

 
insert.chargeMst.0 =INSERT INTO HBLT_CHARGE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, GNUM_UNIT_ID, GNUM_PATIENT_CAT_CODE, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_IS_PACKAGE) VALUES(?,?,?,?,BILL_MST.getchargeslno(?,?,?,?,?),?,?,?,?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?,?,?)
						
insert.chargeMst.1 =INSERT INTO HBLT_PACKAGE_CHARGE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, GNUM_RATE_UNIT_ID , HBLNUM_PKGCHARGE_SLNO, HBLNUM_TARIFF_ID , HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_ISREFUNDABLE, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_TARIFF_QTY) VALUES (?,?,?,?,?,?,BILL_MST.getpackagechargeslno(?,?,?,?,?,?),?,?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?,?,?)
						
insert.chargeMst.2 =INSERT INTO HBLT_CHARGE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, GNUM_UNIT_ID, GNUM_PATIENT_CAT_CODE, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_IS_PACKAGE) VALUES(?,?,?,?,BILL_MST.GetChargeSlno(?,?,?,?,?),?,?,?,?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?,?,?)
						
insert.chargeMst.3 =INSERT INTO HBLT_PACKAGE_CHARGE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, GNUM_RATE_UNIT_ID, HBLNUM_PKGCHARGE_SLNO, HBLNUM_TARIFF_ID, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_ISREFUNDABLE, GDT_EFFECTIVE_FRM, GNUM_SEATID, GNUM_ISVALID) VALUES (?,?,?,?,?,?,BILL_MST.GetPackageChargeSlno(?,?,?,?,?,?),?,?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?)
---------------------------------------					
insert.chargeMst.40 =INSERT INTO HBLT_CHARGE_MST(SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, GDT_EFFECTIVE_FRM, GDT_EFFECTIVE_TO, GDT_ENTRY_DATE, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_IS_PACKAGE) SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, BILL_MST.GetChargeSlno(SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE,SBLNUM_IPD_CHARGETYPE_ID,GNUM_HOSPITAL_CODE), HBLNUM_GROUP_ID, ROUND(HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?),2), ROUND(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?),2), ROUND((HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?))+(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?)),2), GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, TO_DATE(?,'DD-MON-YYYY'), TO_DATE(?,'DD-MON-YYYY'), SYSDATE, NULL,NULL, GSTR_REMARKS, ?, '1',HBLNUM_IS_PACKAGE FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1
						
						
insert.chargeMst.4 = INSERT INTO hblt_charge_mst (gnum_hospital_code, sblnum_chargetype_id, hblnum_tariff_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_charge_slno, hblnum_group_id, hblnum_procedure_cost, hblnum_tariff_cost, hblnum_cost, gnum_unit_id, hblnum_is_advance, hblnum_is_refundable, gdt_effective_frm, gdt_effective_to, gdt_entry_date, gdt_lstmod_date, gnum_lstmod_seatid, gstr_remarks, gnum_seatid, gnum_isvalid, hblnum_is_package) SELECT gnum_hospital_code, sblnum_chargetype_id, hblnum_tariff_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, bill_mst.getchargeslno (sblnum_chargetype_id, hblnum_tariff_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, gnum_hospital_code ), hblnum_group_id, ROUND (hblnum_procedure_cost + (hblnum_procedure_cost * ?), 2), ROUND (hblnum_tariff_cost + (hblnum_tariff_cost * ?), 2), ROUND (  (hblnum_procedure_cost + (hblnum_procedure_cost * ?)) + (hblnum_tariff_cost + (hblnum_tariff_cost * ?)),2), gnum_unit_id, hblnum_is_advance, hblnum_is_refundable, TO_DATE (?, 'DD-MON-YYYY'), TO_DATE (?, 'DD-MON-YYYY'), SYSDATE, NULL, NULL, gstr_remarks, ?, '1', hblnum_is_package FROM hblt_charge_mst WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND TRUNC (gdt_effective_frm) <\= TRUNC (SYSDATE) AND TRUNC (NVL (gdt_effective_to, SYSDATE)) >\= TRUNC (SYSDATE) AND gnum_isvalid \= 1\t\t\t\t\t\t
						
insert.chargeMst.50 =INSERT INTO HBLT_PACKAGE_CHARGE_MST (SBLNUM_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, HBLNUM_PKGCHARGE_SLNO, GNUM_UNIT_ID, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_ISREFUNDABLE, GDT_EFFECTIVE_FRM, GDT_EFFECTIVE_TO, GDT_ENTRY_DATE, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GNUM_SEATID, GSTR_REMARKS, GNUM_ISVALID) SELECT SBLNUM_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, BILL_MST.GetChargeSlno(SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE,SBLNUM_IPD_CHARGETYPE_ID)-1, GNUM_UNIT_ID, HBLNUM_GROUP_ID, ROUND(HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?),2), ROUND(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?),2), ROUND((HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?))+(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?)),2), HBLNUM_ISREFUNDABLE, TO_DATE(?,'DD-MON-YYYY'), TO_DATE(?,'DD-MON-YYYY'), SYSDATE, NULL, NULL, ?, GSTR_REMARKS, '1' FROM HBLT_PACKAGE_CHARGE_MST WHERE SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1
						
insert.chargeMst.5 = INSERT INTO hblt_package_charge_mst (gnum_hospital_code, sblnum_chargetype_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_package_id, hblnum_tariff_id, hblnum_pkgcharge_slno, gnum_rate_unit_id, hblnum_group_id, hblnum_procedure_cost, hblnum_tariff_cost, hblnum_cost, hblnum_isrefundable, gdt_effective_frm, gdt_effective_to, gdt_entry_date, gdt_lstmod_date, gnum_lstmod_seatid, gnum_seatid, gstr_remarks, gnum_isvalid) SELECT gnum_hospital_code, sblnum_chargetype_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_package_id, hblnum_tariff_id, bill_mst.getpackagechargeslno (sblnum_chargetype_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_package_id, hblnum_tariff_id, gnum_hospital_code ) - 1, gnum_rate_unit_id, hblnum_group_id, ROUND (hblnum_procedure_cost + (hblnum_procedure_cost * ?), 2), ROUND (hblnum_tariff_cost + (hblnum_tariff_cost * ?), 2), ROUND (  (hblnum_procedure_cost + (hblnum_procedure_cost * ?)) + (hblnum_tariff_cost + (hblnum_tariff_cost * ?)),2 ), hblnum_isrefundable, TO_DATE (?, 'DD-MON-YYYY'), TO_DATE (?, 'DD-MON-YYYY'), SYSDATE, NULL, NULL, ?, gstr_remarks, '1' FROM hblt_package_charge_mst WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND TRUNC (gdt_effective_frm) <\= TRUNC (SYSDATE) AND TRUNC (NVL (gdt_effective_to, SYSDATE)) >\= TRUNC (SYSDATE) AND gnum_isvalid \= 1\t\t\t\t\t\t
---------------------------
insert.chargeMst.60 =INSERT INTO HBLT_CHARGE_MST(SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, GDT_EFFECTIVE_FRM, GDT_EFFECTIVE_TO, GDT_ENTRY_DATE, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_IS_PACKAGE) SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, ?, ?, BILL_MST.GetChargeSlno(SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, ?,?), HBLNUM_GROUP_ID, ROUND(HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?),2), ROUND(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?),2), ROUND((HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?))+(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?)),2), GNUM_UNIT_ID, HBLNUM_IS_ADVANCE, HBLNUM_IS_REFUNDABLE, TO_DATE(?,'DD-MON-YYYY'), TO_DATE(?,'DD-MON-YYYY'), SYSDATE, NULL, NULL, GSTR_REMARKS, ?, '1',HBLNUM_IS_PACKAGE FROM HBLT_CHARGE_MST A WHERE SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND NOT EXISTS ( SELECT 'X' FROM HBLT_CHARGE_MST WHERE SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND (TRUNC(TO_DATE(?,'DD-MON-YYYY')) >\= TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(NVL(GDT_EFFECTIVE_TO,TO_DATE(?,'DD-MON-YYYY'))) OR ((? IS NULL AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(GDT_EFFECTIVE_FRM)) OR (? IS NOT NULL AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) >\= TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(NVL(GDT_EFFECTIVE_TO,TO_DATE(?,'DD-MON-YYYY'))))) ) AND GNUM_ISVALID \= 1 ) AND GNUM_ISVALID \= 1
						
insert.chargeMst.6 = INSERT INTO hblt_charge_mst ( gnum_hospital_code,sblnum_chargetype_id, hblnum_tariff_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_charge_slno, hblnum_group_id, hblnum_procedure_cost, hblnum_tariff_cost, hblnum_cost, gnum_unit_id, hblnum_is_advance, hblnum_is_refundable, gdt_effective_frm, gdt_effective_to, gdt_entry_date, gdt_lstmod_date, gnum_lstmod_seatid, gstr_remarks, gnum_seatid, gnum_isvalid, hblnum_is_package) SELECT gnum_hospital_code,sblnum_chargetype_id, hblnum_tariff_id, ?,?, bill_mst.getchargeslno (sblnum_chargetype_id, hblnum_tariff_id, ?, ?, gnum_hospital_code), hblnum_group_id, ROUND (hblnum_procedure_cost + (hblnum_procedure_cost * ?), 2), ROUND (hblnum_tariff_cost + (hblnum_tariff_cost * ?), 2), ROUND (  (hblnum_procedure_cost + (hblnum_procedure_cost * ?)) + (hblnum_tariff_cost + (hblnum_tariff_cost * ?)),2 ), gnum_unit_id, hblnum_is_advance, hblnum_is_refundable, TO_DATE (?, 'DD-MON-YYYY'), TO_DATE (?, 'DD-MON-YYYY'), SYSDATE, NULL, NULL, gstr_remarks, ?, '1', hblnum_is_package FROM hblt_charge_mst a WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND TRUNC (gdt_effective_frm) <\= TRUNC (SYSDATE) AND TRUNC (NVL (a.gdt_effective_to, SYSDATE)) >\= TRUNC (SYSDATE) AND NOT EXISTS ( SELECT 'X' FROM hblt_charge_mst WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND hblnum_tariff_id \= a.hblnum_tariff_id AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND (TRUNC (TO_DATE (?, 'DD-MON-YYYY')) >\= TRUNC (gdt_effective_frm) AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (NVL (gdt_effective_to, TO_DATE (?,'DD-MON-YYYY'))) OR ((? IS NULL AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (gdt_effective_frm)) OR (? IS NOT NULL AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) >\= TRUNC (gdt_effective_frm) AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (NVL (gdt_effective_to, TO_DATE (?,'DD-MON-YYYY')))))) AND gnum_isvalid \= 1) AND gnum_isvalid \= 1 \t\t\t\t\t
						
insert.chargeMst.70 =INSERT INTO HBLT_PACKAGE_CHARGE_MST(SBLNUM_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, HBLNUM_PKGCHARGE_SLNO, GNUM_UNIT_ID, HBLNUM_GROUP_ID, HBLNUM_PROCEDURE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST, HBLNUM_ISREFUNDABLE, GDT_EFFECTIVE_FRM, GDT_EFFECTIVE_TO, GDT_ENTRY_DATE, GDT_LSTMOD_DATE, GNUM_LSTMOD_SEATID, GNUM_SEATID, GSTR_REMARKS, GNUM_ISVALID) SELECT SBLNUM_CHARGETYPE_ID, ?, ?, HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, BILL_MST.GetChargeSlno(SBLNUM_CHARGETYPE_ID, HBLNUM_PACKAGE_ID, ?,?), GNUM_UNIT_ID, HBLNUM_GROUP_ID, ROUND(HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?),2), ROUND(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?),2), ROUND((HBLNUM_PROCEDURE_COST + (HBLNUM_PROCEDURE_COST * ?))+(HBLNUM_TARIFF_COST + (HBLNUM_TARIFF_COST * ?)),2), HBLNUM_ISREFUNDABLE, TO_DATE(?,'DD-MON-YYYY'), TO_DATE(?,'DD-MON-YYYY'), SYSDATE, NULL, NULL, ?, GSTR_REMARKS, '1' FROM HBLT_PACKAGE_CHARGE_MST A WHERE SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND NOT EXISTS ( SELECT 'X' FROM HBLT_PACKAGE_CHARGE_MST WHERE SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_PACKAGE_ID \= A.HBLNUM_PACKAGE_ID AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \= ? AND (TRUNC(TO_DATE(?,'DD-MON-YYYY')) >\= TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(NVL(GDT_EFFECTIVE_TO,TO_DATE(?,'DD-MON-YYYY'))) OR ((? IS NULL AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(GDT_EFFECTIVE_FRM)) OR (? IS NOT NULL AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) >\= TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) <\= TRUNC(NVL(GDT_EFFECTIVE_TO,TO_DATE(?,'DD-MON-YYYY'))))) ) AND GNUM_ISVALID \= 1 ) AND GNUM_ISVALID \= 1\t\t
						 
insert.chargeMst.7 = INSERT INTO hblt_package_charge_mst (gnum_hospital_code, sblnum_chargetype_id, gnum_patient_cat_code, sblnum_ipd_chargetype_id, hblnum_package_id, hblnum_tariff_id, hblnum_pkgcharge_slno, gnum_rate_unit_id, hblnum_group_id, hblnum_procedure_cost, hblnum_tariff_cost, hblnum_cost, hblnum_isrefundable, gdt_effective_frm, gdt_effective_to, gdt_entry_date, gdt_lstmod_date, gnum_lstmod_seatid, gnum_seatid, gstr_remarks, gnum_isvalid) SELECT gnum_hospital_code, sblnum_chargetype_id, ?, ?, hblnum_package_id, hblnum_tariff_id, bill_mst.getpackagechargeslno (sblnum_chargetype_id, ?,?, hblnum_package_id, hblnum_tariff_id, gnum_hospital_code ), gnum_rate_unit_id, hblnum_group_id, ROUND (hblnum_procedure_cost + (hblnum_procedure_cost * ?), 2), ROUND (hblnum_tariff_cost + (hblnum_tariff_cost * ?), 2), ROUND (  (hblnum_procedure_cost + (hblnum_procedure_cost * ?)) + (hblnum_tariff_cost + (hblnum_tariff_cost * ?)),2), hblnum_isrefundable, TO_DATE (?, 'DD-MON-YYYY'), TO_DATE (?, 'DD-MON-YYYY'), SYSDATE, NULL, NULL, ?, gstr_remarks, '1' FROM hblt_package_charge_mst a WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND TRUNC (gdt_effective_frm) <\= TRUNC (SYSDATE) AND TRUNC (NVL (a.gdt_effective_to, SYSDATE)) >\= TRUNC (SYSDATE) AND NOT EXISTS ( SELECT 'X' FROM hblt_package_charge_mst WHERE gnum_hospital_code \= ? AND sblnum_chargetype_id \= ? AND hblnum_package_id \= a.hblnum_package_id AND gnum_patient_cat_code \= ? AND sblnum_ipd_chargetype_id \= ? AND hblnum_group_id \= ? AND (TRUNC (TO_DATE (?, 'DD-MON-YYYY')) >\= TRUNC (gdt_effective_frm) AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (NVL (gdt_effective_to, TO_DATE (?,'DD-MON-YYYY'))) OR ((? IS NULL AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (gdt_effective_frm)) OR (? IS NOT NULL AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) >\= TRUNC (gdt_effective_frm) AND TRUNC (TO_DATE (?, 'DD-MON-YYYY')) <\= TRUNC (NVL (gdt_effective_to, TO_DATE (?,'DD-MON-YYYY')))))) AND gnum_isvalid \= 1) AND gnum_isvalid \= 1\t\t\t\t\t\t
----------------------------
delete.chargeMst.0 =UPDATE HBLT_CHARGE_MST SET GNUM_ISVALID \= 0, GDT_EFFECTIVE_TO \= null, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= GNUM_SEATID WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=?  AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CHARGE_SLNO\= ?\t --AND TO_DATE(GDT_EFFECTIVE_TO,'dd-Mon-yyyy') \= TO_DATE(?,'dd-Mon-yyyy') - 1\t


delete.chargeMst.1 =UPDATE HBLT_PACKAGE_CHARGE_MST SET GNUM_ISVALID \= 0, GDT_EFFECTIVE_TO \= null, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= GNUM_SEATID WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_PACKAGE_ID\=?  AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_PKGCHARGE_SLNO\= ?\t 
/**************** charge master queryies. *********************/

update.chargeMst.0 =UPDATE HBLT_CHARGE_MST SET HBLNUM_PROCEDURE_COST\=?, HBLNUM_TARIFF_COST\=?, HBLNUM_COST\=?, HBLNUM_IS_ADVANCE\=?, HBLNUM_IS_REFUNDABLE\=?, GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?, GSTR_REMARKS\=? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CHARGE_SLNO\=?
					
update.chargeMst.update =UPDATE HBLT_CHARGE_MST SET GDT_EFFECTIVE_TO\=TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-MON-YYYY'),'DD-MON-YYYY')-1,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?,GSTR_REMARKS\=? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CHARGE_SLNO\=?

update.chargeMst.111 =UPDATE HBLT_CHARGE_MST SET HBLNUM_PROCEDURE_COST\=?, HBLNUM_TARIFF_COST\=?, HBLNUM_COST\=?, HBLNUM_IS_ADVANCE\=?, HBLNUM_IS_REFUNDABLE\=?, GDT_EFFECTIVE_FRM\=to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GDT_EFFECTIVE_TO\=to_date(?,'dd-mon-yyyy')-1, GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?, GSTR_REMARKS\=? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CHARGE_SLNO\=?
					
update.chargeMst.1 =UPDATE HBLT_CHARGE_MST SET HBLNUM_PROCEDURE_COST\=?\t, HBLNUM_TARIFF_COST\=?, HBLNUM_COST\=?, HBLNUM_IS_REFUNDABLE\=?,HBLNUM_IS_ADVANCE\=?, GDT_EFFECTIVE_FRM\=to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GSTR_REMARKS\=?, GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=? WHERE GNUM_HOSPITAL_CODE \=? AND SBLNUM_CHARGETYPE_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND HBLNUM_CHARGE_SLNO\=?
						
update.chargeMst.11 = UPDATE HBLT_PACKAGE_CHARGE_MST SET GDT_EFFECTIVE_TO\= sysdate - 1, GDT_LSTMOD_DATE\=sysdate, GNUM_LSTMOD_SEATID\=?, GNUM_ISVALID\=0 WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND GNUM_PATIENT_CAT_CODE\=?  AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_PACKAGE_ID\=?\t\t\t\t\t
-----------------------------------------------------------
update.chargeMst.2 =UPDATE HBLT_CHARGE_MST SET GDT_EFFECTIVE_TO \= TO_DATE(?,'DD-MM-YYYY')-1 WHERE   GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ?  AND HBLNUM_TARIFF_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND TRUNC(TO_DATE(?,'DD-MM-YYYY')) > TRUNC(GDT_EFFECTIVE_FRM) AND ((GDT_EFFECTIVE_TO IS NULL) OR (LENGTH(TRIM(GDT_EFFECTIVE_TO)) \= 0)) AND GNUM_ISVALID \!\= 0
update.chargeMst.3 =UPDATE HBLT_CHARGE_MST A SET GNUM_ISVALID \= 0,GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE  GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND EXISTS ( SELECT 'X' FROM HBLT_CHARGE_MST WHERE  GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND\tSBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID AND GNUM_PATIENT_CAT_CODE \= A.GNUM_PATIENT_CAT_CODE AND SBLNUM_IPD_CHARGETYPE_ID \= A.SBLNUM_IPD_CHARGETYPE_ID AND HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1 ) AND TRUNC(GDT_EFFECTIVE_FRM) >\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) AND (LENGTH(TRIM(NVL(?,''))) \= 0 OR TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) ) AND GNUM_ISVALID \= 1

update.chargeMst.4 =UPDATE HBLT_CHARGE_MST A SET GDT_EFFECTIVE_TO \= TRUNC(TO_DATE(?,'DD-MON-YYYY') - 1), GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND EXISTS ( SELECT 'X' FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID AND GNUM_PATIENT_CAT_CODE \= A.GNUM_PATIENT_CAT_CODE AND SBLNUM_IPD_CHARGETYPE_ID \= A.SBLNUM_IPD_CHARGETYPE_ID AND HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1 ) AND (LENGTH(TRIM(NVL(GDT_EFFECTIVE_TO,''))) \= 0 OR TRUNC(GDT_EFFECTIVE_TO) >\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) ) AND GNUM_ISVALID \= 1\t\t\t\t\t\t\t\t\t\t
						
update.chargeMst.5 =UPDATE HBLT_PACKAGE_CHARGE_MST A SET GNUM_ISVALID \= 0, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND EXISTS ( SELECT 'X' FROM HBLT_PACKAGE_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID AND GNUM_PATIENT_CAT_CODE \= A.GNUM_PATIENT_CAT_CODE AND SBLNUM_IPD_CHARGETYPE_ID \= A.SBLNUM_IPD_CHARGETYPE_ID AND HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1 ) AND TRUNC(GDT_EFFECTIVE_FRM) >\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) AND (LENGTH(TRIM(NVL(?,''))) \= 0 OR TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) ) AND GNUM_ISVALID \= 1

update.chargeMst.6 =UPDATE HBLT_PACKAGE_CHARGE_MST A SET GDT_EFFECTIVE_TO \= TRUNC(TO_DATE(?,'DD-Mon-YYYY') - 1), GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ? WHERE GNUM_HOSPITAL_CODE \=? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND EXISTS ( SELECT 'X' FROM HBLT_PACKAGE_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID AND GNUM_PATIENT_CAT_CODE \= A.GNUM_PATIENT_CAT_CODE AND SBLNUM_IPD_CHARGETYPE_ID \= A.SBLNUM_IPD_CHARGETYPE_ID AND HBLNUM_GROUP_ID \= A.HBLNUM_GROUP_ID AND TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND TRUNC(NVL(A.GDT_EFFECTIVE_TO,SYSDATE)) >\= TRUNC(SYSDATE) AND GNUM_ISVALID \= 1 ) AND (LENGTH(TRIM(NVL(GDT_EFFECTIVE_TO,''))) \= 0 OR TRUNC(GDT_EFFECTIVE_TO) >\= TRUNC(TO_DATE(?,'DD-MON-YYYY')) ) AND GNUM_ISVALID \= 1\t\t\t\t\t\t
select.tariffMst.0 = SELECT PKEY||'^'||UPPER(TARIFF_CODE)||'^'||TARIFF_NAME||'^'|| SERVICE_NAME||'^'||GTARIFFNAME  AS DATA FROM ( SELECT A.GNUM_HOSPITAL_CODE || '@' || A.HBLNUM_TARIFF_ID||'|'|| (SELECT COUNT(*) AS LOCAL_COUNT FROM HBLT_TARIFF_MST B WHERE B.GNUM_HOSPITAL_CODE\!\=100 and B.HBLNUM_TARIFF_ID\=A.HBLNUM_TARIFF_ID ) AS PKEY, TRIM(A.HBLSTR_TARIFF_CODE) AS TARIFF_CODE, BILL_MST.GETGROUPNAME(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE) AS GROUP_NAME, A.HBLNUM_GROUP_ID AS GROUP_ID , TRIM(INITCAP(HBLSTR_TARIFF_NAME)) AS TARIFF_NAME, BILL_MST.GETSERVICENAME(A.SBLNUM_SERVICE_ID,0,A.GNUM_HOSPITAL_CODE) AS SERVICE_NAME, TO_CHAR(A.GDT_EFFECTIVE_FRM,'DD-Mon-YYYY') AS EFFECT_DATE, A.GNUM_ISVALID AS ISVALID,A.GSTR_TARIFF_NAME AS GTARIFFNAME FROM HBLT_TARIFF_MST A WHERE GNUM_HOSPITAL_CODE \= DECODE(HBLNUM_GROUP_ID,107,100,?) )

select.tariffMst.cond.1 =   ISVALID = ?
select.tariffMst.cond.0 =	GROUP_ID = ? 
	                     
select.groupName.1 = SELECT INITCAP(HBLSTR_GROUP_NAME) FROM HBLT_GROUP_MST WHERE HBLNUM_GROUP_ID =?  AND GNUM_HOSPITAL_CODE =? 
select.tariffMst.1 =SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = 1 ORDER BY HBLSTR_GROUP_NAME
select.subgroupMst.1 =SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = 1 ORDER BY HBLSTR_GROUP_NAME
						
select.tariffMst.global.1 =SELECT HBLNUM_GROUP_ID||'^'||HBLNUM_IS_TARIFFALLOWED, INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= 1 ORDER BY HBLSTR_GROUP_NAME
						
select.global.tariffMst.1 =SELECT HBLNUM_TARIFF_ID,HBLSTR_TARIFF_NAME FROM HBLT_TARIFF_MST A WHERE GNUM_ISVALID=1 and GNUM_HOSPITAL_CODE=100 and HBLNUM_GROUP_ID=? 
select.global.tariffMst.1.cond=AND NOT EXISTS (SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID=1 AND HBLNUM_TARIFF_ID=A.HBLNUM_TARIFF_ID AND GNUM_HOSPITAL_CODE=?)

select.global.subgroupMst.1 =SELECT HBLNUM_SUBGROUP_ID,bill_mst.getsubgroupname(HBLNUM_SUBGROUP_ID,GNUM_HOSPITAL_CODE) FROM HBLT_SUBGROUP_MST A WHERE GNUM_ISVALID=1 and GNUM_HOSPITAL_CODE=100 and HBLNUM_GROUP_ID=? 

select.global.tariffMst.0 = SELECT PKEY||'^'||TARIFF_NAME  AS DATA FROM ( SELECT A.GNUM_HOSPITAL_CODE || '@' || A.HBLNUM_TARIFF_ID||'|'|| (SELECT COUNT(*) AS LOCAL_COUNT FROM HBLT_TARIFF_MST B WHERE B.GNUM_HOSPITAL_CODE\!\=100 and B.HBLNUM_TARIFF_ID\=A.HBLNUM_TARIFF_ID ) AS PKEY, TRIM(A.HBLSTR_TARIFF_CODE) AS TARIFF_CODE, BILL_MST.GETGROUPNAME(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE) AS GROUP_NAME, A.HBLNUM_GROUP_ID AS GROUP_ID , TRIM(INITCAP(HBLSTR_TARIFF_NAME))||' '||DECODE(SIGN(A.HBLNUM_GROUP_ID-120),-1,'(System Defined Tariff)',0,'(System Defined Tariff)','')||' ' AS TARIFF_NAME, BILL_MST.GETSERVICENAME(A.SBLNUM_SERVICE_ID,0,A.GNUM_HOSPITAL_CODE) AS SERVICE_NAME, TO_CHAR(A.GDT_EFFECTIVE_FRM,'DD-Mon-YYYY') AS EFFECT_DATE, A.GNUM_ISVALID AS ISVALID FROM HBLT_TARIFF_MST A WHERE GNUM_HOSPITAL_CODE \= ? ) 

select.tariffMstGrpCmb.cond.1 = HBLNUM_IS_PACKAGE = ? ORDER BY HBLSTR_GROUP_NAME
select.tariffMst.2 =SELECT GNUM_UNIT_ID, TRIM(GSTR_UNIT_NAME) FROM GBLT_UNIT_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=1 AND GNUM_MODULE_ID \= 20
select.tariffunitname.1 = SELECT GNUM_UNIT_ID, INITCAP(TRIM(GSTR_UNIT_NAME)) FROM GBLT_UNIT_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ?  
 select.tariffunitname.cond.1 = GNUM_MODULE_ID = ?
 
 select.defaulttariffunitname.cond.1 = GNUM_UNIT_ID = ?
select.tariffMst.3 =SELECT sblnum_service_id || '\#' || sblstr_qry_index || '\#'|| sblnum_service_type, sblstr_service_name FROM sblt_service_mst WHERE GNUM_HOSPITAL_CODE \= ? AND gnum_isvalid \= 1 AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE)
 						
 select.tariffMst.30 =SELECT SBLNUM_SERVICE_ID||'^'||GNUM_HOSPITAL_CODE,SBLSTR_SERVICE_NAME FROM SBLT_SERVICE_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = 1 AND SBLNUM_CHARGE_DEFINED = 0 ORDER BY 2 
select.tariffMst.4 =SELECT SBLNUM_SERVICE_ID, TRIM(SBLSTR_SERVICE_NAME) FROM SBLT_SERVICE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_SERVICE_TYPE\=? AND GDT_EFFECTIVE_DATE <\= TRUNC(SYSDATE)
select.tariffMst.5 =SELECT GNUM_DEPT_CODE,TRIM(GSTR_DEPT_NAME) FROM GBLT_DEPARTMENT_MST WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID = 1
select.tariffMst.6 =SELECT SBLNUM_CHARGETYPE_ID, TRIM(SBLSTR_CHARGETYPE_NAME) FROM SBLT_CHARGETYPE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=1\tAND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE)\t\t\t\t\t
select.tariffMst.7 =SELECT HBLNUM_GROUP_ID||'\#'||HBLNUM_IS_PACKAGE,INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \= 1 ORDER BY HBLSTR_GROUP_NAME
select.tariffMst.8 =SELECT hblnum_tariff_id, TRIM(hblstr_tariff_name) FROM hblt_tariff_mst WHERE GNUM_HOSPITAL_CODE \= ? AND gnum_isvalid \= 1 AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE)
 						
 						
select.tariffMst.25 = SELECT SBLSTR_QRY_INDEX,GNUM_IS_GLOBAL FROM SBLT_SERVICE_MST WHERE GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE in( ?,100)  AND SBLNUM_SERVICE_ID \= ? \t\t\t\t\t\t
 						
 						
select.tariffMst.20 = select HBLNUM_TARIFF_ID,HBLSTR_TARIFF_NAME from HBLT_TARIFF_MST where SBLNUM_SERVICE_ID\=? and GNUM_HOSPITAL_CODE\=? \t\t\t\t\t\t
select.tariffMst.9 =	SELECT BILL_MST.GetTariffId(?,?) FROM DUAL

select.tariffMst.10  = SELECT TRIM(BILL_MST.getgroupname(HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE)), TRIM(BILL_MST.getsubgroupname(HBLNUM_SUBGROUP_ID,GNUM_HOSPITAL_CODE)), INITCAP(TRIM(HBLSTR_TARIFF_NAME)), DECODE(GNUM_ISVALID,1,'Active',2,'InActive')RECORD_STATUS FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? 
						 
select.tariffMst.11 =SELECT COUNT(*) FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND UPPER(TRIM(HBLSTR_TARIFF_NAME)) \= UPPER(TRIM(?))  and GNUM_ISVALID \!\= 0
select.tariffMst.111 =SELECT COUNT(*)  FROM HBLT_TARIFF_MST A WHERE A.GNUM_ISVALID <> 0  AND A.GNUM_HOSPITAL_CODE \= ? AND UPPER(TRIM(A.HBLSTR_TARIFF_CODE)) \= UPPER(TRIM(?)) 
select.tariffMst.1111 =SELECT COUNT(*)  FROM HBLT_TARIFF_MST A WHERE A.GNUM_ISVALID <> 0  AND A.GNUM_HOSPITAL_CODE \= ? AND UPPER(TRIM(A.HBLNUM_TARIFF_ID)) \= UPPER(TRIM(?)) 
select.tariffMst.12 =SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_TARIFF_NAME)), GSTR_TARIFF_ID,GNUM_SEATID,GNUM_ISVALID,HBLNUM_SUBGROUP_ID FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? \t\t\t\t\t\t
					
select.tariffMst.12.0 =SELECT  INITCAP(HBLSTR_GROUP_NAME) FROM HBLT_GROUP_MST \tWHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_GROUP_ID\=(SELECT HBLNUM_GROUP_ID FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? )

select.subgroupMst.12.0 =SELECT  INITCAP(HBLSTR_GROUP_NAME) FROM HBLT_GROUP_MST \tWHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_GROUP_ID\=(SELECT HBLNUM_GROUP_ID FROM HBLT_SUBGROUP_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_SUBGROUP_ID \= ? )

			
select.tariffMst.13 =SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_DEFAULT_RATE, HBLNUM_TARIFF_ACTUALCOST, HBLNUM_MAX_DISCOUNT, HBLNUM_SERVICE_TAX, TO_CHAR(GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')) FROM HBLT_TARIFF_COST_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_ISVALID <>0\t\t\t\t\t
						
select.tariffMst.14 =SELECT GNUM_DEPT_CODE, HBLNUM_SHARE_AMOUNT, TO_CHAR(GDT_EFFECTIVE_FROM,('DD-Mon-YYYY')) FROM HBLT_TARIFF_SHARE_MST WHERE  GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_ISVALID \!\=0
		//for unique in case of modification
select.localTariffMst.12 =SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_TARIFF_NAME)), HBLNUM_DEFAULT_UNIT, HBLNUM_TOTAL_STAY, HBLNUM_IS_PACKAGE, SBLNUM_SERVICE_ID, GSTR_TARIFF_ID, GSTR_REMARKS,GNUM_SEATID,GNUM_ISVALID, HBLNUM_DIS_PREVILAGES, HBLNUM_DISCOUNT_LIMIT ,HBLSTR_TARIFF_CODE , HBLNUM_DEFAULT_IPD_CHARGE ,HBLNUM_UNDEFINED_CHARGE , HBLNUM_COST_TYPE , HBLNUM_OPD_VISIBILITY ,HBLNUM_IPD_VISIBILITY , HBLNUM_EMG_VISIBILITY,NVL(HBLNUM_IS_ESTIMATION,'0'),GSTR_TARIFF_NAME FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ?  


select.localTariffMst.13 =SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_DEFAULT_RATE, HBLNUM_TARIFF_ACTUALCOST, HBLNUM_MAX_DISCOUNT, HBLNUM_SERVICE_TAX, TO_CHAR(GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')) FROM HBLT_TARIFF_COST_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_ISVALID <>0\t\t\t\t\t
						
select.localTariffMst.14 =SELECT GNUM_DEPT_CODE, HBLNUM_SHARE_AMOUNT, TO_CHAR(GDT_EFFECTIVE_FROM,('DD-Mon-YYYY')) FROM HBLT_TARIFF_SHARE_MST WHERE  GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ? AND GNUM_ISVALID \!\=0\t\t\t\t\t\t\t\t
select.tariffMst.15 =SELECT COUNT(*) FROM HBLT_TARIFF_MST WHERE GNUM_HOSPITAL_CODE \= ? AND UPPER(TRIM(HBLSTR_TARIFF_NAME)) \= UPPER(TRIM(?)) and HBLNUM_TARIFF_ID \!\=? and GNUM_ISVALID \!\= 0\t\t\t
select.tariffMst.115 =SELECT COUNT(*) FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID <> 0 AND GNUM_HOSPITAL_CODE \= ?  AND UPPER(TRIM(HBLSTR_TARIFF_CODE)) \= UPPER(TRIM(?)) and HBLNUM_TARIFF_ID <> ?
	
		



insert.tariffMst.0 =INSERT INTO HBLT_TARIFF_MST (HBLNUM_SLNO,GNUM_HOSPITAL_CODE, HBLNUM_GROUP_ID, HBLNUM_TARIFF_ID, HBLSTR_TARIFF_NAME, \
					HBLNUM_DEFAULT_UNIT, SBLNUM_SERVICE_ID, GSTR_TARIFF_ID, HBLNUM_TOTAL_STAY, HBLNUM_IS_PACKAGE, HBLNUM_IS_CONTRIBUTION,\
					GDT_EFFECTIVE_FRM,   GDT_ENTRY_DATE,GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_DIS_PREVILAGES, HBLNUM_DISCOUNT_LIMIT,\
					HBLSTR_TARIFF_CODE , HBLNUM_DEFAULT_IPD_CHARGE,HBLNUM_UNDEFINED_CHARGE,HBLNUM_COST_TYPE, HBLNUM_OPD_VISIBILITY,\
					HBLNUM_IPD_VISIBILITY,HBLNUM_EMG_VISIBILITY,HBLNUM_IS_ESTIMATION,GSTR_TARIFF_NAME) \
					VALUES( NVL((SELECT MAX(NVL(HBLNUM_SLNO,0))+1 FROM HBLT_TARIFF_MST WHERE HBLNUM_TARIFF_ID\=? AND GNUM_HOSPITAL_CODE\=?),1), \
					?,?,?,?,?,?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),SYSDATE,?,?,?,?,?,UPPER(?),?,?,?,?,?,?,?,?)
                        
insert.global.tariffMst.0 =INSERT INTO HBLT_TARIFF_MST (HBLNUM_SLNO,GNUM_HOSPITAL_CODE, HBLNUM_GROUP_ID, HBLNUM_TARIFF_ID, HBLSTR_TARIFF_NAME, HBLNUM_DEFAULT_UNIT, SBLNUM_SERVICE_ID, GSTR_TARIFF_ID, HBLNUM_TOTAL_STAY, HBLNUM_IS_PACKAGE, HBLNUM_IS_CONTRIBUTION,GDT_EFFECTIVE_FRM,   GDT_ENTRY_DATE,GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID, HBLNUM_DIS_PREVILAGES, HBLNUM_DISCOUNT_LIMIT,HBLSTR_TARIFF_CODE , HBLNUM_DEFAULT_IPD_CHARGE,HBLNUM_UNDEFINED_CHARGE,HBLNUM_COST_TYPE, HBLNUM_OPD_VISIBILITY,HBLNUM_IPD_VISIBILITY,HBLNUM_EMG_VISIBILITY,HBLNUM_SUBGROUP_ID) VALUES( NVL((SELECT MAX(NVL(HBLNUM_SLNO,0))+1 FROM HBLT_TARIFF_MST WHERE HBLNUM_TARIFF_ID\=? AND GNUM_HOSPITAL_CODE\=?),1), ?,?,?,?,1701,0,0,0,0,0,SYSDATE,SYSDATE,'',?,1,0,0,0,0,0,0,1,1,1,?)
                                                
insert.tariffMst.1 =	INSERT INTO HBLT_TARIFF_COST_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, \
						HBLNUM_TARIFFCOST_SLNO, HBLNUM_DEFAULT_RATE, HBLNUM_TARIFF_ACTUALCOST, \
						HBLNUM_MAX_DISCOUNT, HBLNUM_SERVICE_TAX, GDT_EFFECTIVE_FRM,GDT_ENTRY_DATE, \
						GSTR_REMARKS,GNUM_SEATID, GNUM_ISVALID) \
						VALUES (?,?,?,BILL_MST.gettrfslno(?,?,?),?,?,'0',?,TO_DATE(?,('DD-Mon-YYYY')),SYSDATE,?,?,?)
						
insert.tariffMst.2 =	INSERT INTO HBLT_TARIFF_SHARE_MST (GNUM_HOSPITAL_CODE,HBLNUM_TARIFF_ID, GNUM_DEPT_CODE,HBLNUM_TARIFF_SHARE_SLNO, HBLNUM_SHARE_AMOUNT, GDT_EFFECTIVE_FROM, \
						GDT_ENTRY_DATE,GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID) \
						VALUES(?,?,?,BILL_MST.gettrfslno(?,?,?),?,TO_DATE(?,('DD-MON-YYYY')),SYSDATE,?,?,?)
						
delete.tariffMst.0 =	UPDATE HBLT_TARIFF_MST SET GNUM_ISVALID = 0, GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID=?  
delete.tariffMst.cond.0		=	 GNUM_HOSPITAL_CODE = ? AND HBLNUM_TARIFF_ID = ?

delete.tariffMst.1 =	UPDATE HBLT_TARIFF_COST_MST SET GNUM_ISVALID = 0 ,GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID=? 
delete.tariffMst.cond.1	=  GNUM_HOSPITAL_CODE = ? AND HBLNUM_TARIFF_ID = ?
						
delete.tariffMst.2 =	UPDATE HBLT_TARIFF_SHARE_MST SET GNUM_ISVALID = 0 ,GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID=?  
delete.tariffMst.cond.2		=	 GNUM_HOSPITAL_CODE = ? AND HBLNUM_TARIFF_ID = ?	
						
/********************* tariff master query. *********************/

update.tariffMst.0 =UPDATE HBLT_TARIFF_MST SET  HBLSTR_TARIFF_NAME \= ?,HBLNUM_SUBGROUP_ID \=?,GNUM_ISVALID \= ?  WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
						
update.tariffMst.1 =UPDATE HBLT_TARIFF_COST_MST SET GNUM_ISVALID \= 0 ,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=? WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
update.tariffMst.2 =UPDATE HBLT_TARIFF_SHARE_MST SET  GNUM_ISVALID \= 0 , GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?  WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
update.tariffMst.3 =	INSERT INTO HBLT_TARIFF_COST_MST (SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, \
						HBLNUM_TARIFFCOST_SLNO, HBLNUM_DEFAULT_RATE, HBLNUM_TARIFF_ACTUALCOST, \
						HBLNUM_MAX_DISCOUNT, HBLNUM_SERVICE_TAX, GDT_EFFECTIVE_FRM,GSTR_REMARKS, \
						GNUM_SEATID, GNUM_ISVALID,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID , GNUM_HOSPITAL_CODE ) \
						VALUES (?,?,BILL_MST.GetTrfSlNo(?,?,?),?,?,?,?,TO_DATE(?,('DD-MON-YYYY')),?,?,?,SYSDATE,?,?)
						
update.tariffMst.4 =INSERT INTO HBLT_TARIFF_SHARE_MST (HBLNUM_TARIFF_ID, GNUM_DEPT_CODE, HBLNUM_TARIFF_SHARE_SLNO, HBLNUM_SHARE_AMOUNT, GDT_EFFECTIVE_FROM, GNUM_SEATID, GNUM_ISVALID,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS , GNUM_HOSPITAL_CODE ) VALUES(?,?,BILL_MST.GetTrfSlNo(?,?,?),?,TO_DATE(?,('DD-MON-YYYY')),?,?,SYSDATE,?,?,?)\t\t\t\t\t\t


update.tariffMst.5 = UPDATE HBLT_CHARGE_MST SET GNUM_UNIT_ID \= ? WHERE GNUM_ISVALID \= 1 AND TRUNC(SYSDATE) BETWEEN TRUNC( GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO  , SYSDATE)) AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ?
					  
	//local
update.localTariffMst.0 =UPDATE HBLT_TARIFF_MST SET SBLNUM_SERVICE_ID \= ?, HBLSTR_TARIFF_NAME \= ?, HBLNUM_GROUP_ID \= ?, GSTR_TARIFF_ID \= ?, HBLNUM_DEFAULT_UNIT \= ?, HBLNUM_TOTAL_STAY \= TO_NUMBER(?),HBLNUM_IS_PACKAGE\=?,  HBLNUM_IS_CONTRIBUTION \= ?, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ?,  GSTR_REMARKS \= ?, GNUM_ISVALID \= ? ,HBLNUM_DIS_PREVILAGES\=?, HBLNUM_DISCOUNT_LIMIT\=? , HBLSTR_TARIFF_CODE \= ? ,  HBLNUM_UNDEFINED_CHARGE \= ?, HBLNUM_COST_TYPE \= ?  ,HBLNUM_DEFAULT_IPD_CHARGE \= ? , HBLNUM_OPD_VISIBILITY \=? ,HBLNUM_IPD_VISIBILITY  \=? , HBLNUM_EMG_VISIBILITY \=?,GSTR_TARIFF_NAME\=? WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
						
update.localTariffMst.1 =UPDATE HBLT_TARIFF_COST_MST SET GNUM_ISVALID \= 0 ,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=? WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
update.localTariffMst.2 =UPDATE HBLT_TARIFF_SHARE_MST SET  GNUM_ISVALID \= 0 , GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?  WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_TARIFF_ID \= ?
						
update.localTariffMst.3 =	INSERT INTO HBLT_TARIFF_COST_MST (SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, \
						HBLNUM_TARIFFCOST_SLNO, HBLNUM_DEFAULT_RATE, HBLNUM_TARIFF_ACTUALCOST, \
						HBLNUM_MAX_DISCOUNT, HBLNUM_SERVICE_TAX, GDT_EFFECTIVE_FRM,GSTR_REMARKS, \
						GNUM_SEATID, GNUM_ISVALID,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID , GNUM_HOSPITAL_CODE ) \
						VALUES (?,?,BILL_MST.GetTrfSlNo(?,?,?),?,?,?,?,TO_DATE(?,('DD-MON-YYYY')),?,?,?,SYSDATE,?,?)
						
update.localTariffMst.4 =INSERT INTO HBLT_TARIFF_SHARE_MST (HBLNUM_TARIFF_ID, GNUM_DEPT_CODE, HBLNUM_TARIFF_SHARE_SLNO, HBLNUM_SHARE_AMOUNT, GDT_EFFECTIVE_FROM, GNUM_SEATID, GNUM_ISVALID,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GSTR_REMARKS , GNUM_HOSPITAL_CODE ) VALUES(?,?,BILL_MST.GetTrfSlNo(?,?,?),?,TO_DATE(?,('DD-MON-YYYY')),?,?,SYSDATE,?,?,?)\t\t\t\t\t\t


update.localTariffMst.5 = UPDATE HBLT_CHARGE_MST SET GNUM_UNIT_ID \= ? WHERE GNUM_ISVALID \= 1 AND TRUNC(SYSDATE) BETWEEN TRUNC( GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO  , SYSDATE)) AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \= ?
					  
					  
						
/**************************** Property File given by Bala **********************************/
/*******************************************************************************************/						
 
///////////////////////////////////////////////////////////////////////////////////
                         (global group master)
  //////////////////////////////////////////////////////////////////////////////////  

						
												
//List query for global group and subgroup master



select.group.0	= SELECT GNUM_HOSPITAL_CODE||'@'||HBLNUM_GROUP_ID ||'|'||(SELECT COUNT(*) AS LOCAL_CNT FROM HBLT_GROUP_MST B WHERE B.GNUM_HOSPITAL_CODE\!\=100 AND B.HBLNUM_GROUP_ID\=A.HBLNUM_GROUP_ID AND B.GNUM_ISVALID IN (1,2)) ||'^'|| HBLSTR_GROUP_CODE||'^'|| HBLSTR_GROUP_NAME||' '||DECODE(SIGN(HBLNUM_GROUP_ID-120),-1,'(System Defined Group)',0,'(System Defined Group)','')||' ' AS DATA  FROM HBLT_GROUP_MST A WHERE A.GNUM_HOSPITAL_CODE\=?
    

select.group.cond.1 = GNUM_ISVALID=?      


select.subgroup.0	= SELECT GNUM_HOSPITAL_CODE||'@'||HBLNUM_SUBGROUP_ID ||'|'||(SELECT COUNT(*) AS LOCAL_CNT FROM HBLT_SUBGROUP_MST B WHERE B.GNUM_HOSPITAL_CODE\!\=100 AND B.HBLNUM_SUBGROUP_ID\=A.HBLNUM_SUBGROUP_ID AND B.GNUM_ISVALID IN (1,2)) ||'^'|| HBLSTR_SUBGROUP_CODE||'^'|| HBLSTR_SUBGROUP_NAME||' '||DECODE(SIGN(HBLNUM_SUBGROUP_ID-120),-1,'(System Defined Group)',0,'(System Defined Group)','')||' ' AS DATA  FROM HBLT_SUBGROUP_MST A WHERE A.GNUM_HOSPITAL_CODE\=?
    

select.subgroup.cond.1 = GNUM_ISVALID=?     

select.subgroupMst.cond.0=  HBLNUM_GROUP_ID=?         
                 
                     
//modify	           
select.group.1 = SELECT HBLSTR_GROUP_NAME,HBLNUM_IS_PACKAGE,TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'),GNUM_ISVALID,GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_SEATID,HBLSTR_GROUP_CODE from HBLT_GROUP_MST where GNUM_HOSPITAL_CODE \=? AND HBLNUM_GROUP_ID \=? \t\t\t\t 
select.subgroup.1 = SELECT HBLSTR_SUBGROUP_NAME,HBLNUM_IS_PACKAGE,TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'),GNUM_ISVALID,GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_SEATID,HBLSTR_SUBGROUP_CODE,HBLNUM_GROUP_ID from HBLT_SUBGROUP_MST where GNUM_HOSPITAL_CODE \=? AND HBLNUM_SUBGROUP_ID \=? \t\t\t\t 
select.group.2 = SELECT NVL(HBLSTR_GROUP_CODE,''),HBLSTR_GROUP_NAME,DECODE(GNUM_ISVALID,'1','Active','2','InActive') from HBLT_GROUP_MST where GNUM_HOSPITAL_CODE  \= ? AND HBLNUM_GROUP_ID \=? \t\t
select.subgroup.2 = SELECT TRIM(BILL_MST.getgroupname(HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE)),NVL(HBLSTR_SUBGROUP_CODE,''),HBLSTR_SUBGROUP_NAME,DECODE(GNUM_ISVALID,'1','Active','2','InActive') from HBLT_SUBGROUP_MST where GNUM_HOSPITAL_CODE  \= ? AND HBLNUM_SUBGROUP_ID \=? \t\t
select.group.3=   SELECT count(*) FROM HBLT_GROUP_MST WHERE UPPER(HBLSTR_GROUP_NAME)= UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE =? AND GNUM_ISVALID!=0
select.subgroup.3=   SELECT count(*) FROM HBLT_SUBGROUP_MST WHERE UPPER(HBLSTR_SUBGROUP_NAME)= UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE =? AND GNUM_ISVALID!=0

select.group.4 = SELECT COUNT(*) FROM HBLT_GROUP_MST WHERE  UPPER(HBLSTR_GROUP_NAME)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE\= ? AND HBLNUM_GROUP_ID \!\=? AND GNUM_ISVALID \!\=0
select.subgroup.4 = SELECT COUNT(*) FROM HBLT_SUBGROUP_MST WHERE  UPPER(HBLSTR_SUBGROUP_NAME)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE\= ? AND HBLNUM_SUBGROUP_ID \!\=? AND GNUM_ISVALID \!\=0
		

insert.group.0	=INSERT INTO HBLT_GROUP_MST \
                (HBLNUM_SLNO,GNUM_HOSPITAL_CODE,HBLNUM_GROUP_ID, HBLSTR_GROUP_NAME, HBLNUM_IS_PACKAGE,\
                 GDT_EFFECTIVE_FRM,GNUM_SEATID,GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_ISVALID,HBLSTR_GROUP_CODE,HBLSTR_IP_ADD,HBLSTR_MAC_ADD \
               ) VALUES(1,?,BILL_MST.GetGroupId(?),trim(?),0,SYSDATE,?,null,1,1,?,?,?)
               
insert.subgroup.0 =INSERT INTO HBLT_SUBGROUP_MST (HBLNUM_SLNO,GNUM_HOSPITAL_CODE,HBLNUM_SUBGROUP_ID, HBLSTR_SUBGROUP_NAME, HBLNUM_IS_PACKAGE,GDT_EFFECTIVE_FRM,GNUM_SEATID,GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_ISVALID,HBLSTR_SUBGROUP_CODE,HBLNUM_GROUP_ID,HBLSTR_IP_ADD,HBLSTR_MAC_ADD ) VALUES(1,?,BILL_MST.GetSubGroupId(?),trim(?),0,SYSDATE,?,null,1,1,?,?,?,?)              
		
billing.delete.0= UPDATE HBLT_GROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?


billing.delete.cond.0 =  GNUM_HOSPITAL_CODE =? AND HBLNUM_GROUP_ID=?

billing.delete.1= UPDATE HBLT_SUBGROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?


billing.delete.cond.1 =  GNUM_HOSPITAL_CODE =? AND HBLNUM_SUBGROUP_ID=?
		
		
update.group.1 = UPDATE HBLT_GROUP_MST SET HBLSTR_GROUP_NAME \= TRIM(?), HBLNUM_IS_PACKAGE \=0,GDT_EFFECTIVE_FRM \=SYSDATE ,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID \= ?, GNUM_ISVALID \= ?, HBLNUM_IS_VISIBLE \= 0, HBLSTR_GROUP_CODE \= ?, HBLSTR_IP_ADD \= ?, HBLSTR_MAC_ADD \= ? WHERE GNUM_HOSPITAL_CODE \=? AND HBLNUM_GROUP_ID \= ?
update.subgroup.1 = UPDATE HBLT_SUBGROUP_MST SET HBLSTR_SUBGROUP_NAME \= TRIM(?), HBLNUM_IS_PACKAGE \=0,GDT_EFFECTIVE_FRM \=SYSDATE ,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID \= ?, GNUM_ISVALID \= ?, HBLNUM_IS_VISIBLE \= 0, HBLSTR_SUBGROUP_CODE \= ?, HBLSTR_IP_ADD \= ?, HBLSTR_MAC_ADD \= ? WHERE GNUM_HOSPITAL_CODE \=? AND HBLNUM_SUBGROUP_ID \= ?
                      
select.grp.0	=SELECT  GNUM_HOSPITAL_CODE||'@'||HBLNUM_GROUP_ID||'^'|| BILL_MST.GETGROUPCODE(HBLNUM_GROUP_ID,100)||'^'||BILL_MST.GETGROUPNAME(HBLNUM_GROUP_ID,100)||'^'||HBLSTR_GROUP_NAME AS DATA from HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_GROUP_ID>120   

select.grp.cond.1 = GNUM_ISVALID=?


select.grouptype.0=SELECT DISTINCT(A.SBLNUM_CHARGETYPE_ID),A.SBLSTR_CHARGETYPE_NAME, DECODE((SELECT COUNT(*) FROM HBLT_HSERVICE_GROUP_MST B WHERE A.SBLNUM_CHARGETYPE_ID\=B.SBLNUM_CHARGETYPE_ID AND B.GNUM_HOSPITAL_CODE \= ? AND B.HBLNUM_GROUP_ID\=? ),0,0,1) FROM SBLT_CHARGETYPE_MST A WHERE  A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE \= ? ORDER BY CASE A.SBLNUM_CHARGETYPE_ID WHEN '4' THEN '1'ELSE A.SBLNUM_CHARGETYPE_ID END
//select.grp.1 = SELECT HBLSTR_GROUP_NAME,HBLNUM_IS_PACKAGE,TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'), GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_SEATID,GNUM_ISVALID,HBLNUM_CONSUME_CHARGE FROM HBLT_GROUP_MST where GNUM_HOSPITAL_CODE \=? AND HBLNUM_GROUP_ID \=? 
				
select.grp.1=SELECT A.HBLSTR_GROUP_NAME,A.HBLNUM_IS_PACKAGE,TO_CHAR(A.GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'),A.GSTR_REMARKS,A.HBLNUM_IS_VISIBLE,A.GNUM_SEATID,A.GNUM_ISVALID,A.HBLNUM_CONSUME_CHARGE,B.SBLNUM_CHARGETYPE_ID  FROM HBLT_GROUP_MST A,HBLT_HSERVICE_GROUP_MST B where A.GNUM_HOSPITAL_CODE \= ? AND A.HBLNUM_GROUP_ID \= ?  AND A.GNUM_HOSPITAL_CODE\=B.GNUM_HOSPITAL_CODE AND A.HBLNUM_GROUP_ID\=B.HBLNUM_GROUP_ID

select.grp.2 = SELECT BILL_MST.GETGROUPCODE(HBLNUM_GROUP_ID,100),BILL_MST.GETGROUPNAME(HBLNUM_GROUP_ID,100),HBLSTR_GROUP_NAME,DECODE(GNUM_ISVALID,'1','Active','2','InActive') FROM HBLT_GROUP_MST where GNUM_HOSPITAL_CODE  \= ? AND HBLNUM_GROUP_ID \=?
				
select.grp.3= SELECT COUNT(*) FROM HBLT_GROUP_MST WHERE UPPER(HBLSTR_GROUP_NAME)\= UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE \=? AND GNUM_ISVALID\!\=0
				
select.grp.3.0= SELECT COUNT(*) FROM HBLT_GROUP_MST WHERE UPPER(HBLNUM_GROUP_ID)\= UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE \=? AND GNUM_ISVALID\!\=0

select.grp.4 = SELECT COUNT(*) FROM HBLT_GROUP_MST WHERE  UPPER(HBLSTR_GROUP_NAME)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE  \= ? AND HBLNUM_GROUP_ID \!\=? AND GNUM_ISVALID \!\=0
 
// Added by Manisha
select.grp.5 = SELECT HBLNUM_GROUP_ID||'^'||NVL(HBLSTR_GROUP_CODE,'-'), INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE  GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_GROUP_ID>120 \
			   AND HBLNUM_GROUP_ID NOT IN(SELECT  HBLNUM_GROUP_ID from HBLT_GROUP_MST WHERE GNUM_HOSPITAL_CODE\=? AND HBLNUM_GROUP_ID>120 AND GNUM_ISVALID\=1)\
			   ORDER BY HBLSTR_GROUP_NAME
		
insert.grp.0	=INSERT INTO HBLT_GROUP_MST (HBLNUM_SLNO,GNUM_HOSPITAL_CODE,HBLNUM_GROUP_ID, HBLSTR_GROUP_NAME, HBLNUM_IS_PACKAGE,GDT_EFFECTIVE_FRM,GNUM_SEATID,GSTR_REMARKS,HBLNUM_IS_VISIBLE,GNUM_ISVALID ,HBLNUM_CONSUME_CHARGE  ) VALUES(BILL_MST.GETLOCALGRPSLNO(?,?),?,?,TRIM(?),?,TO_DATE(TO_CHAR(?\:\:timestamp,'DD-Mon-YYYY'),'DD-Mon-YYYY'),?,TRIM(?),?,1,NVL(TO_NUMBER(?),0))
insert.grp.1 = INSERT INTO HBLT_HSERVICE_GROUP_MST \
			(SBLNUM_CHARGETYPE_ID, HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE, HBLNUM_SLNO,GDT_EFFECTIVE_FRM,GDT_LSTMOD_DATE,GNUM_LSTMOD_SEATID,GNUM_SEATID, GDT_ENTRY_DATE, GSTR_REMARKS,GNUM_ISVALID) \
            VALUES(?,?,?,BILL_MST.GETLOCALGRPSLNO(?,?),to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),SYSDATE,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),trim(?),1)

billing.grp.delete.0= UPDATE HBLT_GROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?
billing.grp.delete.1= UPDATE HBLT_HSERVICE_GROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?
billing.grp.delete.cond.0 =  GNUM_HOSPITAL_CODE =? AND HBLNUM_GROUP_ID=?
		
update.grp.1= UPDATE HBLT_GROUP_MST SET HBLSTR_GROUP_NAME \= TRIM(?), HBLNUM_IS_PACKAGE \=NVL(?,0),GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID \= ?, GNUM_SEATID \= ?, GSTR_REMARKS \= TRIM(?), GNUM_ISVALID \= ?, HBLNUM_IS_VISIBLE \= NVL(?,0),HBLNUM_CONSUME_CHARGE\=NVL(?,0) WHERE GNUM_HOSPITAL_CODE \=? AND HBLNUM_GROUP_ID \= ?

select.unitvalue.7 = SELECT GNUM_MODULE_ID||'@'||GNUM_HOSPITAL_CODE||'@'||GNUM_FRMUNIT_ID||'@'||GNUM_TOUNIT_ID||'@'||GNUM_UNIT_SLNO||'^'|| BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_FRMUNIT_ID)||'^'|| BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_TOUNIT_ID)||'^'||NVL(GNUM_CONVERTED_UNITVALUE,0)||'^'|| TO_CHAR(GDT_EFFECTIVE_FROM,'DD-Mon-YYYY') as DATA FROM GBLT_UNITVALUE_MST WHERE GNUM_HOSPITAL_CODE \= ?
 
 
select.unitvalue.cond.0 =  GNUM_ISVALID = ?

select.unitvalue.cond.1 =  GNUM_MODULE_ID = ?
select.unitvalue.1 = SELECT GNUM_MODULE_ID,GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST WHERE  GBL_ISVALID = 1 
                       

select.unitValMst.cond.2 =   GNUM_MODULE_ID=? ORDER BY GSTR_MODULE_NAME
select.unitvalue.2 = SELECT (SELECT GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST WHERE GNUM_MODULE_ID \= A.GNUM_MODULE_ID AND GBL_ISVALID \= '1'), BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_FRMUNIT_ID), BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_TOUNIT_ID) ,GNUM_CONVERTED_UNITVALUE,TO_CHAR(GDT_EFFECTIVE_FROM,'DD-Mon-yyyy'),NVL(GSTR_REMARKS,' '),DECODE(GNUM_ISVALID,1,'Active',2,'InActive') FROM GBLT_UNITVALUE_MST A WHERE GNUM_MODULE_ID \= ? and GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \= ? AND GNUM_TOUNIT_ID \= ? and  GNUM_UNIT_SLNO \= ? 
                                      
                           
//from unit combo

select.unitvalue.3 = SELECT  GNUM_UNIT_ID||'\#'||GNUM_UNIT_LEVEL,GSTR_UNIT_NAME FROM  GBLT_UNIT_MST WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID \=1  AND GNUM_MODULE_ID \= ?  AND TRUNC(SYSDATE) >\= GDT_EFFECTIVE_FRM  
                     
  

                   
//to unit combo 
 
select.unitvalue.4 = SELECT  GNUM_UNIT_ID , GSTR_UNIT_NAME  FROM  GBLT_UNIT_MST WHERE GNUM_HOSPITAL_CODE \= ?  AND GNUM_ISVALID \=1  AND GNUM_MODULE_ID \= ?  AND GNUM_UNIT_LEVEL \= ? AND TRUNC(SYSDATE) >\= GDT_EFFECTIVE_FRM     
select.unitvalue.5 = SELECT A.GSTR_MODULE_NAME,(SELECT GSTR_UNIT_NAME FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \=B.GNUM_FRMUNIT_ID)F,(SELECT GSTR_UNIT_NAME FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \=B.GNUM_TOUNIT_ID)T,B.GNUM_CONVERTED_UNITVALUE,TO_CHAR(B.GDT_EFFECTIVE_FROM,'DD-Mon-yyyy'), B.GSTR_REMARKS,B.GNUM_ISVALID FROM GBLT_METATABLE_TYPE_MST A,GBLT_UNITVALUE_MST B WHERE A.GNUM_MODULE_ID \= B.GNUM_MODULE_ID AND B.GNUM_MODULE_ID \=? AND B.GNUM_FRMUNIT_ID \=? AND B.GNUM_TOUNIT_ID \=? 
select.unitvalue.9 = SELECT (SELECT GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST WHERE GNUM_MODULE_ID \= A.GNUM_MODULE_ID AND GBL_ISVALID \= '1' ),BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_FRMUNIT_ID), BILL_MST.GETUNITNAME(GNUM_HOSPITAL_CODE,GNUM_TOUNIT_ID), GNUM_CONVERTED_UNITVALUE,TO_CHAR(GDT_EFFECTIVE_FROM,'DD-Mon-yyyy'), GNUM_SEATID,GSTR_REMARKS,GNUM_ISVALID FROM GBLT_UNITVALUE_MST A WHERE GNUM_MODULE_ID \= ? and GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \= ? AND GNUM_TOUNIT_ID \= ? and  GNUM_UNIT_SLNO\=? 
 
					  
					  
//insert
insert.unitvalue.0 = INSERT INTO GBLT_UNITVALUE_MST (GNUM_HOSPITAL_CODE,GNUM_MODULE_ID,GNUM_FRMUNIT_ID, GNUM_TOUNIT_ID, GNUM_CONVERTED_UNITVALUE, GDT_EFFECTIVE_FROM,GDT_ENTRY_DATE,GNUM_SEATID,GSTR_REMARKS,GNUM_ISVALID,GNUM_UNIT_SLNO)  VALUES(?,?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),SYSDATE,?,?,?,BILL_MST.getunitslno(?,?,?,?))



 
 //update
 update.unitvalue.0  = UPDATE GBLT_UNITVALUE_MST  SET GNUM_CONVERTED_UNITVALUE \=?, GDT_EFFECTIVE_FROM \=to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \=?, GSTR_REMARKS \=?, GNUM_SEATID \=?, GNUM_ISVALID \=? WHERE GNUM_MODULE_ID \= ? and GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \= ? AND GNUM_TOUNIT_ID \= ? and GNUM_UNIT_SLNO\=? 
 update.unitvalue.1  = UPDATE GBLT_UNITVALUE_MST  SET GNUM_CONVERTED_UNITVALUE \=?, GDT_EFFECTIVE_FROM \=to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \=?, GSTR_REMARKS \=?, GNUM_SEATID \=?, GNUM_ISVALID \=? WHERE GNUM_MODULE_ID \= ? and GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \= ? AND GNUM_TOUNIT_ID \= ? and GNUM_ISVALID \!\=0                       
   
 //delete
delete.unitvalue.0  = UPDATE GBLT_UNITVALUE_MST  SET  GNUM_ISVALID\=0,GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=?  
                     
 delete.unitvalue.cond.0 = GNUM_MODULE_ID \= ? and GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \= ? AND GNUM_TOUNIT_ID \= ? and  GNUM_UNIT_SLNO \= ? 
       
  
  
 //Check unique record in case of Add 

select.unitvalue.10 = SELECT count(*) FROM GBLT_UNITVALUE_MST WHERE GNUM_MODULE_ID \=? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \=? AND GNUM_TOUNIT_ID \= ? AND GNUM_ISVALID\!\=0

select.unitvalue.8 = SELECT count(*) FROM GBLT_UNITVALUE_MST GNUM_MODULE_ID \=? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_FRMUNIT_ID \=? AND GNUM_TOUNIT_ID \= ? and GNUM_UNIT_SLNO \=? AND GNUM_ISVALID \!\=0 
                          (Hospital Service Group Master)
 
 //list query
 
 
 select.hservicegroup.0 = SELECT  C.SBLNUM_CHARGETYPE_ID||'@'||C.HBLNUM_GROUP_ID||'@'||C.GNUM_HOSPITAL_CODE||'@'||C.HBLNUM_SLNO||'^'||C.SERVICE||'^'||nvl(C.GRP,' ')||'^'||TO_CHAR(C.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY'))as data FROM(SELECT A.SBLNUM_CHARGETYPE_ID, A.HBLNUM_GROUP_ID,A.GNUM_ISVALID,bill_mst.getchargetypename(A.SBLNUM_CHARGETYPE_ID,A.GNUM_HOSPITAL_CODE)SERVICE,BILL_MST.GETGROUPNAME(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE)GRP,GDT_EFFECTIVE_FRM,GNUM_HOSPITAL_CODE, HBLNUM_SLNO FROM HBLT_HSERVICE_GROUP_MST A WHERE  A.GNUM_ISVALID <> 0 AND GNUM_HOSPITAL_CODE \= ?)C 
 
 select.hservicegroup.cond.0 = C.SBLNUM_CHARGETYPE_ID =  ?
 select.hservicegroup.cond.1 = C.GNUM_ISVALID = ?
 
 //service combo
select.hservicegroup.1 = SELECT SBLNUM_CHARGETYPE_ID,SBLSTR_CHARGETYPE_NAME FROM SBLT_CHARGETYPE_MST  WHERE GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID =1 ORDER BY SBLSTR_CHARGETYPE_NAME DESC
						 
						  
						  	
						   
//VIEW
select.hservicegroup.2 = SELECT bill_mst.getchargetypename(A.SBLNUM_CHARGETYPE_ID,A.GNUM_HOSPITAL_CODE),BILL_MST.GetGroupName(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE ),TO_CHAR(A.GDT_EFFECTIVE_FRM,'DD-Mon-yyyy') ,nvl(initcap(A.GSTR_REMARKS),' '),DECODE(A.GNUM_ISVALID,1,'Active',2,'InActive')FROM  HBLT_HSERVICE_GROUP_MST A WHERE A.SBLNUM_CHARGETYPE_ID \= ? AND A.HBLNUM_GROUP_ID  \=? AND GNUM_HOSPITAL_CODE\=? AND HBLNUM_SLNO \= ?
//left list 
select.hservicegroup.3	= SELECT HBLNUM_GROUP_ID,HBLSTR_GROUP_NAME FROM HBLT_GROUP_MST A WHERE NOT EXISTS (SELECT 'X' FROM HBLT_HSERVICE_GROUP_MST WHERE SBLNUM_CHARGETYPE_ID \=? AND HBLNUM_GROUP_ID\=A.HBLNUM_GROUP_ID AND GNUM_HOSPITAL_CODE \= ?  AND GNUM_ISVALID \=1)  AND GNUM_ISVALID \=1 AND TRUNC(SYSDATE) >\= trunc(GDT_EFFECTIVE_FRM) and GNUM_HOSPITAL_CODE \= ? order by HBLSTR_GROUP_NAME
			  
						

//MODIFY
select.hservicegroup.4 = SELECT (SELECT SBLSTR_CHARGETYPE_NAME FROM SBLT_CHARGETYPE_MST WHERE SBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE\=100 AND GNUM_ISVALID\=1)S,BILL_MST.GetGroupName(A.HBLNUM_GROUP_ID,A.GNUM_HOSPITAL_CODE ),TO_CHAR(A.GDT_EFFECTIVE_FRM,'dd-Mon-yyyy'),nvl(GSTR_REMARKS,''),A.GNUM_SEATID,A.GNUM_ISVALID FROM  HBLT_HSERVICE_GROUP_MST A WHERE A.SBLNUM_CHARGETYPE_ID \= ? AND A.HBLNUM_GROUP_ID  \=?\tAND A.GNUM_HOSPITAL_CODE\=? AND A.HBLNUM_SLNO \= ?\t
insert.hservicegroup.0 = INSERT INTO HBLT_HSERVICE_GROUP_MST (SBLNUM_CHARGETYPE_ID, HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE, HBLNUM_SLNO,GDT_EFFECTIVE_FRM,GNUM_SEATID, GDT_ENTRY_DATE, GSTR_REMARKS,GNUM_ISVALID,GDT_EFFECTIVE_TO)VALUES(?,?,?,BILL_MST. getHosService_SlNo(?,?,?),to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,SYSDATE,trim(?),1,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'))
update.hservicegroup.1 = UPDATE HBLT_HSERVICE_GROUP_MST SET GDT_EFFECTIVE_FRM \= to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \=?,GDT_ENTRY_DATE\=SYSDATE, GSTR_REMARKS \=?,GNUM_SEATID \=?, GNUM_ISVALID \=? WHERE SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \=?AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_SLNO \= ?\t
delete.hservicegroup.0 = UPDATE HBLT_HSERVICE_GROUP_MST SET  GNUM_ISVALID = 0 ,GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID=? 
                  
delete.hservicegroup.cond.0 = SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_GROUP_ID \=? AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_SLNO \= ? 
                          (PACKAGE SERVICE MASTER)

select.packservMst.0 = SELECT A.HBLNUM_PACKAGE_ID||'@'||A.HBLNUM_TARIFF_ID||'@'||A.GNUM_HOSPITAL_CODE||'@'||A.HBLNUM_SLNO||'^'||TRIM(A.TRF_NAME)||'^'|| A.QTY||'^'|| A.UNIT_NAME AS DATA FROM (SELECT HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, GNUM_HOSPITAL_CODE,HBLNUM_SLNO, BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE) TRF_NAME, NVL(HBLNUM_QTY,0) QTY,DECODE(GNUM_UNIT_ID,1701,'No(Each)',1702,'DAY','No(Each)') UNIT_NAME,GNUM_ISVALID FROM HBLT_PACKAGE_SERVICE_MST WHERE GNUM_HOSPITAL_CODE \= ? ) A
						 
select.packservMst.cond.0 = A.HBLNUM_PACKAGE_ID =?

select.packservMst.cond.1 = A.GNUM_ISVALID = ? 
select.packservMst.1 =SELECT HBLNUM_TARIFF_ID,INITCAP(TRIM(HBLSTR_TARIFF_NAME)) FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID = 1 AND GNUM_HOSPITAL_CODE=? AND DECODE(#1#,2,HBLNUM_IS_ESTIMATION , HBLNUM_IS_PACKAGE)=1
select.packservname.1 = SELECT INITCAP(HBLSTR_TARIFF_NAME),HBLNUM_DEFAULT_UNIT,DECODE(?,1,'Package','Estimation') FROM HBLT_TARIFF_MST WHERE HBLNUM_TARIFF_ID =? AND GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID!=0 
select.packtariffname.1 = SELECT HBLNUM_TARIFF_ID, INITCAP(TRIM(HBLSTR_TARIFF_NAME))AS TRF_NAME FROM HBLT_TARIFF_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) AND NOT EXISTS (SELECT 'X'FROM HBLT_PACKAGE_SERVICE_MST WHERE GNUM_ISVALID \!\=0 AND GDT_EFFECTIVE_FRM <\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND HBLNUM_TARIFF_ID \= A.HBLNUM_TARIFF_ID 
select.packtariffname.2 = SELECT HBLNUM_TARIFF_ID||'^'||HBLNUM_DEFAULT_UNIT, INITCAP(TRIM(HBLSTR_TARIFF_NAME)) AS TRF_NAME FROM HBLT_TARIFF_MST A WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= DECODE(HBLNUM_GROUP_ID,107,100,?) AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) AND HBLNUM_GROUP_ID \= ? AND HBLNUM_IS_PACKAGE \= 0 ORDER BY HBLSTR_TARIFF_NAME

		 
select.packtariffname.cond.0 = HBLNUM_GROUP_ID =  ? 
select.packtariffname.cond.1 = HBLNUM_PACKAGE_ID = ? 	)ORDER BY TRF_NAME
select.packunitname.1 = SELECT  GNUM_UNIT_ID, INITCAP(TRIM(GSTR_UNIT_NAME)) FROM GBLT_UNIT_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) and GNUM_MODULE_ID \= ? AND GNUM_UNIT_LEVEL \= (SELECT GNUM_UNIT_LEVEL FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \= ? AND GNUM_HOSPITAL_CODE \= ? )
          
select.packunitname.cond.1 = GNUM_MODULE_ID = ?
select.packunitname.cond.2 = AND GNUM_UNIT_LEVEL = (SELECT GNUM_UNIT_LEVEL FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID = ? AND GNUM_HOSPITAL_CODE = ? ) 
select.tariffdetails.1 = SELECT bill_mst.gettariffname(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE) TARIFF_NAME, NVL(HBLNUM_QTY,0),  DECODE(GNUM_UNIT_ID,1701,'No(Each)',1702,'DAY','No(Each)') Unit_Name, DECODE(GNUM_ISVALID,1,'Active','In-Active') RECORD_STATUS FROM HBLT_PACKAGE_SERVICE_MST WHERE GNUM_ISVALID IN (1,2) AND GNUM_HOSPITAL_CODE \= ? 
                       

select.tariffdetails.cond.1 = HBLNUM_PACKAGE_ID = ? 
select.tariffdetails.cond.2 = order by TARIFF_NAME
////// select.tariffname.1 \= SELECT INITCAP(TRIM(HBLSTR_TARIFF_NAME)) ,HBLNUM_DEFAULT_UNIT FROM HBLT_TARIFF_MST WHERE HBLNUM_TARIFF_ID \=?
select.tariffname.1 = SELECT INITCAP(TRIM(HBLSTR_TARIFF_NAME)) ,HBLNUM_DEFAULT_UNIT FROM HBLT_TARIFF_MST WHERE HBLNUM_TARIFF_ID \=? AND GNUM_HOSPITAL_CODE\=? 

select.packservMst.11 = SELECT GNUM_UNIT_ID ,TRIM(GSTR_UNIT_NAME) FROM GBLT_UNIT_MST  WHERE GNUM_ISVALID \= 1 

select.packservMst.12 \= SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE  GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ? ORDER BY HBLSTR_GROUP_NAME
select.packservMst.15 = SELECT DISTINCT(HBLNUM_GROUP_ID), INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE  GNUM_ISVALID=1 AND GNUM_HOSPITAL_CODE =? AND HBLNUM_GROUP_ID >120 OR HBLNUM_GROUP_ID IN(102,100,107) ORDER BY HBLSTR_GROUP_NAME

select.packservMst.13 = SELECT HBLNUM_TARIFF_ID,INITCAP(TRIM(HBLSTR_TARIFF_NAME)) FROM HBLT_TARIFF_MST WHERE HBLNUM_GROUP_ID\= ? AND GNUM_ISVALID \= 1 and HBLNUM_IS_PACKAGE \= 0

select.packservMst.14 = SELECT HBLNUM_GROUP_ID, INITCAP(TRIM(HBLSTR_GROUP_NAME)) FROM HBLT_GROUP_MST WHERE  GNUM_ISVALID\=1 AND GNUM_HOSPITAL_CODE \= ? AND  HBLNUM_GROUP_ID \!\=105 ORDER BY HBLSTR_GROUP_NAME
select.packservMst.2 = SELECT (SELECT  INITCAP(TRIM(HBLSTR_TARIFF_NAME)) FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND HBLNUM_TARIFF_ID \= A.HBLNUM_PACKAGE_ID )PKG_NAME ,DECODE(A.HBLNUM_TARIFF_TYPE,1,'Package',2,'Estimation'),A.TRF_NAME, A.QTY,A.UNIT_NAME,NVL(A.GSTR_REMARKS,' '),DECODE(A.GNUM_ISVALID,'1','Active','2','InActive') FROM ( SELECT HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID,HBLNUM_SLNO, GNUM_HOSPITAL_CODE, BILL_MST.gettariffname(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE) TRF_NAME, NVL(HBLNUM_QTY,0) QTY, DECODE(GNUM_UNIT_ID,1701,'No(Each)',1702,'DAY','No(Each)') UNIT_NAME,GSTR_REMARKS, GNUM_ISVALID,HBLNUM_TARIFF_TYPE FROM HBLT_PACKAGE_SERVICE_MST )A WHERE A.HBLNUM_PACKAGE_ID \= ?  AND A.HBLNUM_TARIFF_ID \= ? \tAND A.GNUM_HOSPITAL_CODE \= ?  AND A.HBLNUM_SLNO \= ?
select.packservMst.3 = SELECT A.HBLNUM_PACKAGE_ID,A.HBLNUM_TARIFF_ID,A.HBLNUM_QTY,A.GNUM_UNIT_ID,TO_CHAR(A.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')),TRIM(A.GSTR_REMARKS),A.GNUM_ISVALID FROM HBLT_PACKAGE_SERVICE_MST A WHERE A.HBLNUM_PACKAGE_ID \= ? AND A.HBLNUM_TARIFF_ID \= ? AND A.GNUM_HOSPITAL_CODE \= ? AND A.HBLNUM_SLNO \= ?
		
delete.packservMst.0 =UPDATE HBLT_PACKAGE_SERVICE_MST SET GNUM_ISVALID \= 0 WHERE\tHBLNUM_PACKAGE_ID \= ? AND HBLNUM_TARIFF_ID\= ?
		
update.packservMst.0 =UPDATE HBLT_PACKAGE_SERVICE_MST SET HBLNUM_QTY\=?,GNUM_UNIT_ID \= ?,GDT_LSTMOD_DATE \= SYSDATE, GDT_LSTMOD_SEATID\= ?, GSTR_REMARKS\=trim(?), GNUM_ISVALID\=? WHERE HBLNUM_PACKAGE_ID \= ?  AND HBLNUM_TARIFF_ID \= ? AND GNUM_HOSPITAL_CODE \= ?  AND HBLNUM_SLNO \= ?
insert.packservMst.0=INSERT INTO HBLT_PACKAGE_SERVICE_MST(HBLNUM_PACKAGE_ID, HBLNUM_TARIFF_ID, HBLNUM_QTY, GNUM_UNIT_ID, GDT_EFFECTIVE_FRM, GDT_ENTRY_DATE, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID,GNUM_HOSPITAL_CODE,HBLNUM_SLNO,HBLNUM_TARIFF_TYPE) \
                     VALUES(?,?,?,?,?\:\:timestamp without time zone,SYSDATE,?,?,?,?,\
                     Bill_Mst.getpackage_service_slno(?,?,?),?)
----------------------------------------------
select.packservdup.2    = SELECT count(*) FROM HBLT_PACKAGE_SERVICE_MST WHERE UPPER(HBLNUM_PACKAGE_ID) \= UPPER(TRIM(?)) AND UPPER(HBLNUM_TARIFF_ID) \= UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE \= ? and GNUM_ISVALID \!\=0


delete.packserv.0 = UPDATE HBLT_PACKAGE_SERVICE_MST SET GNUM_ISVALID ='0',GDT_LSTMOD_DATE=SYSDATE, GDT_LSTMOD_SEATID=? 
				 
delete.packserv.cond.0 = HBLNUM_PACKAGE_ID \= ?  AND HBLNUM_TARIFF_ID \= ? AND GNUM_HOSPITAL_CODE \= ?  AND HBLNUM_SLNO \= ?


						 
						
  /////////////////////////////////////////////////////////////////////////////////////////
  unit value list query 
  SELECT C.GNUM_MODULE_ID||'@'||C.GNUM_FRMUNIT_ID||'@'|| C.GNUM_TOUNIT_ID||'^'||C.FUNIT||'^'||C.TUNIT||'^'|| C.GNUM_CONVERTED_UNITVALUE||'^'||C.GDT_EFFECTIVE_FROM AS DATA FROM (SELECT B.GNUM_MODULE_ID,B.GNUM_FRMUNIT_ID, B.GNUM_TOUNIT_ID, A.GSTR_MODULE_NAME, (select GSTR_UNIT_NAME from GBLT_UNIT_MST where GNUM_UNIT_ID \= B.GNUM_FRMUNIT_ID)FUNIT, (select GSTR_UNIT_NAME from GBLT_UNIT_MST where GNUM_UNIT_ID \= B.GNUM_TOUNIT_ID)TUNIT, B.GNUM_CONVERTED_UNITVALUE,B.GDT_EFFECTIVE_FROM  FROM GBLT_METATABLE_TYPE_MST A,GBLT_UNITVALUE_MST B WHERE A.GNUM_MODULE_ID \= B.GNUM_MODULE_ID AND  B.GNUM_ISVALID <> '0' AND B.GNUM_ISVALID \=?)C    

/********************************************************************/

SELECT.WARD.0 = SELECT HANUM_WARD_CODE ID, INITCAP(HASTR_WARD_NAME) NAME FROM HGBT_WARD_MST WHERE HABL_ISVALID \= '1'
select.remarksMst.0 = SELECT A.GNUM_HOSPITAL_CODE||'@'||A.HBLNUM_REMARKS_ID ||'^'|| initcap(A.HBLSTR_REMARKS) ||'^'|| TO_CHAR(A.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')) as DATA FROM HBLT_REMARKS_MST A WHERE GDT_ENTRY_DATE <\= SYSDATE  AND A.GNUM_HOSPITAL_CODE \= ? 

gbl.remarkstype.0= SELECT SBLNUM_REMARKSTYPE_ID, SBLSTR_REMARKSTYPE_NAME FROM SBLT_REMARKSTYPE_MST WHERE GNUM_ISVALID=1 AND GNUM_HOSPITAL_CODE=? AND TRUNC(GDT_EFFECTIVE_FRM)<=TRUNC(SYSDATE)
select.remarksMst.cond.1 = A.GNUM_ISVALID =?
select.remarksMst.cond.0 = A.SBLNUM_REMARKS_TYPE =?				 
select.remarksMst.1 = SELECT HBLSTR_REMARKS,TO_CHAR(GDT_EFFECTIVE_FRM, 'DD-Mon-YYYY') effDt,DECODE(SBLNUM_REMARKS_TYPE,1,'Discount',2,'Cancellation',3,'Refund','Miscellaneous') mytype, NVL(GSTR_REMARKS,''),GNUM_SEATID ,GNUM_ISVALID  FROM HBLT_REMARKS_MST WHERE GNUM_HOSPITAL_CODE  = ? AND HBLNUM_REMARKS_ID=?
select.remarksMst.3 = SELECT NVL(HBLSTR_REMARKS,' '),TO_CHAR(GDT_EFFECTIVE_FRM, 'DD-Mon-YYYY') effDt,DECODE(SBLNUM_REMARKS_TYPE,1,'Discount',2,'Cancellation',3,'Refund','Miscellaneous') mytype,DECODE(GNUM_ISVALID,1,'Active',2,'InActive') FROM HBLT_REMARKS_MST WHERE GNUM_HOSPITAL_CODE  = ? AND HBLNUM_REMARKS_ID=?
insert.remarksMst.0 = INSERT INTO HBLT_REMARKS_MST ( GNUM_HOSPITAL_CODE,HBLNUM_REMARKS_ID, HBLSTR_REMARKS, SBLNUM_REMARKS_TYPE, GDT_EFFECTIVE_FRM,GNUM_SEATID, GSTR_REMARKS, GNUM_ISVALID) VALUES(?,BILL_MST.GetRemarksId(?,?),trim(?),?,to_date(to_char(?::timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,trim(?),?)
update.remarksMst.0 = UPDATE HBLT_REMARKS_MST SET HBLSTR_REMARKS =trim(?), GDT_LSTMOD_DATE =SYSDATE,GNUM_LSTMOD_SEATID=?,GSTR_REMARKS =?,GNUM_SEATID=?,GNUM_ISVALID =? where GNUM_HOSPITAL_CODE  = ? AND HBLNUM_REMARKS_ID =?
delete.remarksMst.0 = UPDATE HBLT_REMARKS_MST SET GNUM_ISVALID \= '0',GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=?  
delete.remarksMst.cond.0 = GNUM_HOSPITAL_CODE =? AND HBLNUM_REMARKS_ID =?

select.remarksMst.4 = SELECT count(*) FROM HBLT_REMARKS_MST where UPPER(HBLSTR_REMARKS)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE \= ? and SBLNUM_REMARKS_TYPE\=? and GNUM_ISVALID \!\=0

select.remarksMst.5 = SELECT count(*) FROM HBLT_REMARKS_MST where UPPER(HBLSTR_REMARKS)\=UPPER(TRIM(?)) AND GNUM_HOSPITAL_CODE \=? AND HBLNUM_REMARKS_ID \!\= ? AND GNUM_ISVALID \!\=0 and SBLNUM_REMARKS_TYPE\=?
 select.advanceMst.0 = SELECT C.SBLNUM_CHARGETYPE_ID || '@'|| C.SBLNUM_IPD_CHARGETYPE_ID || '@'|| C.GNUM_PATIENT_CAT_CODE || '@' ||C.HIPNUM_WARDTYPE_CODE || '@'|| C.HOSPITAL_CODE || '@'|| C.HBLNUM_ADVANCE_SLNO ||'|'||DTFLAG||'|'||FROMDT|| '^'|| TRIM(C.IPD_CHARGETYPE_NAME)|| '^'|| TRIM(C.PATIENT_CAT_NAME) || '^'|| C.ADVANCE_AMT||'^'||C.PART_AMT|| '^' || C.VALIDITY as DATA FROM ( SELECT DECODE(GDT_EFFECTIVE_TO,NULL,0,1) AS DTFLAG, TO_CHAR(GDT_EFFECTIVE_FRM,'dd-Mon-yyyy') AS FROMDT,A.SBLNUM_CHARGETYPE_ID, A.SBLNUM_IPD_CHARGETYPE_ID, A.GNUM_PATIENT_CAT_CODE, A.HBLNUM_ADVANCE_SLNO, A.GNUM_HOSPITAL_CODE HOSPITAL_CODE, A.HIPNUM_WARDTYPE_CODE , NVL ((SELECT INITCAP (SBLSTR_CHARGETYPE_NAME) FROM SBLT_CHARGETYPE_MST WHERE TRUNC (GDT_EFFECTIVE_FRM) <\= TRUNC (SYSDATE) AND GNUM_ISVALID \= 1 AND SBLNUM_CHARGETYPE_ID \= A.SBLNUM_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE), '') CHARGETYPE_NAME, NVL ((SELECT INITCAP (SBLSTR_IPD_CHARGETYPE_NAME) FROM SBLT_IPD_CHARGETYPE_MST WHERE GNUM_ISVALID \= 1 AND SBLNUM_IPD_CHARGETYPE_ID \= A.SBLNUM_IPD_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE),'') IPD_CHARGETYPE_NAME, AHIS_FUNCTION.GETCATEGORYNAME(A.GNUM_PATIENT_CAT_CODE ,A.GNUM_HOSPITAL_CODE) PATIENT_CAT_NAME, (NVL (A.HBLNUM_ADVANCE_AMT, 0) +  NVL (A.HBLNUM_SECURITY_AMT, 0))  ADVANCE_AMT, NVL (A.HBLNUM_PART_AMT, 0) PART_AMT, TO_CHAR (A.GDT_EFFECTIVE_FRM, 'DD/Mon/YYYY') || '-'|| NVL (TO_CHAR (A.GDT_EFFECTIVE_TO, 'DD/Mon/YYYY'), '') VALIDITY, A.GNUM_HOSPITAL_CODE, A.GNUM_ISVALID FROM HBLT_ADVANCE_MST A WHERE  (TRUNC(SYSDATE) BETWEEN A.GDT_EFFECTIVE_FRM AND NVL (A.GDT_EFFECTIVE_TO, TRUNC(SYSDATE))) OR TRUNC(GDT_EFFECTIVE_FRM)>TRUNC(SYSDATE)) C  WHERE C.GNUM_ISVALID \= 1 AND C.HOSPITAL_CODE \= ?
select.patcatandpaymentmodeMst.0 = SELECT sblnum_cat_code || '@'|| sblnum_reciept_paymentmode_id || '@'|| sblnum_refund_paymentmode_id || '@'|| GNUM_HOSPITAL_CODE || '^'|| AHIS_FUNCTION.GETCATEGORYNAME(sblnum_cat_code,GNUM_HOSPITAL_CODE)|| '^'|| bill_mst.getpaymentmodename(sblnum_reciept_paymentmode_id,GNUM_HOSPITAL_CODE) || '^'|| bill_mst.getpaymentmodename(sblnum_refund_paymentmode_id,GNUM_HOSPITAL_CODE) as DATA FROM sblt_category_paymentmode_mapping_mst where gnum_isvalid=1 and gnum_hospital_code=?
select.advanceMst.cond.0 = C.SBLNUM_CHARGETYPE_ID = ? 
select.advanceMst.1 = SELECT SBLNUM_IPD_CHARGETYPE_ID, SBLSTR_IPD_CHARGETYPE_NAME FROM SBLT_IPD_CHARGETYPE_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(SYSDATE) >\= TRUNC(GDT_EFFECTIVE_FRM)
select.advanceMst.2 = SELECT GNUM_PATIENT_CAT_CODE, INITCAP(TRIM(GSTR_PATIENT_CAT_NAME)) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ?  ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)
select.patcatandpaymentmodeMst.2 = SELECT SBLNUM_PAYMENTMODE_ID,SBLSTR_PAYMENTMODE_NAME  FROM SBLT_PAYMENTMODE_MST WHERE GNUM_HOSPITAL_CODE = 100  AND GNUM_ISVALID = 1 ORDER BY SBLNUM_PAYMENTMODE_ID
select.advanceMst.3 = SELECT SBLNUM_IPD_CHARGETYPE_ID,GNUM_PATIENT_CAT_CODE, NVL(HBLNUM_ADVANCE_AMT,0),NVL(HBLNUM_PART_AMT,0),NVL(HBLNUM_SECURITY_AMT,0), TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'), NVL(TO_CHAR(GDT_EFFECTIVE_TO,'DD-Mon-YYYY'),''), GSTR_REMARKS, SBLNUM_CHARGETYPE_ID , HIPNUM_WARDTYPE_CODE FROM HBLT_ADVANCE_MST WHERE SBLNUM_CHARGETYPE_ID \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_ADVANCE_SLNO \= ? 
select.patcatandpaymentmodeMst.1 =SELECT SBLNUM_CAT_CODE,SBLNUM_RECIEPT_PAYMENTMODE_ID,SBLNUM_REFUND_PAYMENTMODE_ID,SBLNUM_RECIEPT_MODE_ISDEFAULT,SBLNUM_REFUND_MODE_ISDEFAULT FROM SBLT_CATEGORY_PAYMENTMODE_MAPPING_MST WHERE SBLNUM_CAT_CODE =?  AND GNUM_HOSPITAL_CODE =? ORDER BY SBLNUM_RECIEPT_PAYMENTMODE_ID
select.advanceMst.4 = SELECT NVL(BILL_MST.GETIPDCHARGETYPENAME(SBLNUM_IPD_CHARGETYPE_ID,0,0,GNUM_HOSPITAL_CODE),''), NVL(AHIS_FUNCTION.GETCATEGORYNAME(GNUM_PATIENT_CAT_CODE,GNUM_HOSPITAL_CODE), ''), NVL(HBLNUM_ADVANCE_AMT,0)+NVL(HBLNUM_SECURITY_AMT,0) AS HBLNUM_ADVANCE_AMT ,NVL(HBLNUM_PART_AMT,0), TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY'), NVL(TO_CHAR(GDT_EFFECTIVE_TO,'DD-Mon-YYYY'),'/'), NVL(GSTR_REMARKS , ' ') FROM HBLT_ADVANCE_MST   WHERE SBLNUM_CHARGETYPE_ID \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND HBLNUM_ADVANCE_SLNO \= ? 
select.advanceMst.5 = SELECT COUNT(*) FROM HBLT_ADVANCE_MST WHERE SBLNUM_CHARGETYPE_ID\= ? AND SBLNUM_IPD_CHARGETYPE_ID\= ? AND GNUM_PATIENT_CAT_CODE\= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) < TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(DECODE(NVL(?,''),'',GDT_EFFECTIVE_FRM,TO_DATE(?,'DD-MON-YYYY'))) >\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_ISVALID \!\= 0   
select.advanceMst.6 = SELECT COUNT(*) FROM HBLT_ADVANCE_MST WHERE SBLNUM_CHARGETYPE_ID\= ? AND SBLNUM_IPD_CHARGETYPE_ID\= ? AND GNUM_PATIENT_CAT_CODE\= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND ((TRUNC(GDT_EFFECTIVE_FRM) <\= TRUNC(TO_DATE(?,'DD-MM-YYYY')) AND GDT_EFFECTIVE_TO is null  )AND GNUM_ISVALID \!\= 0\t\t
select.advanceMst.7 = SELECT COUNT(*) FROM HBLT_ADVANCE_MST WHERE SBLNUM_CHARGETYPE_ID\= ? AND SBLNUM_IPD_CHARGETYPE_ID\= ? AND GNUM_PATIENT_CAT_CODE\= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) < TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(DECODE(NVL(?,''),'',GDT_EFFECTIVE_FRM,TO_DATE(?,'DD-MON-YYYY'))) >\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_ISVALID \!\= 0\t                                             
select.advanceMst.8 = SELECT COUNT(*) FROM HBLT_ADVANCE_MST WHERE GNUM_ISVALID \= 1 AND NVL(GDT_EFFECTIVE_TO,SYSDATE) >\= TRUNC(SYSDATE) AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ?
select.patcatandpaymentmodeMst.8= SELECT COUNT(*) FROM SBLT_CATEGORY_PAYMENTMODE_MAPPING_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CAT_CODE \= ? AND SBLNUM_RECIEPT_PAYMENTMODE_ID \= ? AND SBLNUM_REFUND_PAYMENTMODE_ID \= ?
delete.patcatandpaymentmodeMst.0= DELETE FROM SBLT_CATEGORY_PAYMENTMODE_MAPPING_MST WHERE  SBLNUM_CAT_CODE \= ? AND GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID=1
insert.advanceMst.0 = INSERT INTO HBLT_ADVANCE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID,SBLNUM_IPD_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, HBLNUM_ADVANCE_SLNO, HBLNUM_ADVANCE_AMT,HBLNUM_SECURITY_AMT,HBLNUM_PART_AMT, GDT_EFFECTIVE_FRM,  GNUM_SEATID,GSTR_REMARKS,GNUM_ISVALID,HIPNUM_WARDTYPE_CODE)VALUES(?,?,?,?,BILL_MST.getadvanceslno(?,?,?,?,?),?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?,?,?)
insert.advanceMst.1 = INSERT INTO HBLT_ADVANCE_MST (SBLNUM_CHARGETYPE_ID,SBLNUM_IPD_CHARGETYPE_ID,GNUM_PATIENT_CAT_CODE, HBLNUM_ADVANCE_SLNO, GNUM_HOSPITAL_CODE, HBLNUM_ADVANCE_AMT,HBLNUM_SECURITY_AMT,HBLNUM_PART_AMT, GDT_EFFECTIVE_FRM, GNUM_SEATID,GSTR_REMARKS,GNUM_ISVALID,HIPNUM_WARDTYPE_CODE)VALUES(?,?,?,BILL_MST.GETADVANCESLNO(?,?,?,?,?),?,?,?,?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),?,?,1,?)\t\t\t\t  
insert.patcatandpaymentmodeMst.0=INSERT INTO SBLT_CATEGORY_PAYMENTMODE_MAPPING_MST (GNUM_HOSPITAL_CODE,SBLNUM_CAT_CODE,SBLNUM_RECIEPT_PAYMENTMODE_ID, SBLNUM_REFUND_PAYMENTMODE_ID,GNUM_ISVALID,sblnum_reciept_mode_isdefault,sblnum_refund_mode_isdefault)VALUES(?,?,?,?,?,?,?)
update.advanceMst.0 = UPDATE HBLT_ADVANCE_MST SET  HBLNUM_ADVANCE_AMT\=?,HBLNUM_PART_AMT\=?, HBLNUM_SECURITY_AMT\=?, GDT_EFFECTIVE_FRM\=?,GDT_EFFECTIVE_TO\=?, GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=?,GSTR_REMARKS\=? WHERE SBLNUM_CHARGETYPE_ID\= ? AND SBLNUM_IPD_CHARGETYPE_ID\= ? AND GNUM_PATIENT_CAT_CODE\= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE\= ? AND HBLNUM_ADVANCE_SLNO \= ?                     
update.advanceMst.1 = UPDATE HBLT_ADVANCE_MST  SET GDT_EFFECTIVE_TO \= TO_DATE(?,'DD-MON-YYYY') - 1 WHERE SBLNUM_CHARGETYPE_ID\= ? AND SBLNUM_IPD_CHARGETYPE_ID\= ? AND GNUM_PATIENT_CAT_CODE\= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_HOSPITAL_CODE\= ? AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) > TRUNC(GDT_EFFECTIVE_FRM) AND ((GDT_EFFECTIVE_TO IS NULL) OR (LENGTH(TRIM(GDT_EFFECTIVE_TO)) \= 0)) AND GNUM_ISVALID \!\= 0\t


update.advanceMst.2 = UPDATE HBLT_ADVANCE_MST SET GDT_EFFECTIVE_TO \= TO_DATE(?,'DD-Mon-YYYY')-1, HBLNUM_ADVANCE_AMT \= ?, HBLNUM_PART_AMT \= ?, HBLNUM_SECURITY_AMT \= ?, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ?, GSTR_REMARKS \= ? WHERE HBLNUM_ADVANCE_SLNO \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? 
						

update.advanceMst.3 = UPDATE HBLT_ADVANCE_MST SET HBLNUM_ADVANCE_AMT \= ?, HBLNUM_SECURITY_AMT \= ?, HBLNUM_PART_AMT \= ?, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID \= ?, GSTR_REMARKS \= ? WHERE HBLNUM_ADVANCE_SLNO \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ?
delete.advanceMst.0 = UPDATE HBLT_ADVANCE_MST SET GDT_EFFECTIVE_TO \= NULL WHERE GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? AND TRUNC(GDT_EFFECTIVE_TO) \= TO_DATE(?,'DD-Mon-YYYY')-1
delete.advanceMst.1 = UPDATE HBLT_ADVANCE_MST SET GNUM_ISVALID \= 0 WHERE HBLNUM_ADVANCE_SLNO \= ? AND GNUM_HOSPITAL_CODE \= ? AND HIPNUM_WARDTYPE_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_PATIENT_CAT_CODE \= ? 
select.billsetup.0 = SELECT HANUM_WARD_CODE ID, HASTR_WARD_NAME FROM HGBT_WARD_MST WHERE HABL_ISVALID \= 1
select.billsetup.1 = SELECT HBLNUM_GROUP_ID,HBLSTR_GROUP_NAME FROM HBLT_GROUP_MST WHERE GNUM_ISVALID\='1' AND HBLNUM_IS_VISIBLE \= '1'  AND GNUM_HOSPITAL_CODE\=?
select.billsetup.2 = SELECT HBLNUM_TARIFF_ID, HBLSTR_TARIFF_NAME||' - '||HBLSTR_TARIFF_CODE FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID = '1' AND HBLNUM_GROUP_ID = ? and gnum_hospital_code = # 

select.billsetup.gentariff.1=SELECT HBLNUM_TARIFF_ID, HBLSTR_TARIFF_NAME FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID = '1' AND HBLNUM_GROUP_ID = ?
 
select.billsetup.consumableChargesTariff.1=	SELECT HBLNUM_TARIFF_ID, HBLSTR_TARIFF_NAME FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID = '1' AND GNUM_HOSPITAL_CODE = ?
select.billsetup.consumableChargesTariff.2=	HBLNUM_GROUP_ID = ?			 
update.billsetup.0 = UPDATE HBLT_BILLING_PARAMETER_DTL SET HBLSTR_PARAM_VALUE \= ? WHERE HBLNUM_PARAM_TYPE \= ? AND HBLSTR_PARAM_NAME \= ? AND GNUM_HOSPITAL_CODE \= ?
select.billsetup.3 = SELECT HBLSTR_PARAM_VALUE FROM HBLT_BILLING_PARAMETER_DTL WHERE HBLNUM_PARAM_TYPE = ? AND HBLSTR_PARAM_NAME = ? AND GNUM_HOSPITAL_CODE = ? 
insert.billsetup.0 = INSERT INTO HBLT_COMPULSORY_PARAMETER_DTL (HBLNUM_COMP_TYPE, SBLNUM_CHARGETYPE_ID, \
					 GNUM_WARDTYPE_ID, HBLNUM_GROUP_ID, HBLNUM_TARIFF_ID,HBLNUM_NEWBABY_FLAG, HBLNUM_TRANSFER_FLAG, GNUM_SEATID , GNUM_CATEGORY_CODE,GNUM_HOSPITAL_CODE) \
					 VALUES (?,?,?,?,?,?,?,?,?,?)
					 
select.billsetup.4 = SELECT GNUM_WARDTYPE_ID, GNUM_CATEGORY_CODE, HBLNUM_GROUP_ID, HBLNUM_TARIFF_ID, HBLNUM_NEWBABY_FLAG, HBLNUM_TRANSFER_FLAG FROM HBLT_COMPULSORY_PARAMETER_DTL WHERE HBLNUM_COMP_TYPE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ?
delete.billsetup.0 = DELETE HBLT_COMPULSORY_PARAMETER_DTL  WHERE HBLNUM_COMP_TYPE \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ?        \t\t\t\t\t  \t\t\t\t\t\t   \t\t\t\t               \t\t\t\t\t  \t\t\t\t\t\t   \t\t\t\t                                                \t\t\t\t\t\t
select.billsetup.5 = SELECT GNUM_PATIENT_CAT_CODE, INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ?   ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)

 select.billsetup.combo.wardtype = SELECT HIPNUM_WARDTYPE_CODE,HIPSTR_WARDTYPENAME FROM hipt_wardtype_mst a WHERE (SELECT COUNT (*) FROM sblt_ipd_chargetype_mst WHERE gstr_ward_id LIKE '%,' || a.hipnum_wardtype_code || ',%') \= 0 AND gnum_isvalid \= 1 AND gnum_hospital_code \= ? and  trunc(sysdate) >\= trunc(GDT_EFFECTIVE_FRM)
									
//select.billsetup.combo.sec_wardtype = SELECT HIPNUM_WARDTYPE_CODE,HIPSTR_WARDTYPENAME FROM hipt_wardtype_mst a WHERE (SELECT COUNT (*) FROM sblt_ipd_chargetype_mst WHERE gstr_ward_id LIKE '%,' || a.hipnum_wardtype_code || ',%') \= 0 AND gnum_isvalid \= 1 AND gnum_hospital_code \= ? and  trunc(sysdate) >\= trunc(GDT_EFFECTIVE_FRM)\t\t\t\t


 select.billsetup.combo.sec_wardtype = SELECT HIPNUM_WARDTYPE_CODE,HIPSTR_WARDTYPENAME FROM hipt_wardtype_mst a WHERE  gnum_isvalid \= 1 AND gnum_hospital_code \= ? 
													
 select.billsetup.combo.treatcat = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ? ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
			
 select.billsetup.combo.treatcat0 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=0  ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
 
 select.billsetup.combo.treatcat1 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=4 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
 
 select.billsetup.combo.treatcat2 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=3 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
 
 select.billsetup.combo.treatcat3 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=0 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
 select.billsetup.combo.treatcat4 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=3 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t
 select.billsetup.combo.treatcat5 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST  WHERE  GNUM_ISVALID \= 1  AND GNUM_HOSPITAL_CODE \= ?  and gnum_patient_cat_group\=2 ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)\t\t\t\t\t\t\t\t\t\t\t\t
									
update.billsetup.servicetax.0 = UPDATE HBLT_TARIFF_COST_MST SET HBLNUM_TMP_SERVICE_TAX \= HBLNUM_SERVICE_TAX, HBLNUM_SERVICE_TAX \= 0 WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFFCOST_SLNO > 0 AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID > 0
update.billsetup.servicetax.1 = UPDATE HBLT_TARIFF_COST_MST SET HBLNUM_SERVICE_TAX \= HBLNUM_TMP_SERVICE_TAX WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFFCOST_SLNO > 0 AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID > 0



update.billsetup.1= UPDATE HBLT_BILLING_PARAMETER_DTL SET HBLSTR_PARAM_VALUE\=?,GDT_ENTRY_DATE\=SYSDATE,GNUM_SEATID\=? WHERE HBLNUM_PARAM_TYPE\=? AND HBLSTR_PARAM_NAME\=? AND GNUM_HOSPITAL_CODE\=?

select.billsetup.6= SELECT HBLSTR_PARAM_NAME, HBLSTR_PARAM_VALUE FROM ahiscl.HBLT_BILLING_PARAMETER_DTL WHERE HBLNUM_PARAM_TYPE\=? AND GNUM_HOSPITAL_CODE\=?
								
								
select.billsetup.7=SELECT SBLNUM_CHARGETYPE_ID AS C_ID, INITCAP(SBLSTR_CHARGETYPE_NAME) AS C_NAME FROM SBLT_CHARGETYPE_MST WHERE GNUM_ISVALID \= 1 AND GDT_EFFECTIVE_FRM <\= TRUNC(SYSDATE) AND GNUM_HOSPITAL_CODE \= ? ORDER BY SBLNUM_CHARGETYPE_ID ASC
                        
select.billsetup.8= SELECT HIPNUM_WARDTYPE_CODE, INITCAP(HIPSTR_WARDTYPENAME) FROM HIPT_WARDTYPE_MST WHERE GDT_EFFECTIVE_FRM <\= SYSDATE AND GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? 
select.unitMst.0 = SELECT  C.GNUM_UNIT_ID||'@'||C.GNUM_HOSPITAL_CODE ||'$'||C.GNUM_BASEUNIT_ID ||'^'|| C.GSTR_UNIT_NAME ||'^'|| C.GNUM_BASEUNIT_NAME AS DATA FROM (  SELECT C.GNUM_UNIT_ID, C.GNUM_HOSPITAL_CODE, NVL(C.GNUM_BASEUNIT_ID,'0') AS GNUM_BASEUNIT_ID  , (C.GSTR_UNIT_NAME) AS GSTR_UNIT_NAME , NVL((SELECT (GSTR_UNIT_NAME) FROM GBLT_UNIT_MST B  WHERE B.GNUM_UNIT_ID \=C.GNUM_BASEUNIT_ID and b.gnum_hospital_code\=c.gnum_hospital_code),'/')  AS GNUM_BASEUNIT_NAME , TO_CHAR(C.GDT_EFFECTIVE_FRM, 'DD-Mon-YYYY') AS GDT_EFFECTIVE_FRM , c.gnum_module_id , c.gnum_isvalid   FROM GBLT_UNIT_MST C  )  C WHERE C.GNUM_HOSPITAL_CODE\= ?
select.unitMst.cond.0 = C.GNUM_MODULE_ID =?
select.unitMst.1 = SELECT (SELECT GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST B WHERE B.GNUM_MODULE_ID \= A.GNUM_MODULE_ID AND GBL_ISVALID \= '1') MOD_NAME, GSTR_UNIT_NAME, DECODE (NVL (GNUM_BASEUNIT_ID, 0), 0, '-', GNUM_BASEUNIT_ID, (SELECT GSTR_UNIT_NAME FROM GBLT_UNIT_MST WHERE GNUM_UNIT_ID \= A.GNUM_BASEUNIT_ID AND GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE) ) BASEUNIT, TO_CHAR (GDT_EFFECTIVE_FRM, 'DD-Mon-YYYY') EFFDT, NVL (GSTR_REMARKS, ''), GNUM_ISVALID,GNUM_DECIMAL_ALLOWED FROM GBLT_UNIT_MST A WHERE GNUM_UNIT_ID \= ? AND GNUM_HOSPITAL_CODE \= ?
select.unitMst.2 = SELECT GNUM_MODULE_ID, GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST WHERE GBL_ISVALID = '1' 

select.unitMst.cond.2 = GNUM_MODULE_ID=? order by GSTR_MODULE_NAME
select.unitMst.3 = SELECT GNUM_UNIT_ID ||'#'||GNUM_UNIT_LEVEL ,GSTR_UNIT_NAME FROM GBLT_UNIT_MST WHERE GNUM_MODULE_ID =? AND GNUM_BASEUNIT_ID IS NULL AND GNUM_ISVALID = '1' and GNUM_HOSPITAL_CODE=? AND TRUNC(SYSDATE) >= GDT_EFFECTIVE_FRM
select.unitMst.4 = SELECT NVL(C.MODULE_NAME,'---') , C.UNIT_NAME , C.BASE_UNIT_NAME ,DECODE(C.GNUM_DECIMAL_ALLOWED,'0','No','1','Yes'), C.REMARKS, C.ISVALID FROM ( SELECT ( SELECT GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST B WHERE B.GNUM_MODULE_ID \= A.GNUM_MODULE_ID ) AS MODULE_NAME, GSTR_UNIT_NAME AS UNIT_NAME , NVL ((SELECT GSTR_UNIT_NAME FROM GBLT_UNIT_MST B WHERE B.GNUM_UNIT_ID \= A.GNUM_BASEUNIT_ID), ' ') AS BASE_UNIT_NAME, TO_CHAR (GDT_EFFECTIVE_FRM, 'DD-Mon-YYYY') AS EFFECTIVE_FROM, NVL (GSTR_REMARKS, ' ') AS REMARKS, DECODE (GNUM_ISVALID, 1, 'Active', 2, 'Inactive') AS ISVALID , GNUM_UNIT_ID, GNUM_HOSPITAL_CODE,GNUM_DECIMAL_ALLOWED FROM GBLT_UNIT_MST A) C WHERE C.GNUM_UNIT_ID \= ? AND C.GNUM_HOSPITAL_CODE \= ?
				   				 
insert.unitMst.0 = INSERT INTO GBLT_UNIT_MST (GNUM_UNIT_ID, GSTR_UNIT_NAME, GNUM_MODULE_ID, GNUM_BASEUNIT_ID, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID,GNUM_UNIT_LEVEL,GNUM_HOSPITAL_CODE,GNUM_DECIMAL_ALLOWED) VALUES (bill_mst.getunitId(?,?),trim(?),?,TO_NUMBER(?),to_date(to_char(?::timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),trim(?),?,?,BILL_MST.GetUnitLevel(?,?),?,?)
 
insert.unit.2 = INSERT INTO GBLT_UNITVALUE_MST (GNUM_HOSPITAL_CODE,GNUM_MODULE_ID,GNUM_FRMUNIT_ID, GNUM_TOUNIT_ID, GNUM_CONVERTED_UNITVALUE, GDT_EFFECTIVE_FROM,GDT_ENTRY_DATE,GNUM_SEATID,GSTR_REMARKS,GNUM_ISVALID,GNUM_UNIT_SLNO) VALUES(?,?,bill_mst.getunitId(?,?),bill_mst.getunitId(?,?),?,to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),SYSDATE,?,?,?,?)
insert.unitMst.1 = INSERT INTO GBLT_UNIT_MST (GNUM_UNIT_ID, GSTR_UNIT_NAME, GNUM_MODULE_ID, GNUM_BASEUNIT_ID, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID,GNUM_UNIT_LEVEL,GNUM_HOSPITAL_CODE,GNUM_DECIMAL_ALLOWED) VALUES (bill_mst.getunitId(?,?),trim(?),?,?,to_date(to_char(?::timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'),trim(?),?,?,?,?,(select GNUM_DECIMAL_ALLOWED from GBLT_UNIT_MST where GNUM_UNIT_ID=? and GNUM_HOSPITAL_CODE=? and GNUM_ISVALID=1))
update.unitMst.0 = UPDATE GBLT_UNIT_MST SET GSTR_UNIT_NAME =trim(?), GDT_EFFECTIVE_FRM =to_date(to_char(?::timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GDT_LSTMOD_DATE = SYSDATE,GNUM_LSTMOD_SEATID =?, GSTR_REMARKS =?, GNUM_ISVALID =?, GNUM_DECIMAL_ALLOWED=? where GNUM_UNIT_ID =? and GNUM_HOSPITAL_CODE = ?

update.unitMst.1 = UPDATE GBLT_UNIT_MST SET GDT_LSTMOD_DATE = SYSDATE,GNUM_LSTMOD_SEATID =?, GNUM_DECIMAL_ALLOWED=? where  GNUM_BASEUNIT_ID =? and GNUM_HOSPITAL_CODE = ? AND GNUM_ISVALID =1
delete.unitMst.0 = UPDATE GBLT_UNIT_MST SET GNUM_ISVALID \= '0',GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=? 

delete.unitMst.cond.0 = GNUM_UNIT_ID = ? and GNUM_HOSPITAL_CODE = ?
delete.unitMst.1 = UPDATE GBLT_UNIT_MST SET GNUM_ISVALID \= '0',GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=?
 
delete.unitMst.cond.1 = GNUM_BASEUNIT_ID = ? and GNUM_HOSPITAL_CODE = ?

select.unitMst.5 = SELECT count(*) FROM GBLT_UNIT_MST where UPPER(GSTR_UNIT_NAME)=UPPER(TRIM(?)) and GNUM_ISVALID <> '0' and GNUM_HOSPITAL_CODE = ? and GNUM_MODULE_ID = ?
select.unitMst.6 = SELECT count(*) FROM GBLT_UNIT_MST where UPPER(GSTR_UNIT_NAME)\=UPPER(TRIM(?)) and GNUM_HOSPITAL_CODE \= ? and GNUM_ISVALID \!\= 0 AND GNUM_UNIT_ID \!\= ? and GNUM_MODULE_ID \= ?


/////************** Modified by Manisha 07-09-2015

select.ClientMst.0  = SELECT HBLNUM_CLIENT_NO||'@'||GNUM_HOSPITAL_CODE||'^'||UPPER(HBLSTR_CLIENT_CODE)||'^'||HBLSTR_CLIENT_NAME||'^'||hblstr_reg_no||'^'||DECODE(hblnum_paid_approval_type,'1','Pre-Paid','2','Post-Paid') AS DATA,HBLSTR_CLIENT_CODE as clientCode,HBLSTR_CLIENT_NAME as clientName FROM HBLT_CLIENT_MST  WHERE GNUM_HOSPITAL_CODE \= ?
select.ClientMst.cond.0	=  GNUM_ISVALID = ? 
view.ClientMst.0    = SELECT nvl(UPPER(hblstr_client_code),'-'),initcap(HBLSTR_CLIENT_NAME),hblstr_reg_no,bill_mst.get_category_name('100',gnum_patient_cat_code),bill_mst.get_client_type_name(sblnum_client_type_id),hblnum_client_payament_rule,DECODE(hblnum_paid_approval_type,'1','Pre-Paid','2','Post-Paid') FROM HBLT_CLIENT_MST WHERE HBLNUM_CLIENT_NO \= ? AND GNUM_HOSPITAL_CODE \= ?
select.clientTypeName.0 = select sblnum_client_type_id,sblstr_client_type_name from sblt_client_type_mst where gnum_isvalid \= 1;   
get.category.list = select gnum_patient_cat_code,gstr_patient_cat_name from gblt_patient_cat_mst where gnum_isvalid=1 and gnum_hospital_code=100 and gnum_patient_cat_group=0


		
delete.ClientMst.0  = UPDATE HBLT_CLIENT_MST SET  GNUM_ISVALID= '0', GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ? 

delete.ClientMst.cond.0 = HBLNUM_CLIENT_NO = ? AND GNUM_HOSPITAL_CODE = ? 

insert.ClientMst.0  = INSERT INTO hblt_client_mst( \
		    hblnum_client_no, hblstr_client_name, sblnum_client_type_id, \
		    hblstr_reg_no, hblstr_contact_person, hblstr_client_address, \
		    hblstr_contact_no, hblstr_email, hblstr_nearest_office, hblnum_paid_approval_type, \
		    hblnum_opd_covered, hblnum_ipd_covered, hblnum_emergency_covered, \
		    gdt_lstmod_date, gnum_seatid, gdt_entry_date, \
		    gstr_remarks, gnum_isvalid, gnum_hospital_code, hblstr_fax_no, \
		    gnum_patient_cat_code, hblnum_client_payament_rule,hblstr_client_code)\
		    VALUES (BILL_MST.get_client_no(?),?, ?,  \
		    ?, ?, ?,  \
		    ?, ?, ?, ?, ?, ?, ?,  \
		    null, ?, sysdate, ?, ?, ?, ?,  \
		    ?,?,?)


get.ClientMst.0     = SELECT hblstr_client_name, bill_mst.get_client_type_name(sblnum_client_type_id),hblstr_reg_no, hblstr_contact_person, hblstr_client_address,hblstr_contact_no, hblstr_email, hblstr_nearest_office, hblnum_paid_approval_type,hblnum_opd_covered, hblnum_ipd_covered, hblnum_emergency_covered,gstr_remarks, hblstr_fax_no,gnum_patient_cat_code,hblnum_client_payament_rule,sblnum_client_type_id,gnum_isvalid,hblstr_client_code FROM hblt_client_mst  where gnum_hospital_code=? and hblnum_client_no=?
                     
  

 get.ClientMst.1     = SELECT  HBLSTR_CLIENT_NAME,HBLNUM_CLIENT_TYPE,HBLSTR_CONTACT_PERSON,HBLSTR_CLIENT_ADDRESS,HBLSTR_CONTACT_NO,HBLSTR_EMAIL,HBLSTR_NEAREST_OFFICE,HBLNUM_PAYMENT_TYPE,HBLNUM_OPD_COVERED,HBLNUM_IPD_COVERED,HBLNUM_EMERGENCY_COVERED,GDT_EFFECTIVE_FRM,GSTR_REMARKS,GNUM_ISVALID,HBLSTR_REG_NO FROM HBLT_CLIENT_MST WHERE  HBLNUM_CLIENT_NO \= ? AND GNUM_ISVALID \= 1                    
unique.ClientMst.0  = SELECT count(*) FROM  HBLT_CLIENT_MST WHERE UPPER(trim(HBLSTR_CLIENT_NAME))= UPPER(TRIM(?)) and  GNUM_HOSPITAL_CODE = ? and GNUM_ISVALID != 0 

//For unique record in case of Update
unique.ClientMst.2  = SELECT count(*) FROM  HBLT_CLIENT_MST WHERE  UPPER(HBLSTR_CLIENT_NAME)= UPPER(TRIM(?)) and HBLNUM_CLIENT_NO != ? and GNUM_HOSPITAL_CODE = ? and GNUM_ISVALID != 0 

//Updated Data after Duplicacy Checking

update.ClientMst.1  = UPDATE hblt_client_mst SET hblstr_client_name\=?,  hblstr_reg_no\=?, hblstr_contact_person\=?, hblstr_client_address\=?, hblstr_contact_no\=?, hblstr_email\=?, hblstr_nearest_office\=?, hblnum_paid_approval_type\=?, hblnum_opd_covered\=?, hblnum_ipd_covered\=?, hblnum_emergency_covered\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?, hblstr_fax_no\=?, gnum_patient_cat_code\=?, hblnum_client_payament_rule\=?, gnum_isvalid\=?, hblstr_client_code\=? WHERE hblnum_client_no\=? AND sblnum_client_type_id\=? AND gnum_hospital_code\=?

/*************************************End Client Mst*******************************************/



///////////*************************** COUNTER MASTER *********************************


select.counterMst.0	=SELECT A.GBLNUM_COUNTER_ID ||'@'||A.GNUM_HOSPITAL_CODE ||'^'||A.GBLSTR_COUNTER_NAME ||'^'|| A.GBLSTR_IP_ADDR ||'^'||A.GBLSTR_LOCATION||'^'|| A.EFFECTIVE_FRM as DATA FROM ( SELECT CNT.GBLNUM_COUNTER_ID  ,  CNT.GNUM_HOSPITAL_CODE  , INITCAP(TRIM(CNT.GBLSTR_COUNTER_NAME)) AS GBLSTR_COUNTER_NAME , GBLSTR_IP_ADDR ,GBLSTR_LOCATION, TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY') AS EFFECTIVE_FRM , CNT.GNUM_ISVALID,GBLNUM_MODULE_ID  FROM GBLT_COUNTER_MST CNT ) A WHERE A.GNUM_HOSPITAL_CODE \= ?
							
						

select.counterMst.cond.1 =	A.GNUM_ISVALID = ?		

select.counterMst.cond.2 =	A.GBLNUM_MODULE_ID = ?								 
							
select.counterMst.1 =SELECT GNUM_MODULE_ID, INITCAP(TRIM(GSTR_MODULE_NAME)) FROM GBLT_METATABLE_TYPE_MST WHERE GBL_ISVALID = 1 AND GNUM_HOSPITAL_CODE=? ORDER BY GSTR_MODULE_NAME
select.counterMst.2 =SELECT INITCAP(TRIM(GBLSTR_COUNTER_NAME)),A.GBLSTR_IP_ADDR, A.GBLSTR_LOCATION, TO_CHAR(A.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')),NVL(INITCAP(A.GSTR_REMARKS),' '),DECODE(a.GNUM_ISVALID,1,'Active',2,'Inactive') FROM GBLT_COUNTER_MST A, GBLT_METATABLE_TYPE_MST B WHERE GNUM_MODULE_ID =A.GBLNUM_MODULE_ID and A.GBLNUM_COUNTER_ID=?  AND GNUM_HOSPITAL_CODE=?
select.counterMst.6 =SELECT INITCAP(TRIM(GSTR_MODULE_NAME)) , INITCAP(TRIM(GBLSTR_COUNTER_NAME)),A.GBLSTR_IP_ADDR, A.GBLSTR_LOCATION, TO_CHAR(A.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')),NVL(INITCAP(A.GSTR_REMARKS),' '),DECODE(a.GNUM_ISVALID,1,'Active',2,'Inactive') FROM GBLT_COUNTER_MST A, GBLT_METATABLE_TYPE_MST B WHERE GNUM_MODULE_ID =A.GBLNUM_MODULE_ID and A.GBLNUM_COUNTER_ID=?  AND GNUM_HOSPITAL_CODE=?



////////////////////// qry by anshul to get module name from module id//////////////////////////////////////


select.moduleName.0 = SELECT GSTR_MODULE_NAME FROM GBLT_METATABLE_TYPE_MST WHERE GNUM_MODULE_ID = ? AND GBL_ISVALID = '1'
select.counterMst.3 =SELECT A.GBLSTR_IP_ADDR,A.GBLSTR_COUNTER_NAME,A.GBLSTR_LOCATION ,TO_CHAR(A.GDT_EFFECTIVE_FRM,('DD-Mon-YYYY')),NVL(A.GSTR_REMARKS,''),A.GNUM_ISVALID FROM GBLT_COUNTER_MST A WHERE A.GBLNUM_COUNTER_ID\=? AND A.GNUM_HOSPITAL_CODE\=? 
select.counterMst.4 =SELECT count(*) FROM GBLT_COUNTER_MST \tWHERE UPPER(GBLSTR_COUNTER_NAME)\=UPPER(TRIM(?)) AND GBLNUM_COUNTER_ID \!\=? AND GNUM_HOSPITAL_CODE\=? AND GBLNUM_MODULE_ID \= ? and GNUM_ISVALID \!\= 0 
						
select.counterMst.4.0 =SELECT count(*) FROM GBLT_COUNTER_MST \tWHERE UPPER(GBLSTR_IP_ADDR)\=UPPER(TRIM(?)) AND GBLNUM_COUNTER_ID \!\=? AND GNUM_HOSPITAL_CODE\=? AND GBLNUM_MODULE_ID \= ? and GNUM_ISVALID \!\= 0 
select.counterMst.5 =SELECT count(*) FROM GBLT_COUNTER_MST WHERE GBLNUM_MODULE_ID \= ? AND  GNUM_HOSPITAL_CODE \= ? AND (GBLSTR_IP_ADDR \= ? OR UPPER(trim(GBLSTR_COUNTER_NAME))\=UPPER(TRIM(?))) and GNUM_ISVALID \!\= 0 




/******************* counter master UPDATE query. (change by anshul after changes in table (addition of buiding id,block id,floor id,hospital code))*********************/
////////////////////////////////////////////////////////////////////////////////////////////////////////


update.counterMst.0 =UPDATE GBLT_COUNTER_MST SET GBLSTR_IP_ADDR \= ?,GBLSTR_COUNTER_NAME\=trim(?),GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=? , GSTR_REMARKS\=trim(?) ,GNUM_ISVALID\=? ,GBLSTR_LOCATION\=? WHERE GBLNUM_COUNTER_ID\=? AND GNUM_HOSPITAL_CODE\=?
						
						
/////////////////////////////// counter master DELETE query./////////////////////////////////////
		
delete.counterMst.0 =UPDATE GBLT_COUNTER_MST SET GNUM_ISVALID \= 0 , GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?
						
						
delete.counterMst.cond.0 = GBLNUM_COUNTER_ID=? AND GNUM_HOSPITAL_CODE=?
						
						
/////////////////////////////


insert.counterMst.0 =INSERT INTO GBLT_COUNTER_MST (GBLNUM_MODULE_ID,GBLSTR_IP_ADDR,GBLSTR_COUNTER_NAME,GDT_EFFECTIVE_FRM,GNUM_SEATID,GDT_ENTRY_DATE,GSTR_REMARKS,GNUM_ISVALID,NUM_BUILDING_CODE,NUM_BLOCK_ID,NUM_FLOOR_ID,GBLNUM_COUNTER_ID,GNUM_HOSPITAL_CODE,GBLSTR_LOCATION) VALUES(?,?,trim(?),(?\:\:timestamp),?,SYSDATE,trim(?),?,?,?,?,BILL_MST.getcounterid(?,?),?,?)
								
///////// additional queries by Anshul

select.BuildingName.0 = SELECT NUM_BUILDING_CODE, INITCAP(STR_BUILDING_NAME) FROM EST_BUILDING_MST WHERE GNUM_ISVALID \= 1 AND NUM_HOSPITAL_CODE \= ? AND TRUNC(SYSDATE) BETWEEN GDT_EFFECTIVE_FRM AND NVL(GDT_EFFECTIVE_TO,TRUNC(SYSDATE))
						
						
select.BlockName.0 = SELECT NUM_BLOCK_ID, INITCAP(STR_BLOCK_NAME) FROM EST_BLOCK_MST WHERE GNUM_ISVALID \= 1 AND NUM_HOSPITAL_CODE \= ? AND TRUNC(SYSDATE) BETWEEN GDT_EFFECTIVE_FRM AND NVL(GDT_EFFECTIVE_TO,TRUNC(SYSDATE)) AND  NUM_BUILDING_CODE \= ?
						 



select.FloorName.0 = SELECT NUM_FLOOR_ID, INITCAP(STR_FLOOR_NAME) FROM EST_FLOOR_MST WHERE GNUM_ISVALID \= 1 AND NUM_HOSPITAL_CODE \= ? AND TRUNC(SYSDATE) BETWEEN GDT_EFFECTIVE_FRM AND NVL(GDT_EFFECTIVE_TO,TRUNC(SYSDATE)) AND NUM_BUILDING_CODE \= ? AND NUM_BLOCK_ID \= ?
						
											
										
/*************************************************** Start Charge Rule Master (by Tanvi)*******************************************************/
select.ChargeRuleMst.0 = SELECT HBLSTR_RULE_NAME,bill_mst.getchargetypename(SBLNUM_NEW_CHARGETYPE_ID,GNUM_HOSPITAL_CODE) AS HOSP_SERVICE, AHIS_FUNCTION.getCategoryName(GNUM_NEW_PATIENT_CAT_CODE,GNUM_HOSPITAL_CODE) AS CATEGORY, BILL_MST.getipdchargetypename(SBLNUM_NEW_IPD_CHARGETYPE_ID,SBLNUM_NEW_CHARGETYPE_ID,0,GNUM_HOSPITAL_CODE) AS WARD_TYPE, bill_mst.getchargetypename(SBLNUM_OLD_CHARGETYPE_ID,GNUM_HOSPITAL_CODE)||' '||HBLNUM_VARIATION as data2, HBLNUM_RULE_ID||'^'|| GNUM_HOSPITAL_CODE||'^'|| SBLNUM_NEW_CHARGETYPE_ID||'^'|| GNUM_NEW_PATIENT_CAT_CODE||'^'|| SBLNUM_NEW_IPD_CHARGETYPE_ID||'^'|| SBLNUM_OLD_CHARGETYPE_ID||'^'|| GNUM_OLD_PATIENT_CAT_CODE||'^'|| SBLNUM_OLD_IPD_CHARGETYPE_ID||'^'|| HBLNUM_VARIATION||'^'|| GSTR_REMARKS||'^'||TO_CHAR(GDT_EFFECTIVE_FRM,'DD-Mon-YYYY') ||'^'|| BILL_MST.getipdchargetypename(SBLNUM_NEW_IPD_CHARGETYPE_ID,SBLNUM_NEW_CHARGETYPE_ID,0,GNUM_HOSPITAL_CODE)||'^'|| BILL_MST.getipdchargetypename(SBLNUM_OLD_IPD_CHARGETYPE_ID,SBLNUM_OLD_CHARGETYPE_ID,0,GNUM_HOSPITAL_CODE)||'^'|| AHIS_FUNCTION.getCategoryName(GNUM_NEW_PATIENT_CAT_CODE,GNUM_HOSPITAL_CODE)||'^'|| AHIS_FUNCTION.getCategoryName(GNUM_OLD_PATIENT_CAT_CODE,GNUM_HOSPITAL_CODE)||'^'|| HBLSTR_RULE_NAME||'^'||decode(GDT_EFFECTIVE_TO,NULL,0,1) as data1 FROM HBLT_CHARGE_RULE_MST WHERE GNUM_ISVALID \= 1 AND (trunc(SYSDATE) BETWEEN  trunc(GDT_EFFECTIVE_FRM  ) AND trunc(NVL(GDT_EFFECTIVE_TO, sysdate)) OR trunc(SYSDATE) <  trunc(GDT_EFFECTIVE_FRM ))  AND GNUM_HOSPITAL_CODE \= ?
select.ChargeRuleMst.HospServ.1 = SELECT A.SBLNUM_CHARGETYPE_ID, A.SBLSTR_CHARGETYPE_NAME FROM SBLT_CHARGETYPE_MST A WHERE TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 AND A.GNUM_HOSPITAL_CODE  in (?,100) ORDER BY A.SBLSTR_CHARGETYPE_NAME  
----------------------------------------------------------------			                      
select.ChargeRuleMst.WardType.1 = SELECT A.SBLNUM_IPD_CHARGETYPE_ID, INITCAP(A.SBLSTR_IPD_CHARGETYPE_NAME) FROM SBLT_IPD_CHARGETYPE_MST A WHERE SBLNUM_CHARGETYPE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(A.GDT_EFFECTIVE_FRM) <\= TRUNC(SYSDATE) AND A.GNUM_ISVALID \= 1 ORDER BY A.SBLSTR_IPD_CHARGETYPE_NAME
------------------------------------------------------------------------------------------

select.ChargeRuleMst.NewPatCat.1 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A WHERE  GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=1 AND GNUM_PATIENT_CAT_CODE NOT IN (SELECT GNUM_NEW_PATIENT_CAT_CODE FROM HBLT_CHARGE_RULE_MST WHERE GNUM_ISVALID \= 1 AND  GNUM_HOSPITAL_CODE \= A.GNUM_HOSPITAL_CODE AND SBLNUM_NEW_CHARGETYPE_ID \= ? AND SBLNUM_NEW_IPD_CHARGETYPE_ID \= ?) ORDER BY GSTR_PATIENT_CAT_NAME
									
select.ChargeRuleMst.OldPatCat.1 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_ISVALID\=1  ORDER BY GSTR_PATIENT_CAT_NAME
									
insert.ChargeRuleMst.1 = INSERT INTO  HBLT_CHARGE_RULE_MST(HBLNUM_RULE_ID, GNUM_HOSPITAL_CODE, HBLSTR_RULE_NAME, SBLNUM_NEW_CHARGETYPE_ID, GNUM_NEW_PATIENT_CAT_CODE, SBLNUM_NEW_IPD_CHARGETYPE_ID, SBLNUM_OLD_CHARGETYPE_ID, GNUM_OLD_PATIENT_CAT_CODE, SBLNUM_OLD_IPD_CHARGETYPE_ID, HBLNUM_VARIATION, GSTR_REMARKS, GDT_EFFECTIVE_FRM, GNUM_SEATID, GNUM_ISVALID)VALUES(BILL_MST.GetRuleId(?), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, to_date(?,'dd-mon-yyyy'), ?, ? )\t
update.ChargeRuleMst.Correction.1 = UPDATE HBLT_CHARGE_RULE_MST SET HBLNUM_VARIATION \= ?,HBLSTR_RULE_NAME\=?,GSTR_REMARKS\=? WHERE HBLNUM_RULE_ID \= ? AND GNUM_HOSPITAL_CODE \= ?\t
update.ChargeRuleMst.Modification.1 = UPDATE HBLT_CHARGE_RULE_MST SET GSTR_REMARKS\=?,GDT_EFFECTIVE_FRM\=?, GDT_EFFECTIVE_TO \= GDT_EFFECTIVE_FRM - 1, GDT_LSTMOD_DATE \= SYSDATE,GNUM_LSTMOD_SEATID \= ? WHERE HBLNUM_RULE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? \t
delete.ChargeRuleMst.0 = UPDATE HBLT_CHARGE_RULE_MST SET GDT_EFFECTIVE_TO \= trunc(TO_DATE(?,'dd-Mon-yyyy')) - 1 WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_NEW_CHARGETYPE_ID \= ? AND GNUM_NEW_PATIENT_CAT_CODE \= ? AND SBLNUM_NEW_IPD_CHARGETYPE_ID \= ? AND GDT_EFFECTIVE_TO IS NULL\t\t
						 
delete.ChargeRuleMst.1 = UPDATE HBLT_CHARGE_RULE_MST SET GNUM_ISVALID \= 0 WHERE HBLNUM_RULE_ID \= ? AND GNUM_HOSPITAL_CODE \= ?\t\t\t\t\t\t \t\t\t\t\t\t  \t\t          \t\t\t\t              \t        



select.ccruleMst.0 = SELECT PKEY||'^'||HOSPITAL_SERVICE||'^'||WARD_TYPE||'^'|| PATIENT_CATEGORY||'^'||DISCOUNT_VALUE AS DATA FROM ( SELECT HBLNUM_RULE_ID|| '@' ||GNUM_PATIENT_CAT_CODE|| '@' ||SBLNUM_CHARGETYPE_ID|| '@' ||SBLNUM_IPD_CHARGETYPE_ID|| '@' ||GNUM_HOSPITAL_CODE  AS PKEY, bill_mst.getchargetypename(SBLNUM_CHARGETYPE_ID,GNUM_HOSPITAL_CODE) AS HOSPITAL_SERVICE, BILL_MST.getipdchargetypename(SBLNUM_IPD_CHARGETYPE_ID,SBLNUM_CHARGETYPE_ID,0, GNUM_HOSPITAL_CODE) AS WARD_TYPE, AHIS_FUNCTION.getCategoryName(GNUM_PATIENT_CAT_CODE,100) AS PATIENT_CATEGORY, HBLNUM_DISCOUNT_AMT AS DISCOUNT_VALUE,GNUM_ISVALID FROM HBLT_CCRULE_MST   WHERE  GNUM_HOSPITAL_CODE \= ?   ) a 

select.ccruleMst.cond.0 =  where a.GNUM_ISVALID = 1   

select.ccruleMst.cond.1=   where a.GNUM_ISVALID = 2


select.ccRuleMst.2= SELECT GNUM_PATIENT_CAT_CODE, INITCAP(TRIM(GSTR_PATIENT_CAT_NAME)) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? ORDER BY INITCAP(GSTR_PATIENT_CAT_NAME)


select.ccRuleMst.3= SELECT SBLNUM_CHARGETYPE_ID, INITCAP(TRIM(SBLSTR_CHARGETYPE_NAME)) FROM SBLT_CHARGETYPE_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? 
					 


select.ccRuleMst.4 = SELECT SBLNUM_IPD_CHARGETYPE_ID, SBLSTR_IPD_CHARGETYPE_NAME FROM SBLT_IPD_CHARGETYPE_MST WHERE GNUM_ISVALID \= 1 AND GNUM_HOSPITAL_CODE \= ? AND TRUNC(SYSDATE) >\= TRUNC(GDT_EFFECTIVE_FRM)   



select.ccRuleMst.5 = SELECT \tSBLNUM_CHARGETYPE_ID FROM HBLT_CCRULE_MST WHERE SBLNUM_CHARGETYPE_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID\=?  AND GNUM_PATIENT_CAT_CODE\=? AND GNUM_ISVALID IN (1,2)



insert.ccRuleMst.1 = INSERT INTO  HBLT_CCRULE_MST(HBLNUM_RULE_ID, GNUM_PATIENT_CAT_CODE,SBLNUM_CHARGETYPE_ID, SBLNUM_IPD_CHARGETYPE_ID,GNUM_HOSPITAL_CODE, HBLNUM_DISCOUNT_AMT, GDT_ENTRY_DATE,GNUM_SEATID,GNUM_ISVALID)VALUES(BILL_MST.GetCCRuleId(?), ?, ?, ?, ?, ?, SYSDATE, ?, ?)\t

			         

select.ccRuleMst.6= SELECT  bill_mst.getchargetypename(SBLNUM_CHARGETYPE_ID,GNUM_HOSPITAL_CODE), BILL_MST.getipdchargetypename(SBLNUM_IPD_CHARGETYPE_ID,SBLNUM_CHARGETYPE_ID,0,GNUM_HOSPITAL_CODE), AHIS_FUNCTION.getCategoryName(GNUM_PATIENT_CAT_CODE,100), HBLNUM_DISCOUNT_AMT, DECODE(GNUM_ISVALID,1,'Active',2,'Inactive') FROM HBLT_CCRULE_MST  WHERE  HBLNUM_RULE_ID\=? and GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_CHARGETYPE_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=?



delete.ccRuleMst.0 = UPDATE HBLT_CCRULE_MST SET GNUM_ISVALID \= '0',GDT_LSTMOD_DATE\=SYSDATE,GNUM_LSTMOD_SEATID\=?  
delete.ccRuleMst.cond.0 = HBLNUM_RULE_ID\=? and GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_CHARGETYPE_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=?



select.ccRuleMst.7 = SELECT  SBLNUM_CHARGETYPE_ID, SBLNUM_IPD_CHARGETYPE_ID, GNUM_PATIENT_CAT_CODE, HBLNUM_DISCOUNT_AMT, GNUM_ISVALID FROM HBLT_CCRULE_MST  WHERE  HBLNUM_RULE_ID\=? and GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_CHARGETYPE_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=?



update.ccRuleMst.1= UPDATE HBLT_CCRULE_MST SET HBLNUM_DISCOUNT_AMT\=?,GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?, GNUM_SEATID\=?, GNUM_ISVALID\=? WHERE HBLNUM_RULE_ID\=? and GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_CHARGETYPE_ID\=? AND  SBLNUM_IPD_CHARGETYPE_ID\=? AND GNUM_HOSPITAL_CODE\=?


select.billsetup.66= SELECT HBLSTR_PARAM_NAME, HBLSTR_PARAM_VALUE FROM HBLT_BILLING_PARAMETER_DTL WHERE GNUM_HOSPITAL_CODE\=?

select.sa.0 = WITH TBL1 AS (SELECT  A.HSRNUM_PROCEDURE_CODE AS code, INITCAP(A.HSRSTR_PROCEDURE_NAME) AS service, GNUM_HOSPITAL_CODE FROM HSRV_PROCEDURE_MST A WHERE  A.GNUM_ISVALID \=1 UNION SELECT  A.hnum_service_package_code AS code, INITCAP(A.hstr_service_package) AS Name, GNUM_HOSPITAL_CODE FROM HSRV_SERVICE_PACKAGE_MST A WHERE  A.GNUM_ISVALID \=1) SELECT  code, service FROM TBL1 A WHERE GNUM_HOSPITAL_CODE \= ? AND NOT EXISTS ( SELECT 'X' FROM HBLT_TARIFF_MST WHERE GNUM_ISVALID \= 1 AND SBLNUM_SERVICE_ID \= ? AND GNUM_HOSPITAL_CODE \= ? AND GSTR_TARIFF_ID \= A.code ) UNION SELECT A.code ,INITCAP(A.service) FROM TBL1 A  WHERE  A.GNUM_HOSPITAL_CODE \= ? AND A.code \= ? ORDER BY 2
/////////////////////// Cost Type ////////////////////////////////////////////
select.paym.1=  SELECT  SBLNUM_PAYMENTMODE_ID ||'@'||GNUM_HOSPITAL_CODE ||'^'||SBLSTR_PAYMENTMODE_NAME AS DATA FROM SBLT_PAYMENTMODE_MST WHERE GNUM_HOSPITAL_CODE=100 AND GNUM_ISVALID=1
select.bct.1=  SELECT  SBLNUM_BILL_COPY_TYPE_ID ||'^'||SBLSTR_BILL_COPY_TYPE_NAME AS DATA FROM SBLT_BILL_COPY_TYPE_MST WHERE GNUM_ISVALID=1 
select.acst.1=  SELECT  SBLNUM_ACCSTATUS_ID ||'^'||SBLSTR_ACCSTATUS_NAME AS DATA FROM SBLT_ACCOUNTSTATUS_MST WHERE GNUM_ISVALID=1
select.cty.1=  SELECT  SBLNUM_CHARGETYPE_ID ||'@'||GNUM_HOSPITAL_CODE ||'^'||SBLSTR_CHARGETYPE_NAME AS DATA FROM SBLT_CHARGETYPE_MST WHERE GNUM_HOSPITAL_CODE=100 AND GNUM_ISVALID=1
select.clty.1=  SELECT  SBLNUM_CLIENT_TYPE_ID ||'^'||SBLSTR_CLIENT_TYPE_NAME AS DATA FROM SBLT_CLIENT_TYPE_MST WHERE GNUM_ISVALID=1
select.costty.1=  SELECT  SBLNUM_COSTTYPE_ID ||'@'||GNUM_HOSPITAL_CODE ||'^'||SBLSTR_COSTTYPE_NAME AS DATA FROM SBLT_COSTTYPE_MST WHERE GNUM_HOSPITAL_CODE=100 AND GNUM_ISVALID=1 


gbl.creditcat.1 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A WHERE GNUM_HOSPITAL_CODE \= ? AND GNUM_PATIENT_CAT_GROUP IN(3,4) AND GNUM_ISVALID\=1 AND GNUM_PATIENT_CAT_CODE NOT IN (SELECT GNUM_PATIENT_CAT_CODE FROM HBLT_CHARGE_MST WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_GROUP_ID\= ? AND HBLNUM_TARIFF_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND SBLNUM_IPD_CHARGETYPE_ID \=? AND GNUM_ISVALID IN(1,2)) ORDER BY  INITCAP(A.GSTR_PATIENT_CAT_NAME)

//Orgnization Master
gbl.org.1 = SELECT HBLNUM_CLIENT_NO,HBLSTR_CLIENT_NAME FROM HBLT_CLIENT_MST WHERE GNUM_HOSPITAL_CODE =? AND GNUM_ISVALID=1 

insert.clientchargeMst.0 =INSERT INTO HBLT_CLIENT_CHARGE_OVERRIDE_MST (GNUM_HOSPITAL_CODE,SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID,\
SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, GNUM_UNIT_ID, GNUM_PATIENT_CAT_CODE, HBLNUM_PAYABLE_COST,\
HBLNUM_TARIFF_COST, HBLNUM_COST_DIFFERENCE, GDT_EFFECTIVE_FRM, GSTR_REMARKS, GNUM_SEATID, GNUM_ISVALID,HBLNUM_CLIENT_CODE ) \
VALUES(?,?,?,?,BILL_MST.GETCHARGESLNO(?,?,?,?,?),?,?,?,?,?,?,TO_DATE(TO_CHAR(?\:\:TIMESTAMP,'DD-MON-YYYY'),'DD-MON-YYYY'),?,?,?,?)
						
select.clientchargeMst.category.0 = SELECT GNUM_PATIENT_CAT_CODE FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST  WHERE GNUM_HOSPITAL_CODE\= ? AND SBLNUM_CHARGETYPE_ID\=? AND  HBLNUM_TARIFF_ID\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND  HBLNUM_GROUP_ID\=? AND HBLNUM_CLIENT_CODE\=? AND GNUM_ISVALID\=1 AND HBLNUM_IS_PACKAGE\= 0

select.clientchargeMst.0= SELECT A.GNUM_HOSPITAL_CODE || '@'|| A.SBLNUM_CHARGETYPE_ID || '@'|| A.HBLNUM_TARIFF_ID|| '@'||A.GNUM_PATIENT_CAT_CODE|| '@'|| A.SBLNUM_IPD_CHARGETYPE_ID|| '@'||TRIM(HBLNUM_CLIENT_CODE)||'@'|| A.HBLNUM_CHARGE_SLNO|| '|'|| A.FLAG||'|'||A.EFFECTFROM||'|'||A.HBLNUM_GROUP_ID||'^'|| TRIM(A.TARIFF_CODE)|| '^'|| TRIM(A.TARIFF_NAME)|| '^'||A.PATIENT_CATEGORY_NAME||'^'||TRIM(CLIENT_NAME)||'^'||A.HBLNUM_TARIFF_COST|| ' / '|| A.RATE_UNIT ||'^'|| A.VALIDITY||'^'||TRIM(HBLNUM_CLIENT_CODE) AS DATA FROM ( SELECT DECODE(NVL(TO_CHAR(GDT_EFFECTIVE_TO ,'DD-MON-YYYY'),'1'),'1','1','0') AS FLAG, SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE,SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_GROUP_ID, HBLNUM_CHARGE_SLNO,BILL_MST.GETGROUPNAME (HBLNUM_GROUP_ID,GNUM_HOSPITAL_CODE) AS GROUP_NAME, BILL_MST.GETTARIFFCODE (HBLNUM_TARIFF_ID, GNUM_HOSPITAL_CODE) AS TARIFF_CODE, BILL_MST.GETTARIFFNAME (HBLNUM_TARIFF_ID, 0, GNUM_HOSPITAL_CODE) AS TARIFF_NAME,BILL_MST.GET_CATEGORY_NAME(GNUM_HOSPITAL_CODE,GNUM_PATIENT_CAT_CODE) AS PATIENT_CATEGORY_NAME,NVL(HBLNUM_TARIFF_COST,0) AS HBLNUM_TARIFF_COST, BILL_MST.GETUNITNAME (GNUM_HOSPITAL_CODE, GNUM_UNIT_ID) AS RATE_UNIT, TO_CHAR(GDT_EFFECTIVE_FRM,'DD/MON/YYYY') AS EFFECTFROM, GDT_EFFECTIVE_TO, GNUM_HOSPITAL_CODE, TO_CHAR(GDT_EFFECTIVE_FRM,'DD/MON/YYYY')|| '-' || NVL(TO_CHAR(GDT_EFFECTIVE_TO,'DD/MON/YYYY'),'') AS VALIDITY,HBLNUM_CLIENT_CODE ,BILL_MST.GETCLIENTNAME(HBLNUM_CLIENT_CODE,'0',GNUM_HOSPITAL_CODE) AS CLIENT_NAME FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST C  WHERE TRUNC(SYSDATE) BETWEEN TRUNC(C.GDT_EFFECTIVE_FRM)  AND NVL (TRUNC(C.GDT_EFFECTIVE_TO), TRUNC(SYSDATE)) AND C.GNUM_ISVALID \= 1 ) A WHERE  A.GNUM_HOSPITAL_CODE \= ?

select.clientchargeMst.cond.0 =	A.SBLNUM_CHARGETYPE_ID = ?
select.clientchargeMst.cond.3 =  	A.HBLNUM_GROUP_ID = ? 
select.clientchargeMst.cond.1 =	A.GNUM_PATIENT_CAT_CODE = ?			
select.clientchargeMst.cond.2 =	A.SBLNUM_IPD_CHARGETYPE_ID = ?
select.clientchargeMst.cond.4 =	A.HBLNUM_CLIENT_CODE = ?
gbl.org.2 = SELECT HBLNUM_CLIENT_NO,HBLSTR_CLIENT_NAME FROM HBLT_CLIENT_MST WHERE  GNUM_HOSPITAL_CODE=? AND GNUM_ISVALID=1

gbl.creditcat.2 = SELECT GNUM_PATIENT_CAT_CODE,INITCAP(A.GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST A WHERE GNUM_HOSPITAL_CODE\= ? AND GNUM_PATIENT_CAT_GROUP IN(3,4) AND GNUM_ISVALID\=1  ORDER BY  INITCAP(A.GSTR_PATIENT_CAT_NAME)

select.clientchargeMst.5 =SELECT SBLNUM_CHARGETYPE_ID, HBLNUM_TARIFF_ID, GNUM_PATIENT_CAT_CODE, SBLNUM_IPD_CHARGETYPE_ID, HBLNUM_CHARGE_SLNO, HBLNUM_GROUP_ID, HBLNUM_PAYABLE_COST, HBLNUM_TARIFF_COST, HBLNUM_COST_DIFFERENCE, GNUM_UNIT_ID, TO_CHAR(GDT_EFFECTIVE_FRM,('DD-MON-YYYY')), TO_CHAR(GDT_EFFECTIVE_TO,('DD-MON-YYYY')), GSTR_REMARKS, GNUM_SEATID, SBLNUM_IPD_CHARGETYPE_ID, (SELECT SBLSTR_IPD_CHARGETYPE_NAME FROM SBLT_IPD_CHARGETYPE_MST WHERE SBLNUM_IPD_CHARGETYPE_ID \=A.SBLNUM_IPD_CHARGETYPE_ID AND GNUM_HOSPITAL_CODE \=A.GNUM_HOSPITAL_CODE) AS WARD_TYPE, TRIM(BILL_MST.GETTARIFFNAME(HBLNUM_TARIFF_ID,0,GNUM_HOSPITAL_CODE)) AS TRF_NAME, (SELECT INITCAP(GSTR_PATIENT_CAT_NAME) FROM GBLT_PATIENT_CAT_MST WHERE GNUM_PATIENT_CAT_CODE \=A.GNUM_PATIENT_CAT_CODE  AND GNUM_HOSPITAL_CODE\= ? AND GNUM_ISVALID\=1 AND ROWNUM\=1) AS PATCATNAME,GNUM_UNIT_ID, DECODE(GDT_EFFECTIVE_TO,NULL,0,1) AS DTFLAG,HBLNUM_CLIENT_CODE,BILL_MST.GETCLIENTNAME(HBLNUM_CLIENT_CODE,'0',GNUM_HOSPITAL_CODE) AS CLIENT_NAME  FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST A WHERE GNUM_HOSPITAL_CODE \= ? AND HBLNUM_TARIFF_ID \=? AND HBLNUM_GROUP_ID \= ? AND HBLNUM_CLIENT_CODE \=? AND (TRUNC(SYSDATE) BETWEEN TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(NVL(GDT_EFFECTIVE_TO,SYSDATE)) OR TRUNC(SYSDATE) < TRUNC(GDT_EFFECTIVE_FRM)) AND GNUM_ISVALID \= 1 ORDER BY SBLNUM_CHARGETYPE_ID,A.SBLNUM_IPD_CHARGETYPE_ID

select.clientchargeMst.7 = SELECT COUNT(*) FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST WHERE GNUM_HOSPITAL_CODE \=? AND SBLNUM_CHARGETYPE_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND HBLNUM_CLIENT_CODE\=? AND TRUNC(TO_DATE(?,'DD-MON-YYYY')) < TRUNC(GDT_EFFECTIVE_FRM) AND TRUNC(DECODE(NVL(?,''),'',GDT_EFFECTIVE_FRM,TO_DATE(?,'DD-MON-YYYY'))) >\= TRUNC(GDT_EFFECTIVE_FRM) AND GNUM_ISVALID \!\= 0

update.clientchargeMst.0 =UPDATE HBLT_CLIENT_CHARGE_OVERRIDE_MST SET HBLNUM_PAYABLE_COST\=?, HBLNUM_TARIFF_COST\=?, HBLNUM_COST_DIFFERENCE\=?,HBLNUM_CLIENT_CODE\=?, GDT_EFFECTIVE_FRM\=to_date(to_char(?\:\:timestamp,'dd-mon-yyyy'),'dd-mon-yyyy'), GDT_LSTMOD_DATE\=SYSDATE, GNUM_LSTMOD_SEATID\=?, GSTR_REMARKS\=? WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=? AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CHARGE_SLNO\=?

select.clientchargeMst.11 =SELECT C.HBLSTR_TARIFF_CODE , C.HBLSTR_TARIFF_NAME,BILL_MST.GET_CATEGORY_NAME(A.GNUM_HOSPITAL_CODE,A.GNUM_PATIENT_CAT_CODE) AS PATIENT_CATEGORY_NAME , BILL_MST.GETCLIENTNAME(A.HBLNUM_CLIENT_CODE,'0',A.GNUM_HOSPITAL_CODE) AS CLIENT_NAME,A.HBLNUM_PAYABLE_COST, A.HBLNUM_TARIFF_COST, A.HBLNUM_COST_DIFFERENCE, TO_CHAR(A.GDT_EFFECTIVE_FRM,'DD-MON-YYYY'),NVL(TO_CHAR( A.GDT_EFFECTIVE_TO,'DD-MON-YYYY'),' '), NVL(A.GSTR_REMARKS,' ') FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST A, HBLT_GROUP_MST B, HBLT_TARIFF_MST C WHERE A.GNUM_HOSPITAL_CODE \= B.GNUM_HOSPITAL_CODE AND A.GNUM_HOSPITAL_CODE\= C.GNUM_HOSPITAL_CODE AND A.HBLNUM_GROUP_ID\= B.HBLNUM_GROUP_ID  AND A.HBLNUM_TARIFF_ID \= C.HBLNUM_TARIFF_ID AND  A.GNUM_ISVALID\= 1 AND A.GNUM_HOSPITAL_CODE \= ? AND A.SBLNUM_CHARGETYPE_ID\=? AND A.HBLNUM_TARIFF_ID\=? AND A.GNUM_PATIENT_CAT_CODE\=? AND A.SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CLIENT_CODE\=? AND A.HBLNUM_CHARGE_SLNO \= ?
					 
delete.clientchargeMst.0 =UPDATE HBLT_CLIENT_CHARGE_OVERRIDE_MST SET  GDT_EFFECTIVE_TO\= null WHERE GNUM_HOSPITAL_CODE\= ? AND SBLNUM_CHARGETYPE_ID\=? AND HBLNUM_TARIFF_ID\=?  AND GNUM_PATIENT_CAT_CODE\=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CLIENT_CODE\=? AND TO_DATE(GDT_EFFECTIVE_TO,'dd-Mon-yyyy')\= TO_DATE(?,'dd-Mon-yyyy') - 1


delete.clientchargeMst.1 =UPDATE HBLT_CLIENT_CHARGE_OVERRIDE_MST SET GNUM_ISVALID\= 0, GDT_LSTMOD_DATE \= SYSDATE, GNUM_LSTMOD_SEATID\= GNUM_SEATID WHERE GNUM_HOSPITAL_CODE \= ? AND SBLNUM_CHARGETYPE_ID \=? AND HBLNUM_TARIFF_ID \=?  AND GNUM_PATIENT_CAT_CODE \=? AND SBLNUM_IPD_CHARGETYPE_ID\=? AND HBLNUM_CLIENT_CODE\=? AND HBLNUM_CHARGE_SLNO\= ? 
						  
select.clientchargeMst.12  = SELECT GNUM_PATIENT_CAT_CODE, TRIM(AHIS_FUNCTION.GETCATEGORYNAME(GNUM_PATIENT_CAT_CODE,GNUM_HOSPITAL_CODE)) AS CAT_NAME, HBLNUM_CLIENT_CODE,TRIM(BILL_MST.GETCLIENTNAME(HBLNUM_CLIENT_CODE,0,GNUM_HOSPITAL_CODE)) AS CLIENT_NAME, NVL(HBLNUM_TARIFF_COST,0),TO_CHAR(GDT_EFFECTIVE_FRM,'DD/MON/YYYY') || ' - ' || NVL(TO_CHAR(GDT_EFFECTIVE_TO,'DD/MON/YYYY'),'') FROM HBLT_CLIENT_CHARGE_OVERRIDE_MST WHERE GNUM_ISVALID \= 1 AND TRUNC(SYSDATE)  BETWEEN TRUNC (GDT_EFFECTIVE_FRM) AND NVL (TRUNC (GDT_EFFECTIVE_TO), SYSDATE) AND GNUM_HOSPITAL_CODE \= ? AND SBLNUM_IPD_CHARGETYPE_ID \= ? AND SBLNUM_CHARGETYPE_ID \= ? AND HBLNUM_TARIFF_ID \= ?