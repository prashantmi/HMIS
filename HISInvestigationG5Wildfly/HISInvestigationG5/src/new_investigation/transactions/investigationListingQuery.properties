/*** Property File for Investigation Transactions Listing***/
/*Created by krishnan nema*/

#Changed By PrashantMi PMI
#SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_fromreqno(hivnum_req_no,gnum_hospital_code) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY')
#Changed By PrashantMi PMI
#SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_fromreqno(hivnum_req_no,gnum_hospital_code) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY')
#SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_fromreqno(hivnum_req_no,gnum_hospital_code) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY')

#-------------------commented by Prachi Tiwari on 29-01-2020

#SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL=(select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY')) union (select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl_hst a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY'))
SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY')

#SELECT_INV_LISTING_REPORT_NEW.BYSAMPLE_COLL_DATE.HIVT_REQUISITION_DTL=(select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivdt_coll_date_time) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (?,'DD-Mon-YYYY')) union (select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl_hst a where TRUNC (hivdt_coll_date_time) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (?,'DD-Mon-YYYY'))
SELECT_INV_LISTING_REPORT_NEW.BYSAMPLE_COLL_DATE.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno, pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivt_entry_date) AS req_date, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardName from hivt_requisition_dtl a where TRUNC (hivdt_coll_date_time) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (?,'DD-Mon-YYYY')


#SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL_SYSDATE_WISE=(select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY')) union  (select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl_hst a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY'))
SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL_SYSDATE_WISE=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY')

#SELECT_INV_LISTING_REPORT_NEW.BYSAMPLE_COLL_DATE.HIVT_REQUISITION_DTL_SYSDATE_WISE=(select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivdt_coll_date_time) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (SYSDATE,'DD-Mon-YYYY')) union  (select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl_hst a where TRUNC (hivdt_coll_date_time) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (SYSDATE,'DD-Mon-YYYY'))
SELECT_INV_LISTING_REPORT_NEW.BYSAMPLE_COLL_DATE.HIVT_REQUISITION_DTL_SYSDATE_WISE=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivdt_coll_date_time) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivdt_coll_date_time) <= TO_DATE (SYSDATE,'DD-Mon-YYYY')


#Added By PrashantMi PMI
SELECT_INV_LISTING_REPORT_RD_NEW.HIVT_REQUISITION_DTL=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num,nvl((select hmistr_machine_name from hmit_machine_mst ss where hminum_machine_id=a.gnum_machine_code and ss.gnum_hospital_code=a.gnum_hospital_code and gnum_isvalid=1),'') as machineCode,nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName,(select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY') and gnum_lab_code in (select gnum_lab_code from hivt_laboratory_mst  where gnum_isradiolab=1 and gnum_isvalid=1 )

#Added By PrashantMi PMI
SELECT_INV_LISTING_REPORT_RD_NEW.HIVT_REQUISITION_DTL_SYSDATE_WISE=select gnum_lab_code::character varying as labCode, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as labName, pkg_inv_fun.getgroupname(hgnum_group_code,gnum_hospital_code) as groupName, pkg_inv_fun.fun_test_name(gnum_test_code) as testName, gnum_sample_code::character varying as sampleCode, pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName, decode(GBNUM_PRIORITY_CODE,1,'N',2,'U',3,'L') as priority, hivnum_reqdtl_status::character varying as reqStatus, DECODE(hivnum_reqdtl_status,2,'Requistion Raised',3,'Sample Collected',4,'Packing List Generated',5,'Requisition Raised', 6,'Sample/Patient Accepted', 7,'Result Entered', 8,'Result Validated',9,'Patient Rejected',10,'Test Resceduled',11,'Test Rescheduled',12,'Sample Cancelled', 13,'Ready For Report Printing',14,'Result Printed', 15,'Test Cancelled',16,'Test Deleted',26,'Report Generated',55,'Test Advised',17,'Machine Processing',27, 'in Draft(Result Entry)',28, 'in Draft(Result Validation)') ::character varying as status, nvl(hivnum_temp_sample_no,'') as sample_num, nvl(hgstr_daily_labno, '') AS lab_num, pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code) as puk_fromreqno, pkg_inv_fun.fun_patname_latest(hivnum_req_no,gnum_hospital_code,pkg_inv_fun.fun_puk_fromreqno(hivnum_req_no,gnum_hospital_code)) as pat_fromreqno,pkg_inv_fun.fun_patient_status(hivnum_req_no, gnum_hospital_code) ::character varying as patType, RTRIM(pkg_inv_fun.fun_patage_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_gender_fromreqno(hivnum_req_no,gnum_hospital_code)) as age_gender, (pkg_inv_fun.fun_wardname_fromreqno(hivnum_req_no,gnum_hospital_code))||'/'||(pkg_inv_fun.fun_bedname_fromreqno(hivnum_req_no,gnum_hospital_code)) as wardbed_no, pkg_inv_fun.fun_orderedbydocname_fromreqno(hivnum_req_no,gnum_hospital_code) as advised_by, pkg_inv_fun.fun_deptcode_fromlab(gnum_lab_code , gnum_hospital_code ) as deptCode, pkg_inv_fun.fun_deptname_fromlab( gnum_lab_code , gnum_hospital_code ) as deptName, (select gstr_area_name from hivt_collection_area_mst where gnum_hospital_code = a.gnum_hospital_code and gnum_area_code = a.hivnum_sample_col_area_code) as col_area, to_char(hivdt_requisition_date_reqd) AS req_date, hipstr_ward_name_reqd as wardName from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY') and gnum_lab_code in (select gnum_lab_code from hivt_laboratory_mst  where gnum_isradiolab=1 and gnum_isvalid=1 )


#Added By PrashantMi
SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL_COUNT=select COUNT(*) from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY');
#Added By PrashantMi 
SELECT_INV_LISTING_REPORT_NEW.HIVT_REQUISITION_DTL_SYSDATE_WISE_COUNT=select COUNT(*) from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY');

#Added By PrashantMi
SELECT_INV_LISTING_REPORT_RD_NEW.HIVT_REQUISITION_DTL_COUNT=select COUNT(*) from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (?,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (?,'DD-Mon-YYYY') and gnum_lab_code in (select gnum_lab_code from hivt_laboratory_mst  where gnum_isradiolab=1 and gnum_isvalid=1 );
#Added By PrashantMi
SELECT_INV_LISTING_REPORT_RD_NEW.HIVT_REQUISITION_DTL_SYSDATE_WISE_COUNT=select COUNT(*) from hivt_requisition_dtl a where TRUNC (hivt_entry_date) >= TO_DATE (SYSDATE,'DD-Mon-YYYY') AND TRUNC (hivt_entry_date) <= TO_DATE (SYSDATE,'DD-Mon-YYYY') and gnum_lab_code in (select gnum_lab_code from hivt_laboratory_mst  where gnum_isradiolab=1 and gnum_isvalid=1 );
