	/* Local Test Group Info Master
 	                              
	                              
 	                               
	
INSERT.HIVT_SAMPLE_MST   =INSERT INTO hivt_sample_mst(gnum_sample_code, gstr_sample_name, gstr_sample_short_name, gst_loinc_system,  gnum_isvalid, gnum_seat_id, gdt_entry_date,  gstr_remarks) \
                            VALUES ((SELECT NVL(max(gnum_sample_code)+1,1001) from hivt_sample_mst), ?, ?, ?, ?, ?, SYSDATE, ?)


SELECT.HIVT_SAMPLE_MST= SELECT  gnum_sample_code as sampleCode,  INITCAP(gstr_sample_name)  as sampleName, UPPER(gstr_sample_short_name)  as sampleSName, gst_loinc_system as loincSystem ,INITCAP(gstr_remarks) as remarks FROM HIVT_SAMPLE_MST WHERE  gnum_isvalid=1 and gnum_sample_code=?					 


UPDATE.HIVT_SAMPLE_MST=UPDATE hivt_sample_mst SET    gstr_sample_name=? , gstr_sample_short_name=?, gst_loinc_system=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE , gstr_remarks=? WHERE gnum_isvalid=1 and gnum_sample_code=?

 
                             
                            
CHECKDUPLICATE.HIVT_SAMPLE_MST=SELECT  gstr_sample_name  FROM HIVT_SAMPLE_MST where gnum_isvalid=1 and UPPER(gstr_sample_name)=UPPER(?) 
										 
CHECKDUPLICITY_MODIFY.HIVT_SAMPLE_MST=SELECT count(*) from HIVT_SAMPLE_MST where   GNUM_ISVALID=? AND     UPPER(gstr_sample_name)=UPPER(?) AND gnum_sample_code <> ?

SELECT.LOINIC_COMBO.HIVT_SAMPLE_MST=select distinct loinc_system as loincSystem , loinc_system  from loinc where loinc_system not in(' ') order by loinc_system

DELETE.SAMPLE.HIVT_SAMPLE_MST= UPDATE HIVT_SAMPLE_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.SAMPLE.HIVT_SAMPLE_MST.COND.0 =  gnum_isvalid=1 and gnum_sample_code=?

 sampleMst.main.0 = SELECT gnum_sample_code||'^'||INITCAP(gstr_sample_name)||'^'||UPPER(gstr_sample_short_name)  AS DATA FROM HIVT_SAMPLE_MST WHERE GNUM_ISVALID \= ?

 select.sample.view.2 = SELECT INITCAP(gstr_sample_name),UPPER(gstr_sample_short_name), INITCAP(gst_loinc_system)\tFROM HIVT_SAMPLE_MST WHERE gnum_isvalid\=1 and gnum_sample_code \= ?  \t
 	                              
	                              
                       
	
INSERT.HIVT_MAND_COMBO_MST   =INSERT INTO hivt_mand_combo_mst(hgnum_mand_code, hgstr_value ,hgnum_seq_no,  gnum_is_valid, gnum_seat_id, hgdt_entry_date) VALUES (?,?,(Select NVL(MAX(hgnum_seq_no),0)+1 from hivt_mand_combo_mst where hgnum_mand_code\=?), ?, ?, SYSDATE)


SELECT.HIVT_MAND_COMBO_MST= SELECT  hgnum_mand_code as mandatoryCode, INITCAP(hgstr_value) as mandatoryValue, hgnum_seq_no as mandatorySeq FROM HIVT_MAND_COMBO_MST  WHERE  GNUM_IS_VALID=1  and hgnum_seq_no=?	AND hgnum_mand_code=?		 


SELECT_DISPLAYDATA.HIVT_MAND_COMBO_MST= SELECT  INITCAP(hgstr_value) as mandatoryValue FROM HIVT_MAND_COMBO_MST  WHERE GNUM_IS_VALID=1 AND  hgnum_mand_code=? 			 


UPDATE.HIVT_MAND_COMBO_MST= UPDATE HIVT_MAND_COMBO_MST SET  hgstr_value=? , gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID=?  WHERE GNUM_IS_VALID=1 AND hgnum_seq_no=? and hgnum_mand_code=?

 
                      
                            
CHECKDUPLICATE.HIVT_MAND_COMBO_MST=SELECT  hgstr_value  FROM HIVT_MAND_COMBO_MST where gnum_is_valid=1 and hgnum_mand_code=? and UPPER(hgstr_value)=UPPER(?) 
										 
CHECKDUPLICITY_MODIFY.HIVT_MAND_COMBO_MST=SELECT count(*) from HIVT_MAND_COMBO_MST where GNUM_IS_VALID=1   and hgnum_seq_no <> ? AND  hgnum_mand_code=? AND   UPPER(hgstr_value)=UPPER(?)  
SELECT.MANDATORY_COMBO.HIVT_MAND_COMBO_MST=select hgnum_mand_code as mandatoryCode,INITCAP(hgstr_mandatory_name) as mandatoryName from HIVT_MANDATORY_MST where GNUM_ISVALID=1 AND hivnum_mandatory_type=2 order by hgstr_mandatory_name
                                            
                                            
DELETE.MANDATORYCOMBO.HIVT_MAND_COMBO_MST= UPDATE HIVT_MAND_COMBO_MST SET  GNUM_IS_VALID='0', GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.MANDATORYCOMBO.HIVT_MAND_COMBO_MST.COND.0 =  GNUM_IS_VALID=1 AND hgnum_mand_code=? and hgnum_seq_no=?

 mandatorycomboMst.main.0 = SELECT A.hgnum_mand_code||'@'||B.hgnum_seq_no||'^'||INITCAP(A.hgstr_mandatory_name)||'^'||INITCAP(B.hgstr_value) AS DATA FROM HIVT_MANDATORY_MST A , HIVT_MAND_COMBO_MST B WHERE GNUM_IS_VALID \= 1 and gnum_isvalid\=1  AND A.hgnum_mand_code\=B.hgnum_mand_code and A.hivnum_mandatory_type\=2

 select.mandatorycombo.view.2 = SELECT (Select INITCAP(Hgstr_mandatory_name) from HIVT_MANDATORY_MST where gnum_isvalid\=1 and hgnum_mand_code\=a.hgnum_mand_code) , INITCAP(hgstr_value) FROM HIVT_MAND_COMBO_MST a WHERE a.gnum_is_valid\=1 and a.hgnum_mand_code\=? AND a.hgnum_seq_no\=?
 	                              
	                              
     
	
 

INSERT.HIVT_UOM_MST=INSERT INTO hivt_uom_mst(gnum_uom_code, gstr_loinc_property, gstr_uom, gnum_isvalid, gdt_entry_date,gnum_seat_id) \
                     VALUES ((SELECT NVL(max(gnum_uom_code)+1,101) from hivt_uom_mst), ?, ?, ?, SYSDATE, ?)
                    
 							 
SELECT.HIVT_UOM_MST= SELECT  gnum_uom_code as uomCode, INITCAP(gstr_uom) as uomName, gstr_loinc_property as loincProperty  FROM HIVT_UOM_MST WHERE GNUM_ISVALID=? AND gnum_uom_code=?					 
               
 
     
UPDATE.HIVT_UOM_MST=UPDATE hivt_uom_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=?, gstr_loinc_property=?, gstr_uom=INITCAP(?) WHERE  gnum_isvalid=1 and gnum_uom_code=? 
                   
  
 
                            
                             
 
CHECKDUPLICATE.HIVT_UOM_MST=SELECT  gstr_uom  FROM hivt_uom_mst where UPPER(gstr_uom)=UPPER(?) AND GNUM_ISVALID=?

   
 						 				
										 
 
CHECKDUPLICITY_MODIFY.HIVT_UOM_MST=SELECT count(*) from hivt_uom_mst where   GNUM_ISVALID=? and UPPER(gstr_uom)=UPPER(?)  AND gnum_uom_code <> ?


SELECT.LOINIC_COMBO_UOM.HIVT_UOM_MST=select distinct property as loincProperty, property from loinc where property not in (' ') order by property



DELETE.UOM.HIVT_UOM_MST= UPDATE hivt_uom_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?

DELETE.UOM.HIVT_UOM_MST.COND.0 =   gnum_isvalid=1 and gnum_uom_code=?

 uomMst.main.0 = SELECT gnum_uom_code||'^'||INITCAP(gstr_uom)||'^'||gstr_loinc_property  AS DATA FROM hivt_uom_mst WHERE GNUM_ISVALID \= ?

 select.uom.view.2 = SELECT INITCAP(gstr_uom),gstr_loinc_property FROM hivt_uom_mst WHERE gnum_isvalid\=1 and gnum_uom_code \= ?  \t
 
 

INSERT.HIVT_LABORATORY_MST=INSERT INTO hivt_laboratory_mst(gnum_lab_code, gnum_hospital_code, gnum_dept_code, gstr_lab_name, \
                               gstr_lab_short, gnum_lab_type, gnum_isvalid,  \
                                gnum_seat_id, hivstr_header_text, gdt_entry_date, hivstr_footer_text,  gstr_remarks, \
                                 hivnum_lab_working_days,hivnum_no_of_test_in_day,gnum_sampleno_config_from, gnum_labno_config,gnum_display_header_flag) \
                                   VALUES ((SELECT NVL(max(gnum_lab_code)+1,10001) from hivt_laboratory_mst), ?, ?, ?,?, ?, ?, ?,?, SYSDATE, ?, ?,?, ?,?,?,?)
                     							 
#SELECT.HIVT_LABORATORY_MST=SELECT  nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,nvl(istestmodify,'0') as istestmodify,gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,INITCAP(gstr_lab_name) as laboratoryName, UPPER(gstr_lab_short) as labShortSName,gnum_lab_type as labType,gnum_location_code ,INITCAP(hivstr_header_text) as headertext, INITCAP(hivstr_footer_text) as footerText,INITCAP(gstr_remarks) as remarks,hivnum_lab_working_days as labWorkingDays, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, gnum_labno_config as labNumberConfig,hivnum_no_of_test_in_day as numberofTests,gnum_display_header_flag as displayHeader,gnum_finalremark_reqd as finalRemark FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?
SELECT.HIVT_LABORATORY_MST=SELECT  nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,nvl(istestmodify,'0') as istestmodify,nvl(gnum_isapptlabbased,'0') as isAppointment,nvl(gnum_isapptmand,'0') as isaptmand,nvl(gnum_isfilmused,'0') as isfilmused,nvl(gnum_isreportprintpreparedbyrequied,'0') as resultentered,nvl(gnum_islabhidefromdesk,'0') as hidefromdesk,nvl(hbnum_is_addendum_type,'0') as accesstoaddendum,nvl(hbnum_allow_entryuser,'0') as entryuser,nvl(hbnum_allow_validationuser,'0') as validation,nvl(hbnum_allow_revalidationuser,'0') as revalidation,gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,INITCAP(gstr_lab_name) as laboratoryName, UPPER(gstr_lab_short) as labShortSName,gnum_lab_type as labType,gnum_location_code ,INITCAP(hivstr_header_text) as headertext, INITCAP(hivstr_footer_text) as footerText,INITCAP(gstr_remarks) as remarks,hivnum_lab_working_days as labWorkingDays, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, gnum_labno_config as labNumberConfig,hivnum_no_of_test_in_day as numberofTests,gnum_display_header_flag as displayHeader,gnum_finalremark_reqd as finalRemark FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?

                         
 
 UPDATE.HIVT_LABORATORY_MST=UPDATE hivt_laboratory_mst SET  gnum_dept_code\=?, gstr_lab_name\=?,gstr_lab_short\=?, gnum_lab_type\=?,    hivstr_header_text\=?,  hivstr_footer_text\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?,  hivnum_lab_working_days\=?,  hivnum_no_of_test_in_day\=?,gnum_sampleno_config_from\=?,gnum_labno_config\=?,gnum_display_header_flag\=? WHERE  gnum_isvalid\=1 And  gnum_lab_code\=? and gnum_hospital_code\=?
                            
                            
 
CHECKDUPLICATE.HIVT_LABORATORY_MST=SELECT  gstr_lab_name  FROM hivt_laboratory_mst where gnum_isvalid=1 and UPPER(gstr_lab_name)=UPPER(?) and gnum_hospital_code=?  
										 
 
CHECKDUPLICITY_MODIFY.HIVT_LABORATORY_MST=SELECT count(*) from hivt_laboratory_mst where   GNUM_ISVALID=? and UPPER(gstr_lab_name)=UPPER(?) AND gnum_lab_code <> ? and gnum_hospital_code=?
                            
                                          
SELECT.LAB_COMBO.HIVT_LABORATORY_MST=SELECT GNUM_DEPT_CODE as department,INITCAP(GSTR_DEPT_NAME) as departt FROM GBLT_DEPARTMENT_MST A WHERE GNUM_ISVALID=1  and GNUM_HOSPITAL_CODE=? order by GSTR_DEPT_NAME

DELETE.LAB.hivt_laboratory_mst= UPDATE hivt_laboratory_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?

DELETE.LAB.hivt_laboratory_mst.COND.0 = gnum_isvalid=1  AND gnum_lab_code=? And gnum_hospital_code=?

  LabMst.main.0=SELECT  gnum_lab_code||'@'||gnum_hospital_code||'^'||INITCAP(gstr_lab_name)||'^'||UPPER(gstr_lab_short)||'^'||pkg_clinical_util_fun.get_dept_name(a.gnum_hospital_code,a.gnum_dept_code)  AS DATA FROM HIVT_LABORATORY_MST a WHERE GNUM_ISVALID \= ? AND gnum_hospital_code\=?
 
  LabConsumableMst.main.0=SELECT hbnum_other_item_code||'^'||INITCAP(hbstr_item_name)||'^'||(select hgstr_itemtype_name from hivt_itemtype_mst where hbnum_itemtype_code=O.hbnum_item_type and gnum_isvalid=O.gnum_isvalid)||'^'||INITCAP(hbnum_other_item_code) AS DATA from HIVT_OTHER_ITEM_MST O  where gnum_isvalid=? and gnum_hospital_code=?
 
 
 select.lab.view.2 =SELECT INITCAP(gstr_lab_name),UPPER(gstr_lab_short), INITCAP(pkg_clinical_util_fun.get_dept_name(a.gnum_hospital_code,a.gnum_dept_code))  FROM HIVT_LABORATORY_MST a WHERE gnum_isvalid=1 and gnum_lab_code=? AND gnum_hospital_code=?

select.lab.consumable.view.1=Select INITCAP(hbstr_item_name), (select hgstr_itemtype_name from hivt_itemtype_mst where hbnum_itemtype_code=a.hbnum_item_type and gnum_isvalid=a.gnum_isvalid)  FROM HIVT_OTHER_ITEM_MST a WHERE hbnum_other_item_code=? and gnum_isvalid=1 and  gnum_hospital_code=100 
 	                              
	                              
 	
 
#INSERT.HIVT_TEST_MST=INSERT INTO hivt_test_mst(gnum_test_code, gstr_test_name, hivstr_loinc_timing, gstr_short_name, gstr_description, gnum_isvalid, gstr_test_type, gdt_entry_date,gnum_seat_id,gnum_isdynamic_template,gnum_isdynamicresultentry,gnum_dynamictemplate_id,gnum_isdept_template,gnum_isdeptresultentry,gnum_depttemplate_id,gnum_reqform_type) VALUES ((SELECT NVL(max(gnum_test_code)+1,10001) from hivt_test_mst), ?, ?, ?,?, ?, ?,SYSDATE,?,?,?,?,?,?,?,?) 
#INSERT.HIVT_TEST_MST=INSERT INTO hivt_test_mst(gnum_test_code, gstr_test_name, hivstr_loinc_timing, gstr_short_name, gstr_description, gnum_isvalid, gstr_test_type, gdt_entry_date,gnum_seat_id,gnum_isdynamic_template,gnum_isdynamicresultentry,gnum_dynamictemplate_id,gnum_isdept_template,gnum_isdeptresultentry,gnum_depttemplate_id,gnum_reqform_type,issepratedpagerequired,gnum_isfileuploadreportadd,gnum_isreportprintwithuploadfilereq) VALUES ((SELECT NVL(max(gnum_test_code)+1,10001) from hivt_test_mst), ?, ?, ?,?, ?, ?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?) 
#Added By Prachi Tiwari
INSERT.HIVT_TEST_MST=INSERT INTO hivt_test_mst(gnum_test_code, gstr_test_name, hivstr_loinc_timing, gstr_short_name, gstr_description, gnum_isvalid, gstr_test_type, gdt_entry_date,gnum_seat_id,gnum_isdynamic_template,gnum_isdynamicresultentry,gnum_dynamictemplate_id,gnum_isdept_template,gnum_isdeptresultentry,gnum_depttemplate_id,gnum_reqform_type,issepratedpagerequired,gnum_isfileuploadreportadd,gnum_isreportprintwithuploadfilereq,gnum_isextracharge,gnum_sugartestcode,is_sugartest,is_show,is_machinetest,gnum_is_anyinstruction_req,gnum_bladder_ins,gnum_fasting_time,gnum_fasting_type,gnum_turnaround_time,gnum_isconfidential_reqd) VALUES ((SELECT NVL(max(gnum_test_code)+1,10001) from hivt_test_mst), ?, ?, ?,?, ?, ?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
#SELECT.HIVT_TEST_MST=SELECT  gnum_test_code as testCode,  gstr_test_name  as testName, UPPER(gstr_short_name) as testSName, INITCAP(gstr_description) as testDescription,gstr_test_type as testType,hivstr_loinc_timing as loincTiming, gnum_isdynamic_template as printedWith,gnum_isdynamicresultentry as resultEntryForm, gnum_dynamictemplate_id as printingTemplateCode, gnum_isdept_template as departmentPrintedWith,gnum_isdeptresultentry as departmentResultEntryForm, gnum_depttemplate_id as departmentPrintingTemplateCode,gnum_reqform_type as reqMasterFormType,issepratedpagerequired as isreportrequiredonseperatepage,gnum_isfileuploadreportadd as isreportupload,gnum_isreportprintwithuploadfilereq as isfrontpage FROM HIVT_TEST_MST WHERE GNUM_ISVALID=? and gnum_test_code=?							 

#SELECT.HIVT_TEST_MST=SELECT  gnum_test_code as testCode,  gstr_test_name  as testName, UPPER(gstr_short_name) as testSName, INITCAP(gstr_description) as testDescription,gstr_test_type as testType,hivstr_loinc_timing as loincTiming, gnum_isdynamic_template as printedWith,gnum_isdynamicresultentry as resultEntryForm, gnum_dynamictemplate_id as printingTemplateCode, gnum_isdept_template as departmentPrintedWith,gnum_isdeptresultentry as departmentResultEntryForm, gnum_depttemplate_id as departmentPrintingTemplateCode,gnum_reqform_type as reqMasterFormType,issepratedpagerequired as isreportrequiredonseperatepage,gnum_isfileuploadreportadd as isreportupload,gnum_isreportprintwithuploadfilereq as isfrontpage,gnum_isextracharge as isextracharge,gnum_sugartestcode as machinetestcode ,gnum_sugartestcode as sugartestcode,	is_sugartest as issugartest,is_show as ishidefromrequisitionraising,is_machinetest as machinetest ,gnum_is_anyinstruction_req as anyinstruction,	gnum_bladder_ins as blddrTxt,gnum_fasting_time as fastingtime,gnum_fasting_type as fastingtype,gnum_turnaround_time as turnaround_time,gnum_isconfidential_reqd as isconfidential FROM HIVT_TEST_MST WHERE GNUM_ISVALID=? and gnum_test_code=?
SELECT.HIVT_TEST_MST=SELECT  gnum_test_code as testCode,  gstr_test_name  as testName, UPPER(gstr_short_name) as testSName, INITCAP(gstr_description) as testDescription,gstr_test_type as testType,hivstr_loinc_timing as loincTiming, gnum_isdynamic_template as printedWith,gnum_isdynamicresultentry as resultEntryForm, gnum_dynamictemplate_id as printingTemplateCode, gnum_isdept_template as departmentPrintedWith,gnum_isdeptresultentry as departmentResultEntryForm, gnum_depttemplate_id as departmentPrintingTemplateCode,gnum_reqform_type as reqMasterFormType,issepratedpagerequired as isreportrequiredonseperatepage,gnum_isfileuploadreportadd as isreportupload,gnum_isreportprintwithuploadfilereq as isfrontpage,gnum_isextracharge as isextracharge,gnum_sugartestcode as machinetestcode ,gnum_sugartestcode as sugartestcode,	is_sugartest as issugartest,is_show as ishidefromrequisitionraising,is_machinetest as machinetest ,decode(gnum_is_anyinstruction_req,'1','1','2','1',gnum_is_anyinstruction_req,'0') as anyinstruction,	gnum_bladder_ins as blddrTxt,gnum_fasting_time as fastingtime,gnum_fasting_type as fastingtype,gnum_turnaround_time as turnaround_time,gnum_isconfidential_reqd as isconfidential FROM HIVT_TEST_MST WHERE GNUM_ISVALID=? and gnum_test_code=?

#UPDATE.HIVT_TEST_MST=UPDATE hivt_test_mst SET gnum_reqform_type=?,gnum_isvalid=?, gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=?, gstr_test_name=?, hivstr_loinc_timing=?, gstr_short_name=?, gstr_description=?, gstr_test_type=?,gnum_isdynamic_template=? ,gnum_isdynamicresultentry=?,gnum_dynamictemplate_id=?,gnum_isdept_template=? ,gnum_isdeptresultentry=?,gnum_depttemplate_id=?,issepratedpagerequired=?,gnum_isfileuploadreportadd=?,gnum_isreportprintwithuploadfilereq=? WHERE gnum_isvalid=1 and  gnum_test_code=?	
 #Modified By prachi 
 UPDATE.HIVT_TEST_MST=UPDATE hivt_test_mst SET gnum_reqform_type=?,gnum_isvalid=?, gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=?, gstr_test_name=?, hivstr_loinc_timing=?, gstr_short_name=?, gstr_description=?, gstr_test_type=?,gnum_isdynamic_template=? ,gnum_isdynamicresultentry=?,gnum_dynamictemplate_id=?,gnum_isdept_template=? ,gnum_isdeptresultentry=?,gnum_depttemplate_id=?,issepratedpagerequired=?,gnum_isfileuploadreportadd=?,gnum_isreportprintwithuploadfilereq=?,gnum_isextracharge=?,gnum_sugartestcode=?,is_sugartest=?,is_show=?,is_machinetest=?,gnum_is_anyinstruction_req=?,gnum_bladder_ins=?,gnum_fasting_time=?,gnum_fasting_type=?,gnum_turnaround_time=? ,gnum_isconfidential_reqd =? WHERE gnum_isvalid=1 and  gnum_test_code=? 
 #SELECT.HIVT_TEST_MST=SELECT  gnum_test_code as testCode,  gstr_test_name  as testName, UPPER(gstr_short_name) as testSName, INITCAP(gstr_description) as testDescription,gstr_test_type as testType,hivstr_loinc_timing as loincTiming, gnum_isdynamic_template as printedWith,gnum_isdynamicresultentry as resultEntryForm, gnum_dynamictemplate_id as printingTemplateCode, gnum_isdept_template as departmentPrintedWith,gnum_isdeptresultentry as departmentResultEntryForm, gnum_depttemplate_id as departmentPrintingTemplateCode,gnum_reqform_type as reqMasterFormType FROM HIVT_TEST_MST WHERE GNUM_ISVALID=? and gnum_test_code=?							 
	                                      
 
#UPDATE.HIVT_TEST_MST=UPDATE hivt_test_mst SET gnum_reqform_type=?,gnum_isvalid=?, gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=?, gstr_test_name=?, hivstr_loinc_timing=?, gstr_short_name=?, gstr_description=?, gstr_test_type=?,gnum_isdynamic_template=? ,gnum_isdynamicresultentry=?,gnum_dynamictemplate_id=?,gnum_isdept_template=? ,gnum_isdeptresultentry=?,gnum_depttemplate_id=? WHERE gnum_isvalid=1 and  gnum_test_code=?	
                    
 
                             
                            
CHECKDUPLICATE.HIVT_TEST_MST=SELECT  gstr_test_name  FROM hivt_test_mst where UPPER(gstr_test_name)=UPPER(?) AND GNUM_ISVALID=?

   
 						 				
										 
CHECKDUPLICITY_MODIFY.HIVT_TEST_MST=SELECT count(*) from hivt_test_mst where   GNUM_ISVALID=? and UPPER(gstr_test_name)=UPPER(?) AND gnum_test_code <> ?


                                  

SELECT.TEST_COMBO.HIVT_TEST_MST=select distinct(time_aspct) as loincTiming, INITCAP(time_aspct) from loinc where time_aspct not in(' ' ) order by time_aspct
 


DELETE.TEST.HIVT_TEST_MST= UPDATE hivt_test_mst SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TEST.HIVT_TEST_MST.COND.0 = gnum_isvalid=1 and  gnum_test_code=?

 testMst.main.0= SELECT gnum_test_code||'^'|| gstr_test_name ||'^'||UPPER(gstr_short_name)||'^'||UPPER(hivstr_loinc_timing)  AS DATA FROM hivt_test_mst WHERE GNUM_ISVALID \= ?

 select.test.view.2 = SELECT  gstr_test_name ,UPPER(gstr_short_name),UPPER(hivstr_loinc_timing) \tFROM hivt_test_mst WHERE gnum_isvalid\=1 and gnum_test_code\=?\t
 	                              
	                              
     
	
 

INSERT.HIVT_LAB_MST=INSERT INTO hivt_laboratory_mst(gnum_lab_code, gnum_hospital_code, gnum_dept_code, gstr_lab_name, \
                               gstr_lab_short, gnum_lab_type, gnum_isvalid,  \
                                gnum_seat_id, hivstr_header_text, gdt_entry_date, hivstr_footer_text,  gstr_remarks, \
                                 hivnum_lab_working_days,hivnum_no_of_test_in_day,gnum_sampleno_config_from) \
                                   VALUES ((SELECT NVL(max(gnum_lab_code)+1,10001) from hivt_laboratory_mst), ?, ?, ?,?, ?, ?, ?,?, SYSDATE, ?, ?,?, ?,?)
                    
 							 
SELECT.HIVT_LAB_MST=SELECT  gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,gstr_lab_name as laboratoryName, gstr_lab_short as labShortSName,gnum_lab_type as labType,gnum_location_code ,hivstr_header_text as headertext, hivstr_footer_text as footerText,gstr_remarks as remarks,hivnum_lab_working_days as labWorkingDays, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, hivnum_no_of_test_in_day as numberofTests FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?
     
                    
 
 UPDATE.HIVT_LAB_MST=UPDATE hivt_laboratory_mst SET  gnum_dept_code\=?, gstr_lab_name\=?,gstr_lab_short\=?, gnum_lab_type\=?,    hivstr_header_text\=?,  hivstr_footer_text\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?,  hivnum_lab_working_days\=?,  hivnum_no_of_test_in_day\=? WHERE    gnum_lab_code\=?
                   
                            
INSERT_MODIFY.HIVT_LAB_MST= INSERT INTO hivt_laboratory_mst(gnum_lab_code, gnum_hospital_code, gnum_dept_code, gstr_lab_name, \
                                     gstr_lab_short, gnum_lab_type, gnum_isvalid,  \
                                    gnum_lstmod_seatid, hivstr_header_text, gdt_lstmod_date, hivstr_footer_text,  gstr_remarks, \
                                     hivnum_lab_working_days, hivstr_smpl_coll_start_time, hivstr_smpl_coll_end_time, hivnum_no_of_test_in_day) \
                                      VALUES ((SELECT max(gnum_lab_code)+1 from hivt_laboratory_mst), ?, ?, ?,?, ?, ?, ?,?, SYSDATE, ?, ?,?, ?, ?,?)
                            
 
CHECKDUPLICATE.HIVT_LAB_MST=SELECT  gstr_lab_name  FROM hivt_laboratory_mst where INITCAP(gstr_lab_name)=INITCAP(?)  

   
 						 				
										 
 
CHECKDUPLICITY_MODIFY.HIVT_LAB_MST=SELECT count(*) from hivt_laboratory_mst where   GNUM_ISVALID=? and INITCAP(gstr_lab_name)!=INITCAP(?)  and INITCAP(gstr_lab_name)=INITCAP(?)


SELECT.LAB_COMBO.HIVT_LAB_MST=SELECT GNUM_DEPT_CODE as department,INITCAP(GSTR_DEPT_NAME) as departt FROM GBLT_DEPARTMENT_MST A WHERE GNUM_ISVALID=1  and GNUM_HOSPITAL_CODE=100;

DELETE.LAB.hivt_lab_mst= UPDATE hivt_laboratory_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?

DELETE.LAB.hivt_lab_mst.COND.0 =gnum_lab_code=? And gnum_hospital_code=?

  LabTestMst.main.0=SELECT  gnum_lab_code||'@'||gnum_hospital_code||'^'||gstr_lab_name||'^'||gstr_lab_short||'^'||pkg_clinical_util_fun.get_dept_name(a.gnum_hospital_code,a.gnum_dept_code)  AS DATA FROM HIVT_LABORATORY_MST a WHERE GNUM_ISVALID \= ? AND gnum_hospital_code\=?
 
  
 select.labTest.view.2 =SELECT INITCAP(gstr_lab_name),UPPER(gstr_lab_short), INITCAP(pkg_clinical_util_fun.get_dept_name(a.gnum_hospital_code,a.gnum_dept_code))  FROM HIVT_LABORATORY_MST a WHERE gnum_lab_code=? AND gnum_hospital_code=?
CHECK_DUPLICATE_DATA.Lab_Test_GLobal_Mst=select count(*) as count from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_labcode=? and gnum_test_code=? and gnum_hospital_code=?

UPDATE.DUPLICATE_DATA.Lab_Test_GLobal_Mst=update hivt_laboratory_test_mst set gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_seat_id\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?,gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gnum_isvalid\=?,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=? where gnum_isvalid\=? and gnum_hospital_code\=? and gnum_test_code\=? and gnum_labcode\=?
 	       
 	                            
INSERT.HIVT_REJECTIONREASON_MST=INSERT INTO hivt_rejectionreason_mst(hgnum_rejectionreason_id, hivnum_acceptance_type,hgstr_rejectionreason,gnum_isvalid,hgdt_entry_date,gnum_seat_id) \
                            VALUES ((SELECT NVL(MAX(hgnum_rejectionreason_id),10)+1 from hivt_rejectionreason_mst), ?, ?, ?,SYSDATE,?)

SELECT.HIVT_REJECTIONREASON_MST=SELECT hgnum_rejectionreason_id as rejectionReasonId, initcap(hgstr_rejectionreason) AS rejectionReason, hivnum_acceptance_type AS acceptanceType FROM HIVT_REJECTIONREASON_MST WHERE gnum_isvalid=1 and hgnum_rejectionreason_id=?

UPDATE.HIVT_REJECTIONREASON_MST=UPDATE HIVT_REJECTIONREASON_MST SET hgstr_rejectionreason=?, hivnum_acceptance_type=?, GNUM_LSTMOD_SEATID=?,gnum_isvalid=?, GDT_LSTMOD_DATE=SYSDATE WHERE gnum_isvalid=1 and hgnum_rejectionreason_id=?

CHECKDUPLICATE.HIVT_REJECTIONREASON_MST=SELECT hgnum_rejectionreason_id,hgstr_rejectionreason FROM HIVT_REJECTIONREASON_MST WHERE UPPER(hgstr_rejectionreason)=UPPER(?) AND GNUM_ISVALID=? 

CHECKDUPLICITY_MODIFY.HIVT_REJECTIONREASON_MST=SELECT count(*) from HIVT_REJECTIONREASON_MST where GNUM_ISVALID=? and UPPER(hgstr_rejectionreason)=UPPER(?) and hgnum_rejectionreason_id <> ?

DELETE.REJECTIONREASON.HIVT_REJECTIONREASON_MST= UPDATE HIVT_REJECTIONREASON_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

LabTestGlobalMst.main.0=select a.gnum_labcode||'@'||a.gnum_test_code||'@'||a.gnum_hospital_code||'^'||INITCAP(b.gstr_lab_name) ||'^'||  c.gstr_test_name  as DATA from hivt_laboratory_test_mst a, hivt_laboratory_mst b, hivt_test_mst c where a.gnum_isvalid\=? and  c.gnum_isvalid\=1 and   b.gnum_isvalid\=1 and b.gnum_hospital_code \=a.gnum_hospital_code and b.gnum_lab_code \= a.gnum_labcode and c.gnum_test_code\=a.gnum_test_code and a.gnum_hospital_code\=?
select.labTestGlobalMst.cond.0=a.gnum_labcode=? 

Delete.Lab_Test_Global_mst= UPDATE hivt_laboratory_test_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?

DELETE.Lab_Test_Global_mst.COND.0 = gnum_isvalid=1 and gnum_labcode=? And gnum_test_code=? And gnum_hospital_code=?

SELECT.Lab_Tset_Global_Mst=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) AS labName from hivt_laboratory_mst where  gnum_isvalid=1 and gnum_hospital_code=? order by INITCAP(gstr_lab_name) 
SELECT.Lab_Tset_Global_Mst.1=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) AS labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? and gnum_lab_code=?
Select.Test.Lab_Test_Global_Mst.1=select gnum_test_code , gstr_test_name  as testName,gstr_test_type as testType from hivt_test_mst where gnum_isvalid=1 and	 gnum_test_code=?  								
SELECT.TEST_NAME_GLOBAL_MST.0=select gnum_test_code as testCode,  gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 and gnum_test_code NOT IN (select gnum_test_code from hivt_laboratory_test_mst where gnum_isvalid=? and  gnum_labcode=? and gnum_hospital_code=?) order by  	  gstr_test_name 

#ADD.Lab_Test_Global_mst=insert into hivt_laboratory_test_mst(gnum_test_code,gnum_labcode,gnum_test_days,gnum_numof_test,gnum_is_test_available,gnum_isvalid,gbl_is_appointment, gdt_entry_date,gnum_seat_id,gnum_ismultisession,gnum_is_mandatory_req,gnum_isrequisitionform_needed,gnum_is_sample_form_needed,gnum_gender_bound,gnum_age_bound, gnum_low_age_range,gnum_high_age_range,gnum_issecure_printing,hivstr_header_text,gbl_is_grossing_required,gnum_hospital_code,hivstr_footer_text,gnum_is_film_required, hivtnum_isconsent,gstr_test_method,gnum_isconfidential,hivtnum_test_printing_type,hivtnum_printing_template_id,hivt_report_available_after,gstr_desk_properties,HMINUM_MACHINE_ID,gstr_instruction_pat,gstr_instruction_coll,gstr_instruction_post,gstr_instruction_tech,gnum_is_nabl_accredited_test) values(?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\t
 
ADD.Lab_Test_Global_mst=insert into hivt_laboratory_test_mst(gnum_test_code,gnum_labcode,gnum_test_days,gnum_numof_test,gnum_is_test_available,gnum_isvalid,gbl_is_appointment, gdt_entry_date,gnum_seat_id,gnum_ismultisession,gnum_is_mandatory_req,gnum_isrequisitionform_needed,gnum_is_sample_form_needed,gnum_gender_bound,gnum_age_bound, gnum_low_age_range,gnum_high_age_range,gnum_issecure_printing,hivstr_header_text,gbl_is_grossing_required,gnum_hospital_code,hivstr_footer_text,gnum_is_film_required, hivtnum_isconsent,gstr_test_method,gnum_isconfidential,hivtnum_test_printing_type,hivtnum_printing_template_id,hivt_report_available_after,gstr_desk_properties,HMINUM_MACHINE_ID,gstr_instruction_pat,gstr_instruction_coll,gstr_instruction_post,gstr_instruction_tech,gnum_is_nabl_accredited_test,gnum_isdynamic_template,gnum_dynamictemplate_id,gnum_isdynamicresultentry) values(?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\t
                         
#MODIFY.SAVE.Lab_Test_Global_mst=update hivt_laboratory_test_mst SET gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?, gdt_lstmod_date\=SYSDATE,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_lstmod_seatid\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?, gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?  where  gnum_isvalid\=1  and gnum_hospital_code \=? and  gnum_test_code\=? and gnum_labcode\=?
 
MODIFY.SAVE.Lab_Test_Global_mst=update hivt_laboratory_test_mst SET gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?, gdt_lstmod_date\=SYSDATE,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_lstmod_seatid\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?, gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?,gnum_isdynamic_template\=?,gnum_dynamictemplate_id\=?,gnum_isdynamicresultentry\=?  where  gnum_isvalid\=1  and gnum_hospital_code \=? and  gnum_test_code\=? and gnum_labcode\=?
 
   #MODIFY.Lab_Test_Global_mst= select gnum_test_code as testCode,gnum_labcode as labCode,gnum_test_days as testDays,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gdt_entry_date as entryDate,gnum_ismultisession as isMultisession,gnum_is_mandatory_req as isMandatoryReq,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_is_sample_form_needed as isSampleFormNeeded, gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential, hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech,gnum_is_nabl_accredited_test as isNablAccritedTest from hivt_laboratory_test_mst where gnum_isvalid\=1 and  gnum_labcode\=? and gnum_test_code\=?and gnum_hospital_code\=? 
  MODIFY.Lab_Test_Global_mst= select gnum_test_code as testCode,gnum_labcode as labCode,gnum_test_days as testDays,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gdt_entry_date as entryDate,gnum_ismultisession as isMultisession,gnum_is_mandatory_req as isMandatoryReq,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_is_sample_form_needed as isSampleFormNeeded, gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential, hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech,gnum_is_nabl_accredited_test as isNablAccritedTest,gnum_isdynamic_template as printedWith,gnum_dynamictemplate_id as printingTemplateCode,gnum_isdynamicresultentry as requisitionForm from hivt_laboratory_test_mst where gnum_isvalid\=1 and  gnum_labcode\=? and gnum_test_code\=?and gnum_hospital_code\=?
                                   
                        
 VIEW.Lab_Test_Global_Mst=select INITCAP(b.gstr_lab_name) as labName, c.gstr_test_name  as testName,a.gnum_numof_test as noOfTest,DECODE(a.gnum_is_test_available,'1','Yes','0','No') as isTestAvailable,DECODE(a.gbl_is_appointment,'1','Yes','0','No') as isAppointment,DECODE(a.gnum_ismultisession,'1','Yes','0','No') as isMultisession, DECODE(a.gnum_is_mandatory_req,'1','Yes','0','No') as isMandatoryReq,DECODE(a.gnum_isrequisitionform_needed,'1','Yes','0','No') as isRequisitionFormNeeded,DECODE(a.gnum_is_sample_form_needed,'1','Yes','0','No') as isSampleFormNeeded,DECODE(a.gnum_gender_bound,'1','Male','0','No','2','Female') as genderBound,DECODE(a.gnum_issecure_printing,'1','Yes','0','No') as isSecurePrinting,DECODE(a.gbl_is_grossing_required,'1','Yes','0','No') as isGrossingReq,DECODE(a.gnum_is_film_required,'1','Yes','0','No') as isFilmReq,DECODE(a.hivtnum_isconsent,'1','Yes','0','No') as isConsent,a.gstr_test_method as testMethod,DECODE(a.gnum_isconfidential,'1','Yes','0','No') as isConfidential,DECODE(hivtnum_test_printing_type,'0','Without Standard Rage','1','With Standard Rage','2','Special Printing') as testPrintingType,DECODE(hivt_report_available_after,'1','Result Entry','2','Result Validation','3','Result Re Validation') as reportAvailableAfter from hivt_laboratory_test_mst a,hivt_laboratory_mst b,hivt_test_mst c where a.gnum_isvalid\=1 and a.gnum_labcode\=? and a.gnum_test_code\=? and a.gnum_hospital_code\=? and b.gnum_lab_code\=a.gnum_labcode and c.gnum_test_code\=a.gnum_test_code and b.gnum_isvalid\=a.gnum_isvalid and c.gnum_isvalid\=a.gnum_isvalid                       

# addeed by harshita FETCH_GLOBAL_DATA.Lab_Test_Local_Mst=select gnum_is_nabl_accredited_test as isNablAccritedTest,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gnum_ismultisession as isMultisession,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential,hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gnum_is_mandatory_req as isMandatoryReq,gnum_is_sample_form_needed as isSampleFormNeeded,gnum_test_days as testDays,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_labcode=? and gnum_test_code=? and gnum_hospital_code=?

 
 FETCH_GLOBAL_DATA.Lab_Test_Local_Mst=select gnum_is_nabl_accredited_test as isNablAccritedTest,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gnum_ismultisession as isMultisession,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential,hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gnum_is_mandatory_req as isMandatoryReq,gnum_is_sample_form_needed as isSampleFormNeeded,gnum_test_days as testDays,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech,nvl(gnum_ispidshow,0) as isPID from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_labcode=? and gnum_test_code=? and gnum_hospital_code=? 
 SELECT.TEST_NAME.Lab_Test_Local_Mst=select gnum_test_code as testCode, pkg_inv_fun.fun_test_name(gnum_test_code) as testName from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_test_code NOT IN (select gnum_test_code from hivt_laboratory_test_mst where gnum_isvalid=? and  gnum_labcode=? and gnum_hospital_code=?) and gnum_hospital_code=? and gnum_labcode=? order by testName 
                          
SELECT.TEST_METHOD_COMBO=Select distinct(method_typ) as code, method_typ  as testMethod from loinc order by method_typ  

SELECT.UOM_SAMPLE_QTY.Lab_Test_Sample_Mst_old=select b.gnum_uom_code as uomCode , b.gstr_uom as uomName,a.hgnum_container_volume as sampleQty from hivt_container_mst a,hivt_uom_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_uom_code=a.gnum_uom_code and a.gnum_isvalid=? and a.gnum_container_code=? 

SELECT.UOM_SAMPLE_QTY.Lab_Test_Sample_Mst=select a.gnum_uom_code||'#'||a.hgnum_container_volume from hivt_container_mst a where a.gnum_isvalid=? and a.gnum_container_code=? 

SELECT.SAMPLEQTY.Lab_Test_Sample_Mst=select hgnum_container_volume as sampleQty from hivt_container_mst where gnum_isvalid=? and gnum_container_code=?
                   
SELECT.Lab.Lab_Test_Sample_Global_Mst=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) AS labName from hivt_laboratory_mst where gnum_hospital_code=? and gnum_isvalid=1  order by INITCAP(gstr_lab_name)



LabTestSampleGlobalMst.Main=select a.gnum_lab_code||'@'||a.gnum_test_code||'@'||a.gnum_sample_code||'@'||a.gnum_hospital_code||'^'|| INITCAP(b.gstr_lab_name)||'^'|| c.gstr_test_name ||'^'||INITCAP(d.gstr_sample_name)||'^'||INITCAP(DECODE(a.gnum_is_default_sample,'1','Yes','0','No')) as DATA from hivt_labtest_sample_mst a,hivt_laboratory_mst b,hivt_test_mst c,hivt_sample_mst d where b.gnum_isvalid\=a.gnum_isvalid and c.gnum_isvalid\=a.gnum_isvalid and d.gnum_isvalid\=a.gnum_isvalid and b.gnum_lab_code\=a.gnum_lab_code and c.gnum_test_code\=a.gnum_test_code and d.gnum_sample_code\=a.gnum_sample_code and b.gnum_hospital_code\=a.gnum_hospital_code and a.gnum_isvalid\=? and a.gnum_hospital_code\=?
Select.Test.Lab_Test_Sample_Global_Mst=select distinct a.gnum_test_code ,pkg_inv_fun.fun_test_name(a.gnum_test_code) as testName from hivt_laboratory_test_mst a where a.gnum_isvalid=1  and a.gnum_hospital_code=?  and a.gnum_labcode=#1# order by testName


LabTestSampleGlobalMst.Main.Cond.0=a.gnum_lab_code=?

LabTestSampleGlobalMst.Main.Cond.1=a.gnum_test_code=?    

DELETE.REJECTIONREASON.HIVT_REJECTIONREASON_MST.COND.0 =  gnum_isvalid=1 and hgnum_rejectionreason_id=?

SELECT.Sample.Lab_Test_Sample_Global_Mst=select gnum_sample_code as sampleCode,INITCAP(gstr_sample_name) as sampleName from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code NOT IN (select gnum_sample_code from hivt_labtest_sample_mst where gnum_lab_code=? and gnum_test_code=? and gnum_isvalid=? and gnum_hospital_code=?) order by sampleName    

SELECT.Sample.Lab_Test_Sample_Local_Mst=select gnum_sample_code as sampleCode,pkg_inv_fun.fun_sample_name(gnum_sample_code) as sampleName from hivt_labtest_sample_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code NOT IN (select gnum_sample_code from hivt_labtest_sample_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_hospital_code=?) and gnum_hospital_code=? order by sampleName

FETCH_GLOBAL_DATA.Lab_Test_Sample_Local_Data=select gnum_container_code as containerCode,gnum_uom_code as uomCode,gnum_sample_qty as sampleQty,gnum_is_default_sample as isDefaultSample,gstr_samplecoll_remarks as sampleCollRemarks from hivt_labtest_sample_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?



rejectionreasonMst.main.0 = SELECT INITCAP(hgnum_rejectionreason_id)||'^'||INITCAP(hgstr_rejectionreason)||'^'||DECODE(hivnum_acceptance_type,'1','Sample','2','Patient','3','Both') AS DATA FROM HIVT_REJECTIONREASON_MST WHERE GNUM_ISVALID \= ?

SELECT.Container.Lab_Test_Sample_Global_Mst=select gnum_container_code as containerCode,INITCAP(gstr_container_name) as containerName from hivt_container_mst where gnum_isvalid=? order by containerName

 select.rejectionreason.view.2 = SELECT INITCAP(hgstr_rejectionreason),DECODE(hivnum_acceptance_type,'1','Sample','2','Patient','3','Both')\tFROM HIVT_REJECTIONREASON_MST WHERE gnum_isvalid\=1 and hgnum_rejectionreason_id \=? \t
 CHECK_DUPLICATE_DATA.Lab_Test_Sample_Mst=select count(*) as count from hivt_labtest_sample_mst where gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=? and gnum_isvalid=?
 
 UPDATE_INSERT.Lab_Test_Sample_mst=update hivt_labtest_sample_mst set gnum_sample_qty=?,gnum_container_code=?,gnum_uom_code=?,gstr_samplecoll_remarks=?,gnum_is_default_sample=?,gnum_isvalid=? where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?

SELECT.UOM.Lab_Test_Sample_Global_Mst=select gnum_uom_code as uomCode,INITCAP(gstr_uom) as uomName from hivt_uom_mst where gnum_isvalid=?   order by uomName


INSERT.Lab_Test_Sample_Global_Mst=insert into hivt_labtest_sample_mst(gnum_lab_code,gnum_test_code,gnum_sample_qty,gnum_sample_code,gnum_container_code,gdt_entry_date,gnum_seatid,gnum_isvalid,gnum_uom_code,gnum_hospital_code,gstr_samplecoll_remarks,gnum_is_default_sample) values(?,?,?,?,?,SYSDATE,?,?,?,?,?,?) 

SELECT.MODIFY._Lab_Test_Sample_Global_mst=select gnum_lab_code as labCode,gnum_test_code as testCode,gnum_sample_qty as sampleQty,gnum_sample_code as sampleCode,gnum_container_code as containerCode,gnum_uom_code as uomCode, gstr_samplecoll_remarks as sampleCollRemarks,gnum_is_default_sample as isDefaultSample,(select INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_lab_code\=? and gnum_isvalid\=? and gnum_hospital_code\=?) as labName,(select gstr_test_name from hivt_test_mst where gnum_test_code\=?and gnum_isvalid\=?) as testName,(select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_sample_code\=? and gnum_isvalid\=?) as sampleName from hivt_labtest_sample_mst where gnum_isvalid\=1 and gnum_lab_code\=? and gnum_test_code\=? and gnum_hospital_code\=? and gnum_sample_code\=? and gnum_isvalid\=?
                                          
INSERT.MODIFY.Lab_Test_Sample_Global_Mst=update hivt_labtest_sample_mst set gnum_sample_qty=?,gnum_container_code=?,gdt_lstmod_date=SYSDATE,gnum_uom_code=?,gnum_lstmod_seatid=?,gstr_samplecoll_remarks=?,gnum_is_default_sample=? where gnum_isvalid=1 and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?                                          
                                   
VIEW.Lab_Test_Sample_Global_Mst=select (select initcap(gstr_lab_name) from hivt_laboratory_mst where gnum_lab_code\=a.gnum_lab_code and gnum_isvalid\=1 and gnum_hospital_code\=100) as labName,(select  gstr_test_name  from hivt_test_mst where gnum_test_code\=a.gnum_test_code and gnum_isvalid\=1) as testName,(select initcap(gstr_sample_name) from hivt_sample_mst where gnum_sample_code\=a.gnum_sample_code and gnum_isvalid\=1) as sampleName,DECODE(gnum_sample_qty,NULL,'-',gnum_sample_qty) as sampleQty,NVL((select initcap(gstr_uom) from hivt_uom_mst where gnum_uom_code\=a.gnum_uom_code and gnum_isvalid\=1),'-') as uomName,NVL((select  initcap(gstr_container_name)   from hivt_container_mst where gnum_container_code\=a.gnum_container_code and gnum_isvalid\=1),'-') as containerName,DECODE(gnum_is_default_sample,'1','Yes','0','No') as isDefaultSample from hivt_labtest_sample_mst a where gnum_lab_code\=? and gnum_test_code\=? and gnum_sample_code\=? and gnum_hospital_code\=? and gnum_isvalid\=1 
								
DELETE.Lab_Test_Sample_Global_Mst=update hivt_labtest_sample_mst set gnum_isvalid='0',gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? 
 
 
 UPDATE.Is_Default_Sample.Lab_Test_Sample_Mst=update hivt_labtest_sample_mst set gnum_is_default_sample=0 where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?
	
INSERT.HIVT_PARAMETER_MST   =INSERT INTO hivt_parameter_mst(hgnum_parameter_id, hgstr_parameter, gnum_isvalid, gnum_seat_id, hgdt_entry_date,  gstr_remarks) \
                            VALUES ((Select NVL(MAX(hgnum_parameter_id),1000)+1 from hivt_parameter_mst), ?, ?, ?,SYSDATE, ?)
						
SELECT_CHECKLIST.HIVT_MACRO_MST=SELECT hgnum_macro_code as macroCode , INITCAP(hgstr_macro_text) as macroText , NVL(gstr_remarks,'-') as remarks FROM HIVT_MACRO_MST WHERE GNUM_ISVALID=?							 
	                               

SELECT.HIVT_PARAMETER_MST=SELECT hgnum_parameter_id AS parameterCode,initcap(hgstr_parameter) AS parameterName, INITCAP(gstr_remarks) as remarks FROM HIVT_PARAMETER_MST WHERE GNUM_ISVALID=1 AND hgnum_parameter_id=? 
	

INSERT.HIVT_MACRO_MST   =INSERT INTO HIVT_MACRO_MST(hgnum_macro_code,gnum_seat_id, gdt_entry_date,gnum_isvalid,hgstr_macro_text,gstr_remarks) \
                            VALUES ((Select NVL(MAX(hgnum_macro_code),1000)+1 from hivt_macro_mst),  ?,SYSDATE, ?,?,?)

SELECT.HIVT_MACRO_MST=SELECT hgnum_macro_code AS macroCode,initcap(hgstr_macro_text) AS macroText, initcap(gstr_remarks) AS remarks FROM HIVT_MACRO_MST WHERE GNUM_ISVALID=1 and hgnum_macro_code=?  
	

	
UPDATE.HIVT_MACRO_MST=UPDATE HIVT_MACRO_MST SET hgstr_macro_text=?, GSTR_REMARKS=?, GNUM_LSTMOD_SEATID=?,gnum_isvalid=?, GDT_LSTMOD_DATE=SYSDATE WHERE gnum_isvalid=1 and hgnum_macro_code=?



CHECKDUPLICATE.HIVT_MACRO_MST=SELECT hgstr_macro_text FROM HIVT_MACRO_MST WHERE UPPER(hgstr_macro_text)=UPPER(?) AND GNUM_ISVALID=?  


CHECKDUPLICITY_MODIFY.HIVT_MACRO_MST  =SELECT count(*) from HIVT_MACRO_MST where GNUM_ISVALID=? and UPPER(hgstr_macro_text)=UPPER(?) and hgnum_macro_code <> ? 									
									

DELETE.MACRO.HIVT_MACRO_MST= UPDATE HIVT_MACRO_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.MACRO.HIVT_MACRO_MST.COND.0 = GNUM_ISVALID=1 and hgnum_macro_code = ?   

 
 macroMst.main.0 = SELECT hgnum_macro_code||'^'||INITCAP(hgstr_macro_text) AS DATA  FROM HIVT_MACRO_MST WHERE GNUM_ISVALID \= ?

 select.macro.view.2 = SELECT INITCAP(hgstr_macro_text),INITCAP(NVL(gstr_remarks,' '))\tFROM HIVT_MACRO_MST WHERE  GNUM_ISVALID\=1 and hgnum_macro_code \= ?   
 	                            
INSERT.HIVT_TEST_GROUP_MST=INSERT INTO hivt_test_group_mst(hgnum_group_code,gnum_hospital_code,hgstr_group_name,gnum_isvalid,gnum_seat_id,gdt_entry_date,hgnum_group_type,gstr_remarks) \
                            VALUES ((SELECT NVL(MAX(hgnum_group_code),1000)+1 from hivt_test_group_mst), ?, ?, ?,?,SYSDATE,?,?)

SELECT.HIVT_TEST_GROUP_MST=SELECT hgnum_group_code AS groupCde,gnum_hospital_code AS hospCde, initcap(hgstr_group_name) AS groupName, hgnum_group_type AS groupType,initcap(gstr_remarks) AS remarks FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=?

UPDATE.HIVT_TEST_GROUP_MST=UPDATE HIVT_TEST_GROUP_MST SET hgstr_group_name=?,gnum_isvalid=?, hgnum_group_type=?, GNUM_LSTMOD_SEATID=?, GDT_LSTMOD_DATE=SYSDATE,gstr_remarks=? WHERE gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=?

CHECKDUPLICATE.HIVT_TEST_GROUP_MST=SELECT hgnum_group_code,hgstr_group_name FROM HIVT_TEST_GROUP_MST WHERE GNUM_ISVALID=? AND UPPER(hgstr_group_name)=UPPER(?)   

CHECKDUPLICITY_MODIFY.HIVT_TEST_GROUP_MST=SELECT count(*) from HIVT_TEST_GROUP_MST where GNUM_ISVALID=? and UPPER(hgstr_group_name)=UPPER(?) and hgnum_group_code <> ?

DELETE.TESTGROUP.HIVT_TEST_GROUP_MST= UPDATE HIVT_TEST_GROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TESTGROUP.HIVT_TEST_GROUP_MST.COND.0 =  gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=?

testgroupMst.main.0 = SELECT hgnum_group_code||'@'||gnum_hospital_code||'^'||INITCAP(hgstr_group_name)||'^'||DECODE(hgnum_group_type,'1','Package','2','Profile','3','UserDefined') AS DATA  FROM HIVT_TEST_GROUP_MST WHERE GNUM_ISVALID \= ? AND  gnum_hospital_code\=?
															
select.testgroupMst.view.2 = SELECT INITCAP(hgstr_group_name),DECODE(hgnum_group_type,'1','Package','2','Profile','3','UserDefined'),INITCAP(NVL(gstr_remarks,' '))\t FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid\=1 and  hgnum_group_code \=? and gnum_hospital_code\=?
 	                            
#INSERT.LOCAL.HIVT_TEST_LOCALGROUP_MST=INSERT INTO hivt_test_group_mst(hgnum_group_code,gnum_hospital_code,hgstr_group_name,gnum_isvalid,gnum_seat_id,gdt_entry_date,hgnum_group_type,gstr_remarks) \
 #                           VALUES (?, ?, ?, ?,?,SYSDATE,?,?)
 #Modified By Harshita 
 
INSERT.LOCAL.HIVT_TEST_LOCALGROUP_MST=INSERT INTO hivt_test_group_mst(hgnum_group_code,gnum_hospital_code,hgstr_group_name,gnum_isvalid,gnum_seat_id,gdt_entry_date,hgnum_group_type,gnum_isgroupnameprint,gstr_remarks,preference_order) VALUES (?, ?, ?, ?,?,SYSDATE,?,?,?,?)
#SELECT.LOCAL.HIVT_TEST_GROUP_MST=SELECT hgnum_group_code AS groupCde, initcap(hgstr_group_name) AS groupName, hgnum_group_type AS groupType,initcap(gstr_remarks) AS remarks FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid=1   and gnum_hospital_code=? and hgnum_group_code=?
# Added by Harshita
SELECT.LOCAL.HIVT_TEST_GROUP_MST=SELECT hgnum_group_code AS groupCde, initcap(hgstr_group_name) AS groupName, hgnum_group_type AS groupType,initcap(gstr_remarks) AS remarks,preference_order as preferenceOrder, NVL(gnum_isgroupnameprint, '0') as isprint FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid=1   and gnum_hospital_code=? and hgnum_group_code=?




SELECT.LOCAL.LOCAL_GROUP_NAME.HIVT_TEST_GROUP_MST=SELECT initcap(hgstr_group_name) AS groupName FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid=1   and gnum_hospital_code=? and hgnum_group_code=?


#SELECT.LOCAL.TESTGROUP_COMBO.HIVT_TEST_GROUP_MST=select hgnum_group_code as groupCde,INITCAP(hgstr_group_name) as groupName,hgnum_group_type AS groupType,initcap(gstr_remarks) AS remarks from HIVT_TEST_GROUP_MST where gnum_isvalid=1 and gnum_hospital_code=? order by hgstr_group_name
# Added by Harshita on 31-Oct-2018 to get Preference Order 
SELECT.LOCAL.TESTGROUP_COMBO.HIVT_TEST_GROUP_MST=select hgnum_group_code as groupCde,INITCAP(hgstr_group_name) as groupName,hgnum_group_type AS groupType,initcap(gstr_remarks) AS remarks,NVL(gnum_isgroupnameprint, '0')  as isprint  from HIVT_TEST_GROUP_MST where gnum_isvalid=1 and gnum_hospital_code=? order by hgstr_group_name


#UPDATE.LOCAL.HIVT_TEST_GROUP_MST=UPDATE HIVT_TEST_GROUP_MST SET hgstr_group_name=?,gnum_isvalid=?, hgnum_group_type=?, GNUM_LSTMOD_SEATID=?, GDT_LSTMOD_DATE=SYSDATE,gstr_remarks=? WHERE gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=? 
#Added by Harshita
UPDATE.LOCAL.HIVT_TEST_GROUP_MST=UPDATE HIVT_TEST_GROUP_MST SET hgstr_group_name=?,gnum_isvalid=?, hgnum_group_type=?, GNUM_LSTMOD_SEATID=?, GDT_LSTMOD_DATE=SYSDATE,gstr_remarks=?,preference_order=?,gnum_isgroupnameprint=? WHERE gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=? 
CHECKDUPLICATE.LOCAL.HIVT_TEST_GROUP_MST=SELECT hgnum_group_code FROM HIVT_TEST_GROUP_MST WHERE GNUM_ISVALID=1 AND hgnum_group_code= ? and gnum_hospital_code=?   

CHECKDUPLICITY_MODIFY.LOCAL.HIVT_TEST_GROUP_MST=SELECT count(*) from HIVT_TEST_GROUP_MST where GNUM_ISVALID=? and UPPER(hgstr_group_name)=UPPER(?) and hgnum_group_code <> ?

DELETE.LOCALTESTGROUP.HIVT_TEST_GROUP_MST= UPDATE HIVT_TEST_GROUP_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.LOCALTESTGROUP.HIVT_TEST_GROUP_MST.COND.0 =  gnum_isvalid=1  and hgnum_group_code=? and gnum_hospital_code=?

localtestgroupMst.main.0 = SELECT hgnum_group_code||'@'||gnum_hospital_code||'^'||INITCAP(hgstr_group_name)||'^'||DECODE(hgnum_group_type,'1','Package','2','Profile','3','UserDefined') AS DATA  FROM HIVT_TEST_GROUP_MST WHERE GNUM_ISVALID \= ? AND  gnum_hospital_code\=?
															
select.localtestgroupMst.view.2 = SELECT INITCAP(hgstr_group_name),DECODE(hgnum_group_type,'1','Package','2','Profile','3','UserDefined'),INITCAP(NVL(gstr_remarks,' '))\t FROM HIVT_TEST_GROUP_MST WHERE gnum_isvalid\=1 and  hgnum_group_code \=? and gnum_hospital_code\=?
 	                            
INSERT.HIVT_CANNED_MST=INSERT INTO HIVT_CANNED_MST(hgnum_canned_code,gnum_seat_id,hgdt_entry_date,gnum_isvalid,gstr_remarks,hstr_canned_content,gstr_canned_name) \
                            VALUES ((SELECT NVL(MAX(hgnum_canned_code),1000)+1 from HIVT_CANNED_MST), ?,SYSDATE, ?, ?,?,?)

SELECT.HIVT_CANNED_MST=SELECT hgnum_canned_code AS cannedCde,INITCAP(gstr_remarks) AS remarks, hstr_canned_content AS text1, INITCAP(gstr_canned_name) AS cannedName FROM HIVT_CANNED_MST WHERE gnum_isvalid=1  and hgnum_canned_code=?

UPDATE.HIVT_CANNED_MST=UPDATE HIVT_CANNED_MST SET gnum_isvalid=?, GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID=?,gstr_remarks=?,hstr_canned_content=?,gstr_canned_name=? WHERE gnum_isvalid=1  and hgnum_canned_code=? 

CHECKDUPLICATE.HIVT_CANNED_MST=SELECT hgnum_canned_code,gstr_canned_name FROM HIVT_CANNED_MST WHERE GNUM_ISVALID=? AND  UPPER(gstr_canned_name)=UPPER(?)

CHECKDUPLICITY_MODIFY.HIVT_CANNED_MST=SELECT count(*) from HIVT_CANNED_MST where GNUM_ISVALID=? and UPPER(gstr_canned_name)=UPPER(?) and hgnum_canned_code <> ?

DELETE.CANNED.HIVT_CANNED_MST= UPDATE HIVT_CANNED_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.CANNED.HIVT_CANNED_MST.COND.0 =  gnum_isvalid=1  and hgnum_canned_code=? 

cannedMst.main.0 = SELECT hgnum_canned_code||'^'||INITCAP(gstr_canned_name) AS DATA  FROM HIVT_CANNED_MST WHERE GNUM_ISVALID \= ?
															
select.cannedMst.view.2 = SELECT INITCAP(gstr_canned_name),INITCAP(NVL(gstr_remarks,' ')) FROM HIVT_CANNED_MST WHERE gnum_isvalid\=1 and  hgnum_canned_code \=? 
 	                              	                               

SELECT_LOCAL.LAB_COMBO.HIVT_LAB_MACRO_MAPPING_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name 
	
INSERT_LOCAL.HIVT_LAB_MACRO_MAPPING_MST   =INSERT INTO hivt_lab_macro_mapping_mst(hgnum_macro_code,gnum_lab_code ,gnum_hospital_code,gnum_seat_id ,gdt_entry_date  , gnum_isvalid,gstr_user_macro_code) \
                            VALUES (?,?,?,?,SYSDATE,?,?)

/*INSERT_LABORATORY_LOCAL.HIVT_LABORATORY_MST=INSERT INTO hivt_laboratory_mst(gnum_lab_code ,gnum_hospital_code,gstr_lab_name,gnum_seat_id ,gdt_entry_date  , gnum_isvalid) VALUES (?,?,?,?,SYSDATE,?) 

SELECT_LOCAL.HIVT_LAB_MACRO_MAPPING_MST= SELECT  gnum_lab_code as labCode, hgnum_macro_code as laboratorymacroCode FROM HIVT_LAB_MACRO_MAPPING_MST WHERE gnum_isvalid=1 and  hgnum_macro_code=? and gnum_hospital_code=? and gnum_lab_code=? 					 

DELETE_VALID_LOCAL.HIVT_LAB_MACRO_MAPPING_MST=UPDATE hivt_lab_macro_mapping_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_macro_code=? AND  gnum_hospital_code=? and gnum_lab_code=?
                            
CHECKPRIMARYKEY_LOCAL.HIVT_LAB_MACRO_MAPPING_MST=SELECT  count(*)  FROM HIVT_LAB_MACRO_MAPPING_MST where hgnum_macro_code=? and gnum_hospital_code=? and gnum_lab_code=?
										 
UPDATE_VALID_LOCAL.HIVT_LAB_MACRO_MAPPING_MST=UPDATE hivt_lab_macro_mapping_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? , gstr_user_macro_code=? WHERE hgnum_macro_code=? AND  gnum_hospital_code=? and gnum_lab_code=?

SELECT_LOCAL.LOCAL_LAB_NAME.HIVT_LABORATORY_MST=SELECT initcap(gstr_lab_name) AS localLaboratoryName FROM HIVT_LABORATORY_MST WHERE gnum_isvalid=1   and gnum_hospital_code=? and gnum_lab_code=?
			
SELECT_LOCAL.LAB_MACRO_COMBO.HIVT_LAB_MACRO_MAPPING_MST=SELECT HGNUM_MACRO_CODE,INITCAP(HGSTR_MACRO_TEXT) FROM hivt_macro_mst WHERE GNUM_ISVALID=1  AND HGNUM_MACRO_CODE NOT IN (SELECT hgnum_macro_code from hivt_lab_macro_mapping_mst where gnum_isvalid=1 and  gnum_lab_code=? and gnum_hospital_code=?) order by HGSTR_MACRO_TEXT
											
SELECT_LOCAL.LAB_SELECTED_MACRO_COMBO.HIVT_LAB_MACRO_MAPPING_MST=Select MM.hgnum_macro_code as laboratorymacroCode, (Select hgstr_macro_text from hivt_macro_mst where gnum_isvalid\=1 and hgnum_macro_code\=mm.hgnum_macro_code) as macroName,UPPER(MM.gstr_user_macro_code) as userMacroCode from hivt_lab_macro_mapping_mst MM where MM.gnum_isvalid\=1 and MM.gnum_hospital_code\=? and MM.gnum_lab_code\=?  order by macroName
							
DELETE_LOCAL.LABMACROMAPPING.HIVT_LAB_MACRO_MAPPING_MST= UPDATE HIVT_LAB_MACRO_MAPPING_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE_LOCAL.LABMACROMAPPING.HIVT_LAB_MACRO_MAPPING_MST.COND.0 = gnum_isvalid=1 and hgnum_macro_code=? and gnum_lab_code=? and gnum_hospital_code=?  

 locallabmacromapping.main.0 = SELECT MM.hgnum_macro_code||'@'||MM.gnum_lab_code||'@'||MM.gnum_hospital_code||'^'||INITCAP(L.gstr_lab_name)||'^'||INITCAP(M.hgstr_macro_text)||'^'||UPPER(MM.gstr_user_macro_code) AS DATA FROM HIVT_LAB_MACRO_MAPPING_MST MM, HIVT_MACRO_MST M, HIVT_LABORATORY_MST L WHERE MM.GNUM_ISVALID \= 1 and M.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND MM.gnum_hospital_code\=? and L.gnum_hospital_code\=MM.gnum_hospital_code and MM.hgnum_macro_code\=M.hgnum_macro_code and MM.gnum_lab_code\=L.gnum_lab_code 

select_local.labmacromapping.view.2 = Select (SELECT INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid=1 and gnum_lab_code=MM.gnum_lab_code and gnum_hospital_code=MM.gnum_hospital_code), ( Select INITCAP(hgstr_macro_text) from HIVT_MACRO_MST where gnum_isvalid=1 and hgnum_macro_code=MM.hgnum_macro_code ) ,UPPER(MM.gstr_user_macro_code) FROM HIVT_LAB_MACRO_MAPPING_MST MM WHERE gnum_isvalid=1 and hgnum_macro_code =? and gnum_lab_code=? and gnum_hospital_code=?		

CHECK_LOCALLY_MAPPLED.Local_Lab_Macro_Mst=select count(*) from hivt_lab_macro_mapping_mst where gnum_isvalid=? and gnum_hospital_code=? and gnum_lab_code=?
 	                              	                               
	
INSERT.HIVT_LAB_MACRO_MAPPING_MST   =INSERT INTO hivt_lab_macro_mapping_mst(hgnum_macro_code,gnum_hospital_code,gnum_lab_code,gnum_isvalid, gnum_seat_id, gdt_entry_date) \
                            VALUES (?,?,?,?, ?,SYSDATE)

SELECT.HIVT_LAB_MACRO_MAPPING_MST= SELECT  gnum_lab_code as labCode, hgnum_macro_code as laboratorymacroCode FROM HIVT_LAB_MACRO_MAPPING_MST WHERE gnum_isvalid=1 and  hgnum_macro_code=? and gnum_hospital_code=? and gnum_lab_code=? 					 

DELETE_VALID.HIVT_LAB_MACRO_MAPPING_MST=UPDATE hivt_lab_macro_mapping_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_macro_code=? AND  gnum_hospital_code=? and gnum_lab_code=?
                            
CHECKPRIMARYKEY.HIVT_LAB_MACRO_MAPPING_MST=SELECT  count(*)  FROM HIVT_LAB_MACRO_MAPPING_MST where hgnum_macro_code=? and gnum_hospital_code=? and gnum_lab_code=?
										 
UPDATE_VALID.HIVT_LAB_MACRO_MAPPING_MST=UPDATE hivt_lab_macro_mapping_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE hgnum_macro_code=? AND  gnum_hospital_code=? and gnum_lab_code=?

SELECT.LAB_COMBO.HIVT_LAB_MACRO_MAPPING_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name

				
SELECT.LAB_MACRO_GLOBAL_COMBO.HIVT_LAB_MACRO_MAPPING_MST=SELECT HGNUM_MACRO_CODE,INITCAP(HGSTR_MACRO_TEXT) FROM hivt_macro_mst WHERE GNUM_ISVALID=1  AND HGNUM_MACRO_CODE NOT IN (SELECT hgnum_macro_code from hivt_lab_macro_mapping_mst where gnum_isvalid=1 and  gnum_lab_code=? and gnum_hospital_code=?) order by HGSTR_MACRO_TEXT
											
SELECT.LAB_SELECTED_MACRO_GLOBAL_COMBO.HIVT_LAB_MACRO_MAPPING_MST= Select MM.hgnum_macro_code as laboratorymacroCode, (Select hgstr_macro_text from hivt_macro_mst where gnum_isvalid\=1 and hgnum_macro_code\=mm.hgnum_macro_code) as macroName from hivt_lab_macro_mapping_mst MM where MM.gnum_isvalid\=1 and MM.gnum_hospital_code\=? and MM.gnum_lab_code\=?  order by macroName
							
DELETE.LABMACROGLOBALMAPPING.HIVT_LAB_MACRO_MAPPING_MST= UPDATE HIVT_LAB_MACRO_MAPPING_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.LABMACROGLOBALMAPPING.HIVT_LAB_MACRO_MAPPING_MST.COND.0 =  gnum_isvalid=1 and hgnum_macro_code=? and gnum_lab_code=? and gnum_hospital_code=?  

 labmacroglobalmapping.main.0 = SELECT MM.hgnum_macro_code||'@'||MM.gnum_lab_code||'@'||MM.gnum_hospital_code||'^'||INITCAP(L.gstr_lab_name)||'^'||INITCAP(M.hgstr_macro_text) AS DATA FROM HIVT_LAB_MACRO_MAPPING_MST MM, HIVT_MACRO_MST M, HIVT_LABORATORY_MST L WHERE MM.GNUM_ISVALID \= 1 and M.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND MM.gnum_hospital_code\=? and L.gnum_hospital_code\=MM.gnum_hospital_code and MM.hgnum_macro_code\=M.hgnum_macro_code and MM.gnum_lab_code\=L.gnum_lab_code 


select.labmacroglobalmapping.view.2 = Select (SELECT INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid=1 and gnum_lab_code=MM.gnum_lab_code and gnum_hospital_code=MM.gnum_hospital_code), ( Select INITCAP(hgstr_macro_text) from HIVT_MACRO_MST where gnum_isvalid=1 and hgnum_macro_code=MM.hgnum_macro_code ) FROM HIVT_LAB_MACRO_MAPPING_MST MM WHERE gnum_isvalid=1 and hgnum_macro_code =? and gnum_lab_code=? and gnum_hospital_code=?		
 	                              	                               
	
INSERT_GLOBAL.HIVT_LAB_CANNED_MST   =INSERT INTO hivt_lab_canned_mst(hgnum_canned_code,gnum_hospital_code,gnum_lab_code,gnum_isvalid, gnum_seat_id, hgdt_entry_date) \
                            VALUES (?,?,?,?, ?,SYSDATE)

SELECT_GLOBAL.HIVT_LAB_CANNED_MST= SELECT  gnum_lab_code as labCode, hgnum_canned_code as cannedCode FROM HIVT_LAB_CANNED_MST WHERE gnum_isvalid=1 and  hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=? 					 

DELETE_VALID_GLOBAL.HIVT_LAB_CANNED_MST=UPDATE hivt_lab_canned_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_canned_code=? AND  gnum_hospital_code=? and gnum_lab_code=?
                            
CHECKPRIMARYKEY_GLOBAL.HIVT_LAB_CANNED_MST=SELECT  count(*)  FROM HIVT_LAB_CANNED_MST where hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=?
										 
UPDATE_VALID_GLOBAL.HIVT_LAB_CANNED_MST=UPDATE hivt_lab_canned_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE hgnum_canned_code=? AND  gnum_hospital_code=? and gnum_lab_code=?

SELECT_GLOBAL.LAB_COMBO.HIVT_LAB_CANNED_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name

				
SELECT_GLOBAL.LAB_UNMAPPED_COMBO.HIVT_LAB_CANNED_MST=select hgnum_canned_code as cannedCode,gstr_canned_name as cannedName from hivt_canned_mst where gnum_isvalid=? and hgnum_canned_code NOT IN(select hgnum_canned_code from hivt_lab_canned_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?) order by gstr_canned_name
											
SELECT_GLOBAL.LAB_MAPPED_COMBO.HIVT_LAB_CANNED_MST= Select LC.hgnum_canned_code as cannedCode, (Select gstr_canned_name from hivt_canned_mst where gnum_isvalid=1 and hgnum_canned_code=LC.hgnum_canned_code) as cannedName from hivt_lab_canned_mst LC where LC.gnum_isvalid=? and LC.gnum_hospital_code=? and LC.gnum_lab_code=?  order by cannedName
DELETE_GLOBAL.LABCANNED.HIVT_LAB_CANNED_MST= UPDATE HIVT_LAB_CANNED_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE_GLOBAL.LABCANNED.HIVT_LAB_CANNED_MST.COND.0 =  gnum_isvalid=1 and hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=?  

globallabcanned.main.0 =SELECT LC.hgnum_canned_code||'@'||LC.gnum_hospital_code||'@'||LC.gnum_lab_code||'^'||INITCAP(L.gstr_lab_name)||'^'||INITCAP(C.gstr_canned_name) AS DATA FROM HIVT_LAB_CANNED_MST LC, HIVT_CANNED_MST C, HIVT_LABORATORY_MST L WHERE LC.GNUM_ISVALID \= 1 and C.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND LC.gnum_hospital_code\=? and L.gnum_hospital_code\=LC.gnum_hospital_code and LC.hgnum_canned_code\=C.hgnum_canned_code and LC.gnum_lab_code\=L.gnum_lab_code 


select.global.labcanned.view.2 =Select INITCAP(b.gstr_lab_name), INITCAP(c.gstr_canned_name) FROM HIVT_LAB_CANNED_MST a,hivt_laboratory_mst b,hivt_canned_mst c WHERE b.gnum_isvalid=a.gnum_isvalid and c.gnum_isvalid=a.gnum_isvalid  and c.hgnum_canned_code=a.hgnum_canned_code and b.gnum_lab_code=a.gnum_lab_code and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_isvalid=1 and a.hgnum_canned_code=? and  a.gnum_hospital_code =? and a.gnum_lab_code=?		
 	                              	                               

SELECT_LOCAL.HIVT_LAB_CANNED_MST= SELECT  gnum_lab_code as labCode, hgnum_canned_code as cannedCode FROM HIVT_LAB_CANNED_MST WHERE gnum_isvalid=1 and  hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=? 
	
INSERT_LOCAL.HIVT_LAB_CANNED_MST   =INSERT INTO hivt_lab_canned_mst(hgnum_canned_code,gnum_hospital_code,gnum_lab_code,gnum_isvalid, gnum_seat_id, hgdt_entry_date,gstr_user_canned_code) \
                            VALUES (?,?,?,?, ?,SYSDATE,?)


DELETE_VALID_LOCAL.HIVT_LAB_CANNED_MST=UPDATE hivt_lab_canned_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_canned_code=? AND  gnum_hospital_code=? and gnum_lab_code=?
                            
CHECKPRIMARYKEY_LOCAL.HIVT_LAB_CANNED_MST=SELECT  count(*)  FROM HIVT_LAB_CANNED_MST where hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=?
										 
UPDATE_VALID_LOCAL.HIVT_LAB_CANNED_MST=UPDATE hivt_lab_canned_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ?,gstr_user_canned_code=? WHERE hgnum_canned_code=? AND  gnum_hospital_code=? and gnum_lab_code=?

SELECT_LOCAL.LAB_COMBO.HIVT_LAB_CANNED_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name
				
SELECT_LOCAL.LAB_UNMAPPED_COMBO.HIVT_LAB_CANNED_MST=select hgnum_canned_code as cannedCode,gstr_canned_name as cannedName from hivt_canned_mst where gnum_isvalid=? and hgnum_canned_code NOT IN(select hgnum_canned_code from hivt_lab_canned_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?) order by gstr_canned_name
											
SELECT_LOCAL.LAB_MAPPED_COMBO.HIVT_LAB_CANNED_MST= Select LC.hgnum_canned_code as cannedCode, (Select gstr_canned_name from hivt_canned_mst where gnum_isvalid=1 and hgnum_canned_code=LC.hgnum_canned_code) as cannedName,UPPER(LC.gstr_user_canned_code) as userCannedCode from hivt_lab_canned_mst LC where LC.gnum_isvalid=? and LC.gnum_hospital_code=? and LC.gnum_lab_code=?  order by cannedName
	
SELECT_LOCAL.LOCAL_LABCANNED_NAME.HIVT_LABORATORY_MST=SELECT initcap(gstr_lab_name) AS localLaboratoryName FROM HIVT_LABORATORY_MST WHERE gnum_isvalid=1   and gnum_hospital_code=? and gnum_lab_code=?	
							
DELETE_LOCAL.LABCANNED.HIVT_LAB_CANNED_MST= UPDATE HIVT_LAB_CANNED_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE_LOCAL.LABCANNED.HIVT_LAB_CANNED_MST.COND.0 = gnum_isvalid=1 and hgnum_canned_code=? and gnum_hospital_code=? and gnum_lab_code=?  

 locallabcanned.main.0 = SELECT LC.hgnum_canned_code||'@'||LC.gnum_hospital_code||'@'||LC.gnum_lab_code||'^'||INITCAP(L.gstr_lab_name)||'^'||INITCAP(C.gstr_canned_name)||'^'||UPPER(LC.gstr_user_canned_code) AS DATA FROM HIVT_LAB_CANNED_MST LC, HIVT_CANNED_MST C, HIVT_LABORATORY_MST L WHERE LC.GNUM_ISVALID \= 1 and C.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND LC.gnum_hospital_code\=? and L.gnum_hospital_code\=LC.gnum_hospital_code and LC.hgnum_canned_code\=C.hgnum_canned_code and LC.gnum_lab_code\=L.gnum_lab_code

select_local.labcanned.view.2 = Select INITCAP(b.gstr_lab_name), INITCAP(c.gstr_canned_name),UPPER(a.gstr_user_canned_code) FROM HIVT_LAB_CANNED_MST a,hivt_laboratory_mst b,hivt_canned_mst c WHERE b.gnum_isvalid=a.gnum_isvalid and c.gnum_isvalid=a.gnum_isvalid  and c.hgnum_canned_code=a.hgnum_canned_code and b.gnum_lab_code=a.gnum_lab_code and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_isvalid=1 and a.hgnum_canned_code =? and  a.gnum_hospital_code=?  and a.gnum_lab_code=?		

CHECK_LOCALLY_MAPPED.Lab_canned_Local_Mst=select count(*)  from hivt_lab_canned_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?




UPDATE.HIVT_PARAMETER_MST=UPDATE HIVT_PARAMETER_MST SET HGSTR_PARAMETER=?, GSTR_REMARKS=?, GNUM_LSTMOD_SEATID=?, GDT_LSTMOD_DATE=SYSDATE WHERE gnum_isvalid=1 and HGNUM_PARAMETER_ID=?


CHECKDUPLICATE.HIVT_PARAMETER_MST=SELECT hgstr_parameter FROM HIVT_PARAMETER_MST WHERE  GNUM_ISVALID=?  and UPPER(hgstr_parameter)=UPPER(?) 


CHECKDUPLICITY_MODIFY.HIVT_PARAMETER_MST  =SELECT count(*) from HIVT_PARAMETER_MST where GNUM_ISVALID=? and UPPER(hgstr_parameter)=UPPER(?) and hgnum_parameter_id <> ? 									
									

DELETE.PARAMETER.HIVT_PARAMETER_MST= UPDATE HIVT_PARAMETER_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.PARAMETER.HIVT_PARAMETER_MST.COND.0 =  gnum_isvalid=1 and hgnum_parameter_id=?

 
 parameterMst.main.0 = SELECT hgnum_parameter_id||'^'||INITCAP(hgstr_parameter) AS DATA FROM HIVT_PARAMETER_MST WHERE GNUM_ISVALID \= ? \t

 select.parameter.view.2 = SELECT INITCAP(hgstr_parameter),INITCAP(NVL(gstr_remarks,' '))\tFROM HIVT_PARAMETER_MST WHERE gnum_isvalid\=1 and hgnum_parameter_id \= ?  \t
 	                              
	                              
	                               
	
INSERT.HIVT_MANDATORY_MST   =INSERT INTO HIVT_MANDATORY_MST(hgnum_mand_code, hgstr_mandatory_name, gnum_isvalid, gnum_seat_id, gdt_entry_date,hivnum_mandatory_type,  gstr_remarks) \
                            VALUES ((Select NVL(MAX(hgnum_mand_code),1000)+1 from hivt_mandatory_mst), ?, ?, ?, SYSDATE,?, ?)


SELECT.HIVT_MANDATORY_MST= SELECT  hgnum_mand_code as mandatoryCode, initcap(hgstr_mandatory_name) as mandatoryName, hivnum_mandatory_type as mandatoryType, INITCAP(gstr_remarks) as remarks   FROM HIVT_MANDATORY_MST WHERE  gnum_isvalid=1 and hgnum_mand_code=?					 


UPDATE.HIVT_MANDATORY_MST=UPDATE HIVT_MANDATORY_MST SET    hgstr_mandatory_name=? , gdt_lstmod_date=SYSDATE ,hivnum_mandatory_type=?, gstr_remarks=? , GNUM_LSTMOD_SEATID=? WHERE  gnum_isvalid=1 and hgnum_mand_code=?

                            
                            
CHECKDUPLICATE.HIVT_MANDATORY_MST=SELECT  hgstr_mandatory_name  FROM HIVT_MANDATORY_MST where GNUM_ISVALID=? and UPPER(hgstr_mandatory_name)=UPPER(?)  
										 
CHECKDUPLICITY_MODIFY.HIVT_MANDATORY_MST=SELECT count(*) from HIVT_MANDATORY_MST where   GNUM_ISVALID=? AND   UPPER(hgstr_mandatory_name)=UPPER(?)  and hgnum_mand_code <> ?


DELETE.MANDATORY.HIVT_MANDATORY_MST= UPDATE HIVT_MANDATORY_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.MANDATORY.HIVT_MANDATORY_MST.COND.0 = gnum_isvalid=1 and hgnum_mand_code=?

 
 mandatoryMst.main.0 = SELECT hgnum_mand_code||'^'||INITCAP(hgstr_mandatory_name) AS DATA FROM HIVT_MANDATORY_MST WHERE GNUM_ISVALID \= ?

 select.mandatory.view.2 = SELECT INITCAP(hgstr_mandatory_name),DECODE(hivnum_mandatory_type,1,'Text Box',2,'Combo'),INITCAP(NVL(gstr_remarks,' '))\tFROM HIVT_MANDATORY_MST WHERE gnum_isvalid\=1 and hgnum_mand_code \= ?  \t
 	                              
	                              
	                               
	
INSERT.HIVT_CONTAINER_MST   =INSERT INTO hivt_container_mst(gnum_uom_code,gnum_container_code, gstr_container_name, hgnum_container_volume, gnum_isvalid, gnum_seatid, gdt_entry_date,  gstr_remarks) \
                            VALUES (?,(Select NVL(MAX(gnum_container_code),10000)+1 from hivt_container_mst),?, ?, ?, ?,SYSDATE, ?)


SELECT.HIVT_CONTAINER_MST= SELECT  gnum_uom_code as uomCode, gnum_container_code as containerCode, INITCAP(gstr_container_name) as containerName, hgnum_container_volume as containerVolume, INITCAP(gstr_remarks) as remarks FROM HIVT_CONTAINER_MST WHERE  gnum_isvalid=1 and gnum_container_code=?					 


UPDATE.HIVT_CONTAINER_MST=UPDATE hivt_container_mst SET   gstr_container_name=? , hgnum_container_volume=?, gnum_uom_code=?,  gdt_lstmod_date=SYSDATE , gstr_remarks=? ,GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and gnum_container_code=?

           
                            
CHECKDUPLICATE.HIVT_CONTAINER_MST=SELECT  gstr_container_name  FROM HIVT_CONTAINER_MST where GNUM_ISVALID=? and UPPER(gstr_container_name)=UPPER(?) 
										 
CHECKDUPLICITY_MODIFY.HIVT_CONTAINER_MST=SELECT count(*) from HIVT_CONTAINER_MST where   GNUM_ISVALID=? AND  UPPER(gstr_container_name)=UPPER(?) and gnum_container_code <> ? 

SELECT.UOM_COMBO.HIVT_CONTAINER_MST=select gnum_uom_code as uomCode,INITCAP(gstr_uom) as uomName from HIVT_UOM_MST where  gnum_isvalid=1 order by gstr_uom

 

 
 
INSERT.HIVT_TEST_PARAMETER_MST=INSERT INTO hivt_test_parameter_mst(gnum_test_code, gstr_element_type, gnum_parameter_code, gnum_arrange_as,  \
                              gnum_isvalid, gdt_entry_date, gnum_seatid, gnum_parent_id,  \
                           gstr_remarks, gnum_criteria_code, gstr_function_name, \
                         hivtnum_objevent, hivtnum_event_func, hivstr_element_property, \
                             hivnum_paraname_displayaslabel, hivtstr_label_align, hivtstr_element_align,hivt_num_element_sequence, gnum_isprintable, hivtstr_query, hivtstr_button_name,hivtstr_call_url,gstr_loinc_scale, hivtstr_default_value,hivstr_hyper_name,hivstr_paratype) \
                              VALUES (?, ?, ?, ?,?,SYSDATE, ?, ?, ?, ?, ?,?, ?, ?,?, ?, ?,?, ?, ?, ?,?,?,?,?,?)
                                
 							 
SELECT.HIVT_TEST_PARAMETER_MST=SELECT  gnum_test_code as testCode, gstr_element_type as elementType ,gnum_parameter_code as parameterCode, gnum_arrange_as as arrangeAs,gdt_entry_date ,gnum_parent_id as parentParameterId, INITCAP(gstr_remarks) as remarks,gnum_criteria_code as criteriaDesk,gstr_function_name as functionName, hivtnum_objevent as event,hivtnum_event_func as eventFunction, hivstr_element_property as elementProperty,hivnum_paraname_displayaslabel as showParameterNameasLabel, hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlign,hivt_num_element_sequence as elementPosition, gnum_isprintable as isPrintRequired,hivtstr_query as query,hivtstr_button_name as buttonName,hivtstr_call_url as urlCode,gstr_loinc_scale as loincScale ,hivtstr_default_value as textEditorValue,hivstr_hyper_name as hyperName  FROM hivt_test_parameter_mst WHERE GNUM_ISVALID\=?\tAND gnum_test_code\=? AND gnum_parameter_code\=? 
     
SELECT.HIVT_REQFORM_TEST_PARAMETER_MST=SELECT  gnum_test_code as testCode, gstr_element_type as elementType ,gnum_parameter_code as parameterCode, gnum_arrange_as as arrangeAs,gdt_entry_date ,gnum_parent_id as parentParameterId, INITCAP(gstr_remarks) as remarks,gnum_criteria_code as criteriaDesk,gstr_function_name as functionName, hivtnum_objevent as event,hivtnum_event_func as eventFunction, hivstr_element_property as elementProperty,hivnum_paraname_displayaslabel as showParameterNameasLabel, hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlign,hivt_num_element_sequence as elementPosition, gnum_isprintable as isPrintRequired,hivtstr_query as query,hivtstr_button_name as buttonName,hivtstr_call_url as urlCode,gstr_loinc_scale as loincScale ,hivtstr_default_value as textEditorValue,hivstr_hyper_name as hyperName  FROM hivt_reqform_test_parameter_mst WHERE GNUM_ISVALID\=?\tAND gnum_test_code\=? AND gnum_parameter_code\=? 
 
 SELECT.HIVT_DEPT_TEST_PARAMETER_MST=SELECT  gnum_test_code as testCode, gstr_element_type as elementType ,gnum_parameter_code as parameterCode, gnum_arrange_as as arrangeAs,gdt_entry_date ,gnum_parent_id as parentParameterId, INITCAP(gstr_remarks) as remarks,gnum_criteria_code as criteriaDesk,gstr_function_name as functionName, hivtnum_objevent as event,hivtnum_event_func as eventFunction, hivstr_element_property as elementProperty,hivnum_paraname_displayaslabel as showParameterNameasLabel, hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlign,hivt_num_element_sequence as elementPosition, gnum_isprintable as isPrintRequired,hivtstr_query as query,hivtstr_button_name as buttonName,hivtstr_call_url as urlCode,gstr_loinc_scale as loincScale ,hivtstr_default_value as textEditorValue,hivstr_hyper_name as hyperName  FROM hivt_depttest_parameter_mst WHERE GNUM_ISVALID\=?\tAND gnum_test_code\=? AND gnum_parameter_code\=?                   
 
 UPDATE.HIVT_TEST_PARAMETER_MST=UPDATE hivt_test_parameter_mst  SET  gstr_element_type\=?,   gnum_arrange_as\=?,  gnum_parent_id\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?,gnum_isvalid\=?, gstr_remarks\=?, gnum_criteria_code\=?, gstr_function_name\=?, hivtnum_objevent\=?, hivtnum_event_func\=?, hivstr_element_property\=?, hivnum_paraname_displayaslabel\=?, hivtstr_label_align\=?, hivtstr_element_align\=?, hivt_num_element_sequence\=?, gnum_isprintable\=?, hivtstr_query\=?, hivtstr_button_name\=?, hivtstr_call_url\=?,gstr_loinc_scale\=?, hivtstr_default_value\=?,hivstr_hyper_name\=? WHERE gnum_test_code\=? AND  gnum_parameter_code\=?
                   
                            
 
 
CHECKDUPLICATE.HIVT_TEST_PARAMETER_MST=SELECT  gnum_test_code ,gnum_parameter_code FROM hivt_test_parameter_mst where gnum_isvalid=1 AND gnum_test_code=? AND gnum_parameter_code=?  
 
DELETE.CONTAINER.HIVT_CONTAINER_MST= UPDATE HIVT_CONTAINER_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?
 

 
   
 						 				
										 
 
 

SELECT.TEST_PARAMETER_COMBO.HIVT_TEST_PARAMETER_MST=SELECT gnum_test_code as testCode, gstr_test_name  as testName FROM  hivt_test_mst WHERE  GNUM_ISVALID=1 order by gstr_test_name    

SELECT.PARAMETER_COMBO.HIVT_TEST_PARAMETER_MST=SELECT hgnum_parameter_id as parameterCode,(hgstr_parameter) as parameterName FROM  HIVT_PARAMETER_MST WHERE GNUM_ISVALID=1   order by hgstr_parameter

SELECT.CRITERIA_COMBO.HIVT_REF_CRITERIA_MST =SELECT gnum_criteria_code as criteriaCode,INITCAP(gstr_criteria_desc) as criteriaDesk FROM hivt_ref_criteria_mst   WHERE gnum_is_valid=1 

SELECT.ELEMENT_TYPE_COMBO.HIVT_TESTPARA_ELEMENTTYPE_MST=select gstr_value_obj_id as elementCode, gstr_value_obj as elementType from hivt_testpara_elementtype_mst where gnum_is_valid=1
 
DELETE.CONTAINER.HIVT_CONTAINER_MST.COND.0 =  gnum_isvalid=1 and gnum_container_code=? 
 

 
DELETE.TestParameter.hivt_test_parameter_mst= UPDATE hivt_test_parameter_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?
 

DELETE.TestParameter.hivt_reqform_test_parameter_mst= UPDATE hivt_reqform_test_parameter_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?


DELETE.TestParameter.hivt_depttest_parameter_mst= UPDATE hivt_depttest_parameter_mst SET  gnum_isvalid='0',gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ?
 
 containerMst.main.0 = SELECT gnum_container_code||'^'||INITCAP(gstr_container_name)||'^'||hgnum_container_volume||'^'||(Select INITCAP(gstr_uom) from HIVT_UOM_MST where GNUM_UOM_CODE =a.GNUM_UOM_CODE) AS DATA FROM HIVT_CONTAINER_MST A WHERE A.GNUM_ISVALID = ?
 

 
DELETE.TestParameter.hivt_test_parameter_mst.COND.0 =gnum_isvalid=1 AND gnum_test_code=? And gnum_parameter_code=? and hivstr_paratype=?

DELETE.TestParameter.hivt_reqform_test_parameter_mst.COND.0 =gnum_isvalid=1 AND gnum_test_code=? And gnum_parameter_code=? and hivstr_paratype=?


 select.container.view.2 = SELECT INITCAP(gstr_container_name),hgnum_container_volume, (Select INITCAP(gstr_uom) from HIVT_UOM_MST where gnum_isvalid\=1 and GNUM_UOM_CODE \=a.GNUM_UOM_CODE), INITCAP(NVL(gstr_remarks,''))\tFROM HIVT_CONTAINER_MST A  WHERE gnum_isvalid\=1 and  gnum_container_code \= ?  
  

TestParameter.main.0=SELECT  y.gnum_test_code||'@'||y.gnum_parameter_code||'@'||y.hivstr_paratype||'^'||  x.gstr_test_name  ||'^'||(z.hgstr_parameter) AS DATA FROM hivt_test_parameter_mst y,hivt_test_mst x,hivt_parameter_mst z   WHERE y.GNUM_ISVALID =?  AND  x.gnum_isvalid=1 and z.gnum_isvalid=1 and x.gnum_test_code=y.gnum_test_code  AND z.hgnum_parameter_id=y.gnum_parameter_code  

TestTypeWise.main.0=SELECT  y.gnum_test_code||'@'||y.gnum_parameter_code||'@'||y.hivstr_paratype||'^'||  x.gstr_test_name  ||'^'||(z.hgstr_parameter) AS DATA FROM hivt_reqform_test_parameter_mst y,hivt_test_mst x,hivt_parameter_mst z   WHERE y.GNUM_ISVALID =?  AND  x.gnum_isvalid=y.GNUM_ISVALID and z.gnum_isvalid=y.gnum_isvalid and x.gnum_test_code=y.gnum_test_code  AND z.hgnum_parameter_id=y.gnum_parameter_code  

DEPT_TypeWise.main.0=SELECT  y.gnum_test_code||'@'||y.gnum_parameter_code||'@'||y.hivstr_paratype||'^'||  x.gstr_test_name  ||'^'||(z.hgstr_parameter) AS DATA FROM hivt_depttest_parameter_mst y,hivt_test_mst x,hivt_parameter_mst z   WHERE y.GNUM_ISVALID =?  AND  x.gnum_isvalid=y.GNUM_ISVALID and z.gnum_isvalid=y.gnum_isvalid and x.gnum_test_code=y.gnum_test_code  AND z.hgnum_parameter_id=y.gnum_parameter_code  

select.reqform.test_parameter.view.2=SELECT INITCAP((select x.gstr_test_name from hivt_test_mst x where x.gnum_test_code=y.gnum_test_code and x.GNUM_ISVALID = 1)),INITCAP((select x.hgstr_parameter from hivt_parameter_mst x where x.hgnum_parameter_id=y.gnum_parameter_code and x.GNUM_ISVALID = 1))   FROM hivt_reqform_test_parameter_mst y WHERE gnum_isvalid=1 and gnum_test_code=? AND gnum_parameter_code=? and hivstr_paratype=?
 

select.DEPTWISE.test_parameter.view.2=SELECT INITCAP((select x.gstr_test_name from hivt_test_mst x where x.gnum_test_code=y.gnum_test_code and x.GNUM_ISVALID = 1)),INITCAP((select x.hgstr_parameter from hivt_parameter_mst x where x.hgnum_parameter_id=y.gnum_parameter_code and x.GNUM_ISVALID = 1))   FROM hivt_depttest_parameter_mst y WHERE gnum_isvalid=1 and gnum_test_code=? AND gnum_parameter_code=? and hivstr_paratype=?
 
select.test_parameter.view.2=SELECT INITCAP((select x.gstr_test_name from hivt_test_mst x where x.gnum_test_code=y.gnum_test_code and x.GNUM_ISVALID = 1)),INITCAP((select x.hgstr_parameter from hivt_parameter_mst x where x.hgnum_parameter_id=y.gnum_parameter_code and x.GNUM_ISVALID = 1))   FROM hivt_test_parameter_mst y WHERE gnum_isvalid=1 and gnum_test_code=? AND gnum_parameter_code=? and hivstr_paratype=?

SELECT_SET_PARAMETER.HIVT_TEST_PARAMETER_MST=SELECT a.hgnum_parameter_id as parameterId,INITCAP(a.hgstr_parameter) as parameterName FROM  HIVT_PARAMETER_MST a WHERE GNUM_ISVALID\=1   order by hgstr_parameter
                                                   
                                                   
                                                   
  /***  AND NOT EXISTS(select 1  from hivt_test_parameter_mst where gnum_parameter_code=a.hgnum_parameter_id AND gnum_test_code=? )*/



SELECT_CHECKTESTPARAMETERCODE.HIVT_TEST_PARAMETER_MST=SELECT gnum_test_code as tmpTestCode,  gnum_parameter_code paraCode  FROM hivt_test_parameter_mst  
 	                              
	                              
	                               
	
#INSERT.HIVT_COLLECTION_AREA_MST   =INSERT INTO hivt_collection_area_mst(gnum_location_code,gnum_area_code,hipnum_ward_code,gnum_hospital_code,gstr_area_name, gnum_collectionarea_type, gnum_isvalid, gnum_seatid, gdt_entry_date,  gstr_remarks) VALUES (?,(Select NVL(MAX(gnum_area_code),100)+1 from hivt_collection_area_mst where gnum_hospital_code\=?),?,?,?, ?, ?, ?,SYSDATE, ?)
#updated by prashant	
INSERT.HIVT_COLLECTION_AREA_MST   =INSERT INTO hivt_collection_area_mst(gnum_location_code,gnum_area_code,hipnum_ward_code,gnum_hospital_code,gstr_area_name, gnum_collectionarea_type, gnum_isvalid, gnum_seatid, gdt_entry_date,  gstr_remarks,hgnum_pat_test_type) VALUES (?,(Select NVL(MAX(gnum_area_code),100)+1 from hivt_collection_area_mst where gnum_hospital_code\=?),?,?,?, ?, ?, ?,SYSDATE, ?,?)


#SELECT.HIVT_COLLECTION_AREA_MST= SELECT  gnum_location_code as locationCode, gnum_area_code as collectionareaCode, INITCAP(gstr_area_name) as collectionareaName, gnum_collectionarea_type as collectionareaType, INITCAP(gstr_remarks) as remarks, hipnum_ward_code as wardCode FROM HIVT_COLLECTION_AREA_MST WHERE gnum_isvalid=1 and  gnum_area_code=? and gnum_hospital_code=? 					 
#updated by prashant
SELECT.HIVT_COLLECTION_AREA_MST= SELECT  gnum_location_code as locationCode, gnum_area_code as collectionareaCode, INITCAP(gstr_area_name) as collectionareaName, gnum_collectionarea_type as collectionareaType, INITCAP(gstr_remarks) as remarks, hipnum_ward_code as wardCode, hgnum_pat_test_type as sopbased FROM HIVT_COLLECTION_AREA_MST WHERE gnum_isvalid=1 and  gnum_area_code=? and gnum_hospital_code=? 					 


#UPDATE.HIVT_COLLECTION_AREA_MST=UPDATE hivt_collection_area_mst SET   gstr_area_name=?,gnum_collectionarea_type=?, gnum_location_code=?,  gdt_lstmod_date=SYSDATE , gstr_remarks=?, hipnum_ward_code=? , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and gnum_area_code=? AND  gnum_hospital_code=?
#updated by prashant
UPDATE.HIVT_COLLECTION_AREA_MST=UPDATE hivt_collection_area_mst SET   gstr_area_name=?,gnum_collectionarea_type=?, gnum_location_code=?,  gdt_lstmod_date=SYSDATE , gstr_remarks=?, hipnum_ward_code=? , GNUM_LSTMOD_SEATID = ? , hgnum_pat_test_type = ? WHERE  gnum_isvalid=1 and gnum_area_code=? AND  gnum_hospital_code=?

           
                            
CHECKDUPLICATE.HIVT_COLLECTION_AREA_MST=SELECT  gstr_area_name  FROM HIVT_COLLECTION_AREA_MST where GNUM_ISVALID=? AND UPPER(gstr_area_name)=UPPER(?) and gnum_hospital_code = ?
										 
CHECKDUPLICITY_MODIFY.HIVT_COLLECTION_AREA_MST=SELECT count(*) from HIVT_COLLECTION_AREA_MST where   GNUM_ISVALID=? AND  UPPER(gstr_area_name)=UPPER(?) AND gnum_area_code <> ? AND  gnum_hospital_code = ?

SELECT.LOCATION_COMBO.HIVT_COLLECTION_AREA_MST=select hgnum_location_code as locationCode,INITCAP(hgstr_description) as locationName from hgbt_location_mst where gnum_isvalid=1 and gnum_hospital_code=? order by INITCAP(hgstr_description)  

SELECT.WARD_COMBO.HIVT_COLLECTION_AREA_MST=select hipnum_ward_code as wardCode,INITCAP(hipstr_ward_name) as wardName from hipt_ward_mst where gnum_isvalid=1 and gnum_hospital_code=? and hipnum_ward_code not in (select hipnum_ward_code from hivt_collection_area_mst where gnum_collectionarea_type=2 and gnum_isvalid=1 and gnum_hospital_code=?) order by INITCAP(hipstr_ward_name)

											
DELETE.COLLECTIONAREA.HIVT_COLLECTION_AREA_MST= UPDATE HIVT_COLLECTION_AREA_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.COLLECTIONAREA.HIVT_COLLECTION_AREA_MST.COND.0 = gnum_isvalid=1 and gnum_area_code=? and gnum_hospital_code=? 

 collectionareaMst.main.0 = SELECT gnum_area_code||'@'||A.gnum_hospital_code||'^'||INITCAP(gstr_area_name)||'^'||INITCAP(hgstr_description) AS DATA FROM HIVT_COLLECTION_AREA_MST A, hgbt_location_mst B WHERE A.GNUM_ISVALID \= ? and b.gnum_isvalid\=1 AND b.gnum_hospital_code\=a.gnum_hospital_code AND a.gnum_hospital_code\=? and A.GNUM_LOCATION_CODE\=B.HGNUM_LOCATION_CODE

select.collectionarea.view.2 = SELECT INITCAP(gstr_area_name), ( Select INITCAP(hgstr_description) from hgbt_location_mst where gnum_isvalid=1 and gnum_hospital_code =a.gnum_hospital_code and hgnum_location_code=a.gnum_location_code), DECODE(gnum_collectionarea_type,1,'General',2,'Ward') ,NVL((Select INITCAP(hipstr_ward_name) from hipt_ward_mst where gnum_isvalid=1 and gnum_hospital_code =a.gnum_hospital_code and hipnum_ward_code=A.hipnum_ward_code),'') FROM HIVT_COLLECTION_AREA_MST A WHERE gnum_isvalid=1 and gnum_area_code =? and A.gnum_hospital_code=?	
DELETE.Lab_Test_Sample_Global_Mst.COND=gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?	

LabTestSampleGlobalMst_Local.Main=select a.gnum_lab_code||'@'||a.gnum_test_code||'@'||a.gnum_sample_code||'@'||a.gnum_hospital_code||'^'|| INITCAP(b.gstr_lab_name)||'^'|| c.gstr_test_name ||'^'||INITCAP(d.gstr_sample_name) as DATA from hivt_labtest_sample_mst a,hivt_laboratory_mst b,hivt_test_mst c,hivt_sample_mst d where b.gnum_isvalid\=a.gnum_isvalid and c.gnum_isvalid\=a.gnum_isvalid and d.gnum_isvalid\=a.gnum_isvalid and b.gnum_lab_code\=a.gnum_lab_code and c.gnum_test_code\=a.gnum_test_code and d.gnum_sample_code\=a.gnum_sample_code and b.gnum_hospital_code\=a.gnum_hospital_code and a.gnum_isvalid\=? and a.gnum_hospital_code\=? 

VIEW.Lab_Test_Sample_Local_Mst=select (select gstr_lab_name from hivt_laboratory_mst where gnum_lab_code\=a.gnum_lab_code and gnum_isvalid\=1 and gnum_hospital_code\=a.gnum_hospital_code) as labName,(select gstr_test_name from hivt_test_mst where gnum_isvalid\=1 and gnum_test_code\=a.gnum_test_code ) as testName,(select gstr_sample_name from hivt_sample_mst where gnum_isvalid\=1 and gnum_sample_code\=a.gnum_sample_code  ) as sampleName,gnum_sample_qty as sampleQty,(select gstr_uom from hivt_uom_mst where gnum_isvalid\=1 and gnum_uom_code\=a.gnum_uom_code  ) as uomName,(select gstr_container_name from hivt_container_mst where gnum_isvalid\=1 and gnum_container_code\=a.gnum_container_code ) as containerName,DECODE(gnum_is_default_sample,'1','Yes','0','No') as isDefaultSample from hivt_labtest_sample_mst a where gnum_isvalid\=1  and gnum_lab_code\=? and gnum_test_code\=? and gnum_sample_code\=? and gnum_hospital_code\=?  
						
Check_Is_Sample_Default=select count(gnum_is_default_sample) as count from hivt_labtest_sample_mst where gnum_isvalid=? and  gnum_lab_code=? and gnum_test_code=? and gnum_hospital_code=? and gnum_is_default_sample=? 	

Check_Is_Sample_Default_Specific=select count(gnum_is_default_sample) as countSpecific from hivt_labtest_sample_mst where gnum_isvalid=? and  gnum_lab_code=? and gnum_test_code=? and gnum_hospital_code=? and gnum_sample_code=? and gnum_is_default_sample=? 	

TestMandatoryMst.Main=SELECT  a.hgnum_mand_code||'@'||a.gnum_hospital_code||'@'||a.gnum_test_code||'^'|| b.gstr_test_name ||'^'||INITCAP(c.hgstr_mandatory_name) AS DATA  FROM HIVT_TEST_MANDATORY_MST a, HIVT_TEST_MST b, HIVT_MANDATORY_MST c WHERE a.GNUM_ISVALID \= ? and b.gnum_isvalid\=1 AND c.gnum_isvalid\=1 AND a.gnum_hospital_code\=? and b.gnum_test_code\=a.gnum_test_code and c.hgnum_mand_code\=a.hgnum_mand_code 

DELETE.Test_Mandatory_Global_Mst=UPDATE hivt_test_mandatory_mst SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, gnum_LSTMOD_SEATID = ?

DELETE.Test_Mandatory_Global_Mst.Cond= gnum_isvalid=1 and hgnum_mand_code=? and gnum_hospital_code=? and gnum_test_code=?	

SELECT.TEST_NAME.Hivt_Test_Mst=select distinct a.gnum_test_code as testCode,(select gstr_test_name from hivt_test_mst b where b.gnum_isvalid=? and b.gnum_test_code=a.gnum_test_code) as testName from hivt_laboratory_test_mst a where a.gnum_isvalid=? and a.gnum_hospital_code=?	order by testName

VIEW.Test_Mandatory_Global_Mst=Select (SELECT   gstr_test_name  from hivt_test_mst where gnum_test_code=a.gnum_test_code), ( Select INITCAP(hgstr_mandatory_name) from HIVT_MANDATORY_MST where gnum_isvalid=1 and hgnum_mand_code=a.hgnum_mand_code ) FROM HIVT_TEST_MANDATORY_MST a WHERE gnum_isvalid=1 and hgnum_mand_code=? and gnum_hospital_code=? and gnum_test_code =? 	

SELECT.MANDATORY_COMBO.Test_Mandatory_Global_Mst=SELECT hgnum_mand_code,INITCAP(hgstr_mandatory_name) FROM HIVT_MANDATORY_MST WHERE GNUM_ISVALID=1 AND hgnum_mand_code NOT IN (SELECT hgnum_mand_code from hivt_test_mandatory_mst where gnum_isvalid=1 and  gnum_test_code=? and gnum_hospital_code=?) order by hgstr_mandatory_name

SELECT.MANDATORY_COMBO_SELECTED.Test_Mandatory_Global_Mst=select b.hgnum_mand_code as mandCode,INITCAP(b.hgstr_mandatory_name) as mandatoryName from hivt_test_mandatory_mst a, hivt_mandatory_mst b where a.gnum_isvalid=1 and b.gnum_isvalid=1 and b.hgnum_mand_code=a.hgnum_mand_code and a.gnum_test_code=? and a.gnum_hospital_code=? order by mandatoryName		
 
Check_Locally_Mapped.Test_Mandatory_Global_Mst=select count(*)  from hivt_test_mandatory_mst where gnum_isvalid=? and gnum_test_code=? and gnum_hospital_code=?
 
 UPDATE_VALID.HIVT_Test_Mandatory_MST=UPDATE hivt_test_mandatory_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE ,  GNUM_LSTMOD_SEATID = ? WHERE hgnum_mand_code=? AND  gnum_hospital_code=? and gnum_test_code=?
 
CHECK_PRIMARY_KEY.Hivt_Test_Mandatory_Global_Mst=SELECT  count(*)  FROM HIVT_TEST_MANDATORY_MST where hgnum_mand_code=? and gnum_hospital_code=? and gnum_test_code=?
 	                              
	                              
	                               
	
INSERT.Hivt_Test_Mandatory_Global_Mst=INSERT INTO hivt_test_mandatory_mst(hgnum_mand_code,gnum_hospital_code,gnum_test_code,gnum_isvalid, gnum_seatid, gdt_entry_date)   VALUES (?,?,?,?, ?,SYSDATE)
	
UPDATE.VALID.Hivt_test_Mandatory_Global_Mst=UPDATE hivt_test_mandatory_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE , GDT_LSTMOD_SEATID = ? WHERE hgnum_mand_code=? AND  gnum_hospital_code=? and gnum_test_code=?
	
DELETE.VALID.Hivt_test_Mandatory_Global_Mst=UPDATE hivt_test_mandatory_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_mand_code=? AND  gnum_hospital_code=? and gnum_test_code=?
INSERT.HIVT_TEST_SAMPLE_MST   =INSERT INTO hivt_test_sample_mst(gnum_test_code, gnum_sample_code, gnum_uom_code, gnum_container_code, gnum_sample_qty, gnum_is_default_sample, gnum_isvalid, gnum_seatid, gdt_entry_date) \
                            VALUES (?,?,?,?,?,?,?,?,SYSDATE)

UPDATE_INSERT.HIVT_TEST_SAMPLE_MST= update hivt_test_sample_mst set gnum_sample_qty=?,gnum_container_code=?,gnum_uom_code=?,gnum_is_default_sample=?,gnum_isvalid=? where gnum_isvalid=? and gnum_test_code=? and gnum_sample_code=?

SELECT.HIVT_TEST_SAMPLE_MST= SELECT  TS.gnum_test_code as testCode, T.gstr_test_name  as testName,TS.gnum_sample_code as sampleCode,TS.gnum_sample_qty as sampleQuantity,TS.gnum_uom_code as uomCode,TS.gnum_container_code as containerCode,TS.gnum_is_default_sample as defaultSample FROM HIVT_TEST_SAMPLE_MST TS, HIVT_TEST_MST T WHERE  TS.gnum_isvalid=1 and T.gnum_isvalid=1 and TS.gnum_test_code=? and TS.gnum_sample_code=? and TS.gnum_test_code=T.gnum_test_code		 

SELECT.GETTESTNAME.HIVT_TEST_SAMPLE_MST= SELECT   gstr_test_name  as testName FROM HIVT_TEST_MST  WHERE  gnum_isvalid=1 and gnum_test_code=? 


UPDATE.HIVT_TEST_SAMPLE_MST=UPDATE HIVT_TEST_SAMPLE_MST  SET  gnum_sample_qty=?, gnum_uom_code=?, gnum_container_code=?, gnum_is_default_sample=?, gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and gnum_test_code=? and gnum_sample_code=?
                            
CHECKDUPLICATE.HIVT_TEST_SAMPLE_MST=SELECT  gnum_test_code, gnum_sample_code  FROM HIVT_TEST_SAMPLE_MST where gnum_test_code=? AND gnum_sample_code=?
										 

SELECT.TEST_COMBO.HIVT_TEST_SAMPLE_MST=select gnum_test_code as testCode, gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 order by gstr_test_name

SELECT.SAMPLE_COMBO.HIVT_TEST_SAMPLE_MST=SELECT distinct(GNUM_SAMPLE_CODE),(select INITCAP(GSTR_SAMPLE_NAME) FROM HIVT_SAMPLE_MST WHERE GNUM_ISVALID=1 AND GNUM_SAMPLE_CODE=ls.GNUM_SAMPLE_CODE) as a from hivt_labtest_sample_mst ls where gnum_isvalid=1 and gnum_test_code=? order by a

SELECT.UOM_COMBO.HIVT_TEST_SAMPLE_MST=select gnum_uom_code as uomCode,INITCAP(gstr_uom) as uomName from HIVT_UOM_MST where gnum_isvalid=1 order by gstr_uom

SELECT.CONTAINER_COMBO.HIVT_TEST_SAMPLE_MST=select gnum_container_code as containerCode,INITCAP(gstr_container_name) as containerName from hivt_container_mst where gnum_isvalid=1


DELETE.TESTSAMPLE.HIVT_TEST_SAMPLE_MST= UPDATE HIVT_TEST_SAMPLE_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TESTSAMPLE.HIVT_TEST_SAMPLE_MST.COND.0 = gnum_isvalid=1 and  gnum_test_code=? and gnum_sample_code=?

 testsampleMst.main.0 = SELECT TS.gnum_test_code||'@'||TS.gnum_sample_code||'^'|| T.gstr_test_name||'^'||INITCAP(S.gstr_sample_name)||'^'||DECODE(gnum_is_default_sample,0,'No',1,'Yes') AS DATA FROM HIVT_TEST_SAMPLE_MST TS, HIVT_TEST_MST T ,HIVT_SAMPLE_MST S, HIVT_UOM_MST U, HIVT_CONTAINER_MST C WHERE TS.GNUM_ISVALID \= ? AND T.gnum_isvalid\=1 and S.gnum_isvalid\=1 and U.gnum_isvalid\=1 and C.gnum_isvalid\=1 and TS.GNUM_TEST_CODE\=T.GNUM_TEST_CODE AND TS.GNUM_SAMPLE_CODE\=S.GNUM_SAMPLE_CODE AND TS.GNUM_UOM_CODE\=U.GNUM_UOM_CODE AND TS.GNUM_CONTAINER_CODE\=C.GNUM_CONTAINER_CODE
 testsampleMst.cond.0= TS.gnum_test_code=?

 select.testsample.view.2 = SELECT  T.gstr_test_name ,INITCAP(S.gstr_sample_name), gnum_sample_qty, INITCAP(U.gstr_uom),INITCAP(C.gstr_container_name),DECODE(gnum_is_default_sample,0,'No',1,'Yes')\tFROM HIVT_TEST_SAMPLE_MST TS, HIVT_TEST_MST T ,HIVT_SAMPLE_MST S, HIVT_UOM_MST U, HIVT_CONTAINER_MST C WHERE TS.gnum_test_code\=? and TS.gnum_sample_code\=? AND TS.GNUM_TEST_CODE\=T.GNUM_TEST_CODE AND TS.GNUM_SAMPLE_CODE\=S.GNUM_SAMPLE_CODE AND TS.GNUM_UOM_CODE\=U.GNUM_UOM_CODE AND TS.GNUM_CONTAINER_CODE\=C.GNUM_CONTAINER_CODE
 	                              
	                              

#INSERT.HIVT_TEST_PARAM_COMBO_MST   =INSERT INTO HIVT_TEST_PARAM_COMBO_MST(gnum_test_code, gnum_parameter_code, hgnum_seq_id, hgstr_value,  gnum_is_valid, gnum_seat_id, hgdt_entry_date) VALUES (?,?,(Select NVL(MAX(hgnum_seq_id),0)+1 from HIVT_TEST_PARAM_COMBO_MST where gnum_test_code\=? and gnum_parameter_code\=?), ?, ?,?, SYSDATE)
#changed by prashant
INSERT.HIVT_TEST_PARAM_COMBO_MST   =INSERT INTO HIVT_TEST_PARAM_COMBO_MST(gnum_test_code, gnum_parameter_code, hgnum_seq_id, hgstr_value,  gnum_is_valid, gnum_seat_id, hgdt_entry_date, gnum_isdefault) VALUES (?,?,(Select NVL(MAX(hgnum_seq_id),0)+1 from HIVT_TEST_PARAM_COMBO_MST where gnum_test_code\=? and gnum_parameter_code\=?), ?, ?,?, SYSDATE,?)


#SELECT.HIVT_TEST_PARAM_COMBO_MST= SELECT  gnum_test_code as testCode,gnum_parameter_code as parameterCode, INITCAP(hgstr_value) as testparaValue, hgnum_seq_id as testparaSeq FROM HIVT_TEST_PARAM_COMBO_MST WHERE gnum_is_valid=1 and  gnum_test_code=? and gnum_parameter_code=? and hgnum_seq_id=? 
#changed by prashant
SELECT.HIVT_TEST_PARAM_COMBO_MST= SELECT  gnum_test_code as testCode,gnum_parameter_code as parameterCode, INITCAP(hgstr_value) as testparaValue, hgnum_seq_id as testparaSeq, gnum_isdefault as setdefault FROM HIVT_TEST_PARAM_COMBO_MST WHERE gnum_is_valid=1 and  gnum_test_code=? and gnum_parameter_code=? and hgnum_seq_id=? 


#SELECT_DISPLAYDATA.HIVT_TEST_PARAM_COMBO_MST= SELECT  INITCAP(hgstr_value) as testparaValue FROM HIVT_TEST_PARAM_COMBO_MST  WHERE   gnum_is_valid=1 and gnum_test_code=? and gnum_parameter_code=?
#changed by prashant
SELECT_DISPLAYDATA.HIVT_TEST_PARAM_COMBO_MST= SELECT  INITCAP(hgstr_value) as testparaValue, nvl(gnum_isdefault,'0')setdefault FROM HIVT_TEST_PARAM_COMBO_MST  WHERE   gnum_is_valid=1 and gnum_test_code=? and gnum_parameter_code=?


#UPDATE.HIVT_TEST_PARAM_COMBO_MST= UPDATE HIVT_TEST_PARAM_COMBO_MST SET  hgstr_value=? , gdt_lstmod_date=SYSDATE,GNUM_LSTMOD_SEATID = ?   WHERE gnum_is_valid=1 and  hgnum_seq_id=? and gnum_test_code=? and gnum_parameter_code=?
#updated by prashant
UPDATE.HIVT_TEST_PARAM_COMBO_MST= UPDATE HIVT_TEST_PARAM_COMBO_MST SET  hgstr_value=? , gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ?, gnum_isdefault=?  WHERE gnum_is_valid=1 and  hgnum_seq_id=? and gnum_test_code=? and gnum_parameter_code=?
             
#by prashant
REMOVE_DEFAULT.HIVT_TEST_PARAM_COMBO_MST= UPDATE HIVT_TEST_PARAM_COMBO_MST SET  gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ?, gnum_isdefault='0'  WHERE gnum_test_code=? and gnum_parameter_code=?

                            
CHECKDUPLICATE.HIVT_TEST_PARAM_COMBO_MST=SELECT  hgstr_value  FROM HIVT_TEST_PARAM_COMBO_MST where GNUM_IS_VALID=? and gnum_test_code=? and gnum_parameter_code=? and UPPER(hgstr_value)=UPPER(?) 
										 
CHECKDUPLICITY_MODIFY.HIVT_TEST_PARAM_COMBO_MST=SELECT count(*) from HIVT_TEST_PARAM_COMBO_MST where GNUM_IS_VALID=? AND gnum_test_code=? and gnum_parameter_code=? and UPPER(hgstr_value)=UPPER(?) and hgnum_seq_id <> ?  

SELECT.TEST_COMBO.HIVT_TEST_PARAM_COMBO_MST=select gnum_test_code as testCode, gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 order by gstr_test_name

SELECT.TESTPARA_COMBO.HIVT_TEST_PARAM_COMBO_MST=Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from HIVT_TEST_PARAMETER_MST A where gnum_isvalid=1 and GSTR_ELEMENT_TYPE='D' 
                                            


SELECT.PARAMETER_COMBO_TEST.HIVT_TEST_PARAM_COMBO_MST= Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from HIVT_TEST_PARAMETER_MST A where gnum_isvalid=1 and gnum_test_code=? and GSTR_ELEMENT_TYPE in ('D','Z','P')


SELECT.REQUISITION_FORM_PARAMETER_COMBO_TEST.HIVT_TEST_PARAM_COMBO_MST= Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from hivt_reqform_test_parameter_mst A where gnum_isvalid=1 and gnum_test_code=? and GSTR_ELEMENT_TYPE in ('D','Z','P')

SELECT.DEPARTMENT_PARAMETER_COMBO_TEST.HIVT_TEST_PARAM_COMBO_MST= Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from hivt_depttest_parameter_mst A where gnum_isvalid=1 and gnum_test_code=? and GSTR_ELEMENT_TYPE in ('D','Z','P')

                                        
DELETE.TESTPARACOMBO.HIVT_TEST_PARAM_COMBO_MST= UPDATE HIVT_TEST_PARAM_COMBO_MST SET  GNUM_IS_VALID='0', GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TESTPARACOMBO.HIVT_TEST_PARAM_COMBO_MST.COND.0 = gnum_is_valid=1 and  gnum_test_code=? and gnum_parameter_code=? and hgnum_seq_id=?

 testparacomboMst.main.0 = SELECT TC.gnum_test_code||'@'||TC.gnum_parameter_code||'@'||TC.hgnum_seq_id||'^'|| T.gstr_test_name ||'^'||INITCAP(P.hgstr_parameter)||'^'||INITCAP(TC.hgstr_value) AS DATA FROM HIVT_TEST_PARAM_COMBO_MST TC , HIVT_TEST_MST T, HIVT_PARAMETER_MST P WHERE TC.GNUM_IS_VALID \= ? and  T.GNUM_ISVALID \= 1 and P.GNUM_ISVALID \= 1 AND TC.gnum_test_code\=T.gnum_test_code and TC.gnum_parameter_code\=P.hgnum_parameter_id

 select.testparacombo.view.2 = SELECT (Select  gstr_test_name  from hivt_test_mst where gnum_isvalid\=1 and gnum_test_code\=a.gnum_test_code), (Select INITCAP(hgstr_parameter) from HIVT_PARAMETER_MST where gnum_isvalid\=1 and hgnum_parameter_id\=a.gnum_parameter_code),INITCAP(a.hgstr_value)  FROM HIVT_TEST_PARAM_COMBO_MST a  \tWHERE GNUM_IS_VALID \= 1 and \t a.gnum_test_code\=? and a.gnum_parameter_code\=?  and a.hgnum_seq_id\=?


#UserBookMarkMst.main=SELECT a.gnum_bookmark_code||'@'||a.gnum_hospital_code||'@'||a.hgnum_seq_no||'^'||INITCAP(a.hivtstr_bookmark_name)||'^'||INITCAP(DECODE(a.gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise'))||'^'||INITCAP(b.gstr_user_name)||'^'||pkg_inv_fun.fun_deptunit_name(a.gnum_dept_unit_code,a.gnum_hospital_code)||'^'||INITCAP(c.gstr_lab_name)||'^'|| d.gstr_test_name  AS DATA  FROM HIVT_BOOKMARK_MST a, gblt_user_mst b,hivt_laboratory_mst c,hivt_test_mst d where d.gnum_isvalid\=a.gnum_isvalid and  c.gnum_isvalid\=a.gnum_isvalid and b.gnum_isvalid\=a.gnum_isvalid and a.gnum_isvalid\=? and a.gnum_hospital_code\=? and c.gnum_hospital_code\=a.gnum_hospital_code and b.gnum_userid\=a.gnum_user_id and c.gnum_lab_code\=a.hivtnum_lab_code and d.gnum_test_code\=a.hivtnum_test_code 

#Updated by prashant added groupcode and group name
UserBookMarkMst.main=SELECT a.gnum_bookmark_code||'@'||a.gnum_hospital_code||'@'||DECODE(a.hgnum_group_code,-1,a.hgnum_seq_no,a.hgnum_group_code)||'@'||a.hivtnum_is_test_group ||'^'||INITCAP(a.hivtstr_bookmark_name)||'^'||INITCAP(DECODE(a.gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise'))||'^'||INITCAP(b.gstr_user_name)||'^'||pkg_inv_fun.fun_deptunit_name(a.gnum_dept_unit_code,a.gnum_hospital_code)||'^'||INITCAP(c.gstr_lab_name)||'^'|| d.gstr_test_name ||'^'|| nvl((select distinct e.hgstr_group_name from hivt_test_group_mst e where e.hgnum_group_code\=a.hgnum_group_code and e.gnum_hospital_code\=a.gnum_hospital_code),'--') as DATA  FROM HIVT_BOOKMARK_MST a, gblt_user_mst b,hivt_laboratory_mst c,hivt_test_mst d where d.gnum_isvalid\=a.gnum_isvalid and  c.gnum_isvalid\=a.gnum_isvalid and b.gnum_isvalid\=a.gnum_isvalid and a.gnum_isvalid\=? and a.gnum_hospital_code\=? and c.gnum_hospital_code\=a.gnum_hospital_code and b.gnum_userid\=a.gnum_user_id and c.gnum_lab_code\=a.hivtnum_lab_code and d.gnum_test_code\=a.hivtnum_test_code

 
SELECT.USER.User_BookMark_Mst=select gnum_userid as userId,gstr_user_name as userName from gblt_user_mst where gnum_isvalid=? and gnum_hospital_code=?

SELECT.DEPT.USer_BookMark_Mst=select gnum_dept_code as deptCode,gstr_dept_name as deptName from gblt_department_mst where gnum_isvalid=? and gnum_hospital_code=?

SELECT.UNIT.User_BookMark_Mst=select hgnum_deptunitcode as deptUnitCode,hgstr_unitname as deptUnitName from hgbt_unit_mst where gnum_isvalid=? and gnum_hospital_code=? and gnum_dept_code=?

SELECT.LAB.User_BookMark_Mst=select distinct a.gnum_labcode as labCode,b.gstr_lab_name as labName from hivt_laboratory_test_mst a,hivt_laboratory_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_hospital_code=a.gnum_hospital_code and b.gnum_lab_code=a.gnum_labcode and a.gnum_isvalid=? and a.gnum_hospital_code=? 

#SELECT.TEST.User_BookMark_MST=select b.gnum_test_code as testCode,b.gstr_test_name as testName from hivt_laboratory_test_mst a,hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.gnum_test_code and a.gnum_isvalid=? and a.gnum_hospital_code=? and a.gnum_labcode=? and a.gnum_test_code NOT IN (select hivtnum_test_code from hivt_bookmark_mst where gnum_isvalid=? and gnum_bookmark_code=? and hivtnum_lab_code=? and gnum_hospital_code=?)

#update by prashant added userid in where clause
SELECT.TEST.User_BookMark_MST=select b.gnum_test_code as testCode,b.gstr_test_name as testName from hivt_laboratory_test_mst a,hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.gnum_test_code and a.gnum_isvalid=? and a.gnum_hospital_code=? and a.gnum_labcode=? and a.gnum_test_code NOT IN (select hivtnum_test_code from hivt_bookmark_mst where gnum_isvalid=? and gnum_bookmark_code=? and hivtnum_lab_code=? and gnum_hospital_code=? and gnum_user_id=?)

#by prashant for function essential
SELECT.TEST.User_BookMark_MST1=select b.gnum_test_code as testCode,b.gstr_test_name as testName from hivt_laboratory_test_mst a,hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.gnum_test_code and a.gnum_isvalid=? and a.gnum_hospital_code=?

#by prashant for geting test corresponding to group
SELECT.TEST.BYGROUP.User_BookMark_MST=select a.gnum_test_code as testCode, b.gstr_test_name as testName from hivt_test_group_info_mst a, hivt_test_mst b, hivt_test_group_mst c where a.hgnum_group_code = c.hgnum_group_code and a.gnum_hospital_code=c.gnum_hospital_code and a.gnum_is_valid = c.gnum_isvalid and a.gnum_test_code = b.gnum_test_code and a.gnum_is_valid = b.gnum_isvalid and a.gnum_is_valid=? and a.hgnum_group_code=? and a.gnum_hospital_code=?

 
SELECT.BOOKMARK_TYPE.BookMark_mst=select gnum_bookmark_type from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=?

#SELECT.TEST_GROUP.User_BookMark_Mst=select  b.hgnum_group_code as groupCode,b.hgstr_group_name as groupName from hivt_test_group_info_mst a,hivt_test_group_mst b where b.hgnum_group_code=a.hgnum_group_code and   b.gnum_isvalid=a.gnum_is_valid and a.gnum_is_valid=? and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_hospital_code=?
#changed by prashant added DISTINCT
SELECT.TEST_GROUP.User_BookMark_Mst=select DISTINCT b.hgnum_group_code as groupCode,b.hgstr_group_name as groupName from hivt_test_group_info_mst a,hivt_test_group_mst b where b.hgnum_group_code=a.hgnum_group_code and b.gnum_isvalid=a.gnum_is_valid and a.gnum_is_valid=? and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_hospital_code=?


#added by prashant
SELECT.TEST_GROUP.User_BookMark_Mst_ByLab=select DISTINCT b.hgnum_group_code as groupCode,b.hgstr_group_name as groupName from hivt_test_group_info_mst a,hivt_test_group_mst b where b.hgnum_group_code=a.hgnum_group_code and   b.gnum_isvalid=a.gnum_is_valid and a.gnum_is_valid=? and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_hospital_code=? and a.gnum_lab_code=? and b.hgnum_group_code NOT IN (select DISTINCT hgnum_group_code from hivt_bookmark_mst where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=? and gnum_user_id=? and hivtnum_lab_code=?)

 
SELECT.BOOKMARK.User_BookMark_Mst=select gnum_bookmark_code as bookmarkCode,hivtstr_bookmark_name as bookmarkName from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_hospital_code=?

INSERT.User_BookMark_Mst=insert into hivt_bookmark_mst(gnum_user_id,hivtnum_lab_code,gnum_bookmark_code,gnum_hospital_code,hgnum_seq_no,gnum_bookmark_type,hivtnum_is_test_group,gnum_isvalid,gnum_dept_unit_code,gdt_entry_date,gnum_seatid,hivtnum_test_code,hgnum_group_code,hivtstr_bookmark_name) values(?,?,?,?,(select nvl(max(hgnum_seq_no),0)+1 from hivt_bookmark_mst where gnum_bookmark_code=? and gnum_hospital_code=?),?,?,?,?,SYSDATE,?,?,?,(select hivtstr_bookmark_name from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=? ))
FETCH_MODIFY.User_BookMark_Mst=select gnum_user_id as userId,hivtnum_lab_code as labCode ,gnum_bookmark_code as bookmarkCode ,gnum_bookmark_type as bookarkType,hivtnum_is_test_group as isTestGroup,gnum_dept_unit_code as deptUnitCode,hivtnum_test_code as testCode,hivtstr_bookmark_name as bookmarkName,hgnum_group_code as groupCode from hivt_bookmark_mst where gnum_isvalid=? and gnum_bookmark_code=? and hgnum_seq_no=? and gnum_hospital_code=?

BookmarkMst.main=SELECT gnum_bookmark_code||'@'||gnum_hospital_code||'^'||INITCAP(hivtstr_bookmark_name)||'^'||INITCAP(DECODE(gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise')) AS DATA  FROM HIVT_BOOKMARK_MST_1 where gnum_isvalid=? and gnum_hospital_code=?

SAVE.BookMarkMst=insert into hivt_bookmark_mst_1(gnum_bookmark_code,gnum_hospital_code,gnum_bookmark_type,gnum_isvalid,gdt_entry_date,gnum_seatid,hivtstr_bookmark_name) values((select nvl(max(gnum_bookmark_code),10000)+1 from hivt_bookmark_mst_1 where gnum_hospital_code=?),?,?,?,SYSDATE,?,?)

CHECK_DUPLICATE_BOOKMARK_NAME.Bookmark_Mst= select count(gnum_bookmark_code) from hivt_bookmark_mst_1 where hivtstr_bookmark_name=?  and gnum_hospital_code=? 

CHECK_DUPLICATE_BOOKMARK_NAME.Bookmark_Mst_Modify= select count(gnum_bookmark_code) from hivt_bookmark_mst_1 where hivtstr_bookmark_name=? and gnum_bookmark_type=? and gnum_hospital_code=? 

CHECK_DUPLICATE_BOOKMARK_NAME.Bookmark_Mst_Save=select count(*) from hivt_bookmark_mst_1 where hivtstr_bookmark_name=? and gnum_isvalid=? and gnum_hospital_code=? 

CHECK_DUPLICATE_BOOKMARK_NAME_MODIFY.Bookmark_Mst=select count(gnum_bookmark_code) from hivt_bookmark_mst_1 where hivtstr_bookmark_name=? and gnum_isvalid=? and gnum_hospital_code=? and gnum_bookmark_type=?

SAVE.MODIFY.UserBookMark_Mst=update hivt_bookmark_mst set gnum_user_id=?,hivtnum_lab_code=?,gnum_bookmark_type=?,hivtnum_is_test_group=?,gnum_dept_unit_code=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=?,hivtnum_test_code=?,hgnum_group_code=? where gnum_isvalid=? and gnum_bookmark_code=? and hgnum_seq_no=? and gnum_hospital_code=?

SELECT.MODIFY.BooMark_Mst=select INITCAP(hivtstr_bookmark_name) as bookmarkName,gnum_bookmark_type as bookmarkType,gnum_bookmark_code as bookmarkCode from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=?

SAVE.MODIFY.BookMark_Mst=update hivt_bookmark_mst_1 set hivtstr_bookmark_name=?,gnum_bookmark_type=?,gnum_lstmod_seatid=?,gdt_lstmod_date=SYSDATE where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=?

UPDATE.DUP.Deleted.BookMark_Mst=update hivt_bookmark_mst_1 set hivtstr_bookmark_name=?,gnum_bookmark_type=?,gnum_seatid=?,gdt_entry_date=SYSDATE,gnum_isvalid=? where gnum_isvalid=? and hivtstr_bookmark_name=? and gnum_hospital_code=?

DELETE.BookMark_Mst=update hivt_bookmark_mst_1 set gnum_isvalid='0',gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=?

DELETE.UserBookMark_Mst=update hivt_bookmark_mst set gnum_isvalid='0',gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=?

#DELETE.UserBookMark_Mst.COND=gnum_bookmark_code=? and gnum_hospital_code=? and hgnum_seq_no=?

#updated by prashant
DELETE.UserBookMark_Mst.COND=gnum_bookmark_code=? and gnum_hospital_code=? and hgnum_seq_no=? and hivtnum_is_test_group=?

#by prashant
DELETE.UserBookMark_Mst.COND.Group=gnum_bookmark_code=? and gnum_hospital_code=? and hgnum_group_code=? and hivtnum_is_test_group=?


DELETE.BookMark_Mst.COND=gnum_bookmark_code=? and gnum_hospital_code=?

VIEW.BookmarkMst=select INITCAP(hivtstr_bookmark_name),INITCAP(DECODE(gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise')) from hivt_bookmark_mst_1 where gnum_isvalid=1 and gnum_bookmark_code=? and gnum_hospital_code=?

SELECT_TEST_BY_LAB.UserBookmark_Mst=select gnum_test_code as testCode, pkg_inv_fun.fun_test_name(gnum_test_code) as testName from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_hospital_code=? and gnum_labcode=? order by testName

CHECK_DUPLICATE_DATA.UserbookMark_Mst=select count(*) from hivt_bookmark_mst where gnum_isvalid=? and gnum_bookmark_code=? and hgnum_seq_no=? and gnum_hospital_code=?

VIEW.UserBookMark_Mst=select INITCAP(a.hivtstr_bookmark_name),INITCAP(DECODE(a.gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise')),NVL((select INITCAP(gstr_user_name) from gblt_user_mst where gnum_userid=a.gnum_user_id and gnum_hospital_code=a.gnum_hospital_code),'-'),NVL((SELECT (Select INITCAP(gstr_dept_name) from gblt_department_mst where gnum_isvalid=1 and  gnum_dept_code =b.gnum_dept_code and gnum_hospital_code= b.gnum_hospital_code ) ||  '('  || INITCAP(hgstr_unitname )  || ')' from hgbt_unit_mst b where b.gnum_isvalid=1 and b.hgnum_deptunitcode=a.gnum_dept_unit_code and b.gnum_hospital_code=a.gnum_hospital_code),'-'),(select INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid=1 and gnum_lab_code=a.hivtnum_lab_code and gnum_hospital_code=a.gnum_hospital_code),INITCAP(DECODE(a.hivtnum_is_test_group,'0','Test Wise','2','Test Group Wise')),NVL((select  gstr_test_name  from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.hivtnum_test_code),'-'),NVL((select INITCAP(hgstr_group_name) from hivt_test_group_mst where gnum_isvalid=1 and hgnum_group_code=a.hgnum_group_code and gnum_hospital_code=a.gnum_hospital_code),'-') from hivt_bookmark_mst a where a.gnum_isvalid=1 and a.gnum_bookmark_code=? and a.gnum_hospital_code=? and a.hgnum_seq_no=? 
                           
	                               
	
INSERT.HIVT_LAB_COLLECTION_AREA_MST   =INSERT INTO hivt_lab_collection_area_mst(gnum_area_code,gnum_hospital_code,gnum_lab_code,gnum_isvalid, gnum_seatid, gdt_entry_date) \
                            VALUES (?,?,?,?, ?,SYSDATE)

SELECT.HIVT_LAB_COLLECTION_AREA_MST= SELECT  gnum_lab_code as labCode, gnum_area_code as collectionareaCode FROM HIVT_LAB_COLLECTION_AREA_MST WHERE gnum_isvalid=1 and  gnum_area_code=? and gnum_hospital_code=? and gnum_lab_code=? 					 

DELETE_VALID.HIVT_LAB_COLLECTION_AREA_MST=UPDATE hivt_lab_collection_area_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GDT_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and gnum_area_code=? AND  gnum_hospital_code=? and gnum_lab_code=?
                            
CHECKPRIMARYKEY.HIVT_LAB_COLLECTION_AREA_MST=SELECT  count(*)  FROM HIVT_LAB_COLLECTION_AREA_MST where gnum_area_code=? and gnum_hospital_code=? and gnum_lab_code=?
										 
UPDATE_VALID.HIVT_LAB_COLLECTION_AREA_MST=UPDATE hivt_lab_collection_area_mst SET gnum_isvalid=?,  gdt_lstmod_date=SYSDATE ,  GDT_LSTMOD_SEATID = ? WHERE gnum_area_code=? AND  gnum_hospital_code=? and gnum_lab_code=?

SELECT.LAB_COMBO.HIVT_LAB_COLLECTION_AREA_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by INITCAP(gstr_lab_name) 

SELECT.LAB_AREA_COMBO.HIVT_LAB_COLLECTION_AREA_MST=SELECT GNUM_area_CODE,INITCAP(GSTR_area_NAME) FROM HIVT_collection_area_MST WHERE GNUM_ISVALID=1 and gnum_hospital_code=? AND GNUM_area_CODE NOT IN (SELECT gnum_area_code from hivt_lab_collection_area_mst where gnum_isvalid=1 and  gnum_lab_code=? and gnum_hospital_code=?) order by INITCAP(GSTR_area_NAME)
											
SELECT.LAB_SELECTED_AREA_COMBO.HIVT_LAB_COLLECTION_AREA_MST=select gnum_area_code as collectionareaCode,(Select INITCAP(gstr_area_name)  from hivt_collection_area_mst where gnum_isvalid=1 and gnum_area_code=LC.gnum_area_code and gnum_hospital_code=LC.gnum_hospital_code) as collectionareaName from hivt_lab_collection_area_mst LC where gnum_isvalid=1 and gnum_hospital_code=? and gnum_lab_code=? order by collectionareaName
							
							
							
DELETE.LABCOLLECTIONAREA.HIVT_LAB_COLLECTION_AREA_MST= UPDATE HIVT_LAB_COLLECTION_AREA_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GDT_LSTMOD_SEATID = ?

DELETE.LABCOLLECTIONAREA.HIVT_LAB_COLLECTION_AREA_MST.COND.0 = gnum_isvalid=1 and gnum_area_code=? and gnum_hospital_code=? and gnum_lab_code=? 

 labcollectionareaMst.main.0 = SELECT LC.gnum_area_code||'@'||LC.gnum_hospital_code||'@'||LC.gnum_lab_code||'^'||INITCAP(L.gstr_lab_name)||'^'||INITCAP(C.gstr_area_name) AS DATA FROM HIVT_LAB_COLLECTION_AREA_MST LC, HIVT_COLLECTION_AREA_MST C, HIVT_LABORATORY_MST L WHERE LC.GNUM_ISVALID \= ? and C.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND LC.gnum_hospital_code\=? and LC.gnum_area_code\=C.gnum_area_code and LC.gnum_lab_code\=L.gnum_lab_code and  C.gnum_hospital_code\=L.gnum_hospital_code and C.gnum_hospital_code\=LC.gnum_hospital_code 

select.labcollectionarea.view.2 = Select (SELECT INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid=1 and  gnum_lab_code=LC.gnum_lab_code and gnum_hospital_code=LC.gnum_hospital_code), ( Select INITCAP(gstr_area_name) from HIVT_COLLECTION_AREA_MST where gnum_isvalid=1 and gnum_area_code=LC.gnum_area_code and gnum_hospital_code =LC.gnum_hospital_code) FROM HIVT_LAB_COLLECTION_AREA_MST LC WHERE gnum_isvalid=1 and gnum_area_code =? and gnum_hospital_code=?	and gnum_lab_code=?	
                           
	                               
	
INSERT.HIVT_TEST_GROUP_INFO_MST   =INSERT INTO HIVT_TEST_GROUP_INFO_MST(gnum_test_code,gnum_hospital_code,hgnum_group_code,gnum_lab_code,gnum_is_valid,gnum_isdynamic_template,gnum_isdynamicresultentry,gnum_dynamictemplate_id, gnum_seat_id, gdt_entry_date,gnum_test_seq_no) \
                            VALUES (?,?,?,?,?,?,?,?,?,SYSDATE,?)
                            

SELECT.HIVT_TEST_GROUP_INFO_MST= SELECT  hgnum_group_code as groupCode,gnum_lab_code as labCode, gnum_test_code as testCode FROM HIVT_TEST_GROUP_INFO_MST WHERE gnum_is_valid=1 and  gnum_test_code=? and gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?				 

DELETE_VALID.HIVT_TEST_GROUP_INFO_MST=UPDATE HIVT_TEST_GROUP_INFO_MST SET gnum_is_valid='0',  gdt_lstmod_date=SYSDATE ,  GNUM_LSTMOD_SEATID = ?,gnum_test_seq_no=0 WHERE  gnum_is_valid=1 and gnum_test_code=? AND  gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?
                            
CHECKPRIMARYKEY.HIVT_TEST_GROUP_INFO_MST=SELECT  count(*)  FROM HIVT_TEST_GROUP_INFO_MST where gnum_test_code=? and gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?
										 
UPDATE_VALID.HIVT_TEST_GROUP_INFO_MST=UPDATE HIVT_TEST_GROUP_INFO_MST SET gnum_is_valid=?,  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ?,gnum_test_seq_no=? WHERE gnum_test_code=? AND  gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?

SELECT.GROUP_COMBO.HIVT_TEST_GROUP_INFO_MST=select hgnum_group_code as groupCode,INITCAP(hgstr_group_name) as groupName from hivt_test_group_mst where gnum_isvalid=1 and gnum_hospital_code=? order by hgstr_group_name

SELECT.LAB_COMBO.HIVT_TEST_GROUP_INFO_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name
			
SELECT.LAB_TEST_COMBO.HIVT_TEST_GROUP_INFO_MST=Select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code) from hivt_laboratory_test_mst where gnum_isvalid\=1 and gnum_labcode\=? and gnum_hospital_code\=? and  gnum_test_code not in((select gnum_test_code from hivt_test_group_info_mst where gnum_is_valid\=1 and hgnum_group_code\=? and gnum_lab_code\=? and gnum_hospital_code\=?)) order by pkg_inv_fun.fun_test_name(gnum_test_code)

											
SELECT.LAB_SELECTED_TEST_COMBO.HIVT_TEST_GROUP_INFO_MST=select gnum_test_code as testCode, pkg_inv_fun.fun_test_name(gnum_test_code) as testName ,(select gnum_test_seq_no from hivt_test_group_info_mst where  gnum_is_valid\=1 and hgnum_group_code\=? and gnum_lab_code\=a.gnum_labcode and gnum_hospital_code\=a.gnum_hospital_code and gnum_test_code\=a.gnum_test_code) as testSeqNo from hivt_laboratory_test_mst a where gnum_isvalid\=1 and gnum_labcode\=? and gnum_hospital_code\=? and gnum_test_code in(select gnum_test_code from hivt_test_group_info_mst where  gnum_is_valid\=1 and hgnum_group_code\=? and gnum_lab_code\=? and gnum_hospital_code\=?) order by testSeqNo

							
DELETE.TESTGROUPINFO.HIVT_TEST_GROUP_INFO_MST= UPDATE HIVT_TEST_GROUP_INFO_MST SET  GNUM_IS_VALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TESTGROUPINFO.HIVT_TEST_GROUP_INFO_MST.COND.0 = gnum_is_valid=1 and hgnum_group_code=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=?

 testgroupinfoMst.main.0 = SELECT TG.hgnum_group_code||'@'||TG.gnum_lab_code||'@'||TG.gnum_hospital_code||'@'||TG.gnum_test_code||'^'||INITCAP(G.hgstr_group_name)||'^'||INITCAP(L.gstr_lab_name)||'^'|| T.gstr_test_name  AS DATA FROM HIVT_TEST_GROUP_INFO_MST TG, HIVT_TEST_MST T, HIVT_LABORATORY_MST L, HIVT_TEST_GROUP_MST G WHERE TG.GNUM_IS_VALID \= ? and T.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND G.gnum_isvalid\=1 AND TG.gnum_hospital_code\=? and TG.gnum_test_code\=T.gnum_test_code and TG.Hgnum_group_code\=G.hgnum_group_code and TG.gnum_lab_code\=L.gnum_lab_code and  TG.gnum_hospital_code\=L.gnum_hospital_code and TG.gnum_hospital_code\=G.gnum_hospital_code  

select.testgroupinfo.view.2 = Select (SELECT INITCAP(hgstr_group_name) from hivt_test_group_mst where gnum_isvalid=1 and hgnum_group_code=TG.hgnum_group_code and gnum_hospital_code=TG.gnum_hospital_code),(SELECT INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid=1 and gnum_lab_code=TG.gnum_lab_code and gnum_hospital_code=TG.gnum_hospital_code), ( Select  gstr_test_name  from HIVT_TEST_MST where gnum_isvalid=1 and gnum_test_code=TG.gnum_test_code) FROM HIVT_TEST_GROUP_INFO_MST TG WHERE gnum_is_valid=1 and hgnum_group_code =? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=?	

SELECT.PRINTING_TEMPLATE_COMBO.HIVT_TEST_GROUP_INFO_MST=select hivt_dynamictemplate_id as printingTemplateCode,INITCAP(hivt_template_name) as printingTemplateName from hivt_printing_template where gnum_isvalid=1 and hivtnum_grouptest<>0 and hivnum_sl_no=1 order by hivt_template_name

SELECT.PRINTING_TEMPLATE.HIVT_TEST_GROUP_INFO_MST= select gnum_isdynamic_template as isDynamicTemplate ,gnum_isdynamicresultentry as isDynamicResult, gnum_dynamictemplate_id as printingTemplateCode,gstr_user_group_code as userGroupCode from HIVT_TEST_GROUP_INFO_MST where gnum_is_valid=1 and gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=? limit 1
                  
	                               
	

INSERT.HIVT_LABNO_CONF_MST   =INSERT INTO HIVT_LABNO_CONF_MST(islabnoareawise,gnum_lab_code,gnum_test_code,gnum_hospital_code,gnum_sq_no,gnum_pat_type,gnum_init_type,hivtstr_labno_format,gnum_no_of_seq_digits,gnum_from_series,gnum_to_series, gnum_is_valid, gnum_seat_id, gdt_entry_date,gnum_machine_code,gdt_initialization_date) VALUES (?,?,?,?,(Select NVL(MAX(gnum_sq_no),00)+1 from HIVT_LABNO_CONF_MST where gnum_hospital_code\=? and gnum_lab_code\=?),?,?,UPPER(?),?, ?, ?,?,?,SYSDATE, -1,SYSDATE)
INSERT.HIVT_LABNO_CONF_MST_AREA_WISE    =INSERT INTO HIVT_LABNO_CONF_MST(acceptance_area,islabnoareawise,gnum_lab_code,gnum_test_code,gnum_hospital_code,gnum_sq_no,gnum_pat_type,gnum_init_type,hivtstr_labno_format,gnum_no_of_seq_digits,gnum_from_series,gnum_to_series, gnum_is_valid, gnum_seat_id, gdt_entry_date,gnum_machine_code,gdt_initialization_date) VALUES (?,?,?,?,?,(Select NVL(MAX(gnum_sq_no),00)+1 from HIVT_LABNO_CONF_MST where gnum_hospital_code\=? and gnum_lab_code\=?),?,?,UPPER(?),?, ?, ?,?,?,SYSDATE, -1,SYSDATE)

#SELECT.HIVT_LABNO_CONF_MST= SELECT  gnum_lab_code as labCode,gnum_test_code as testCode,gnum_pat_type as patientType,gnum_init_type as initializationType ,hivtstr_labno_format as labNoFormat,gnum_no_of_seq_digits as seqDigit,gnum_from_series as fromSeries,gnum_to_series as toSeries FROM HIVT_LABNO_CONF_MST WHERE gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=?   					 
SELECT.HIVT_LABNO_CONF_MST= SELECT  nvl(islabnoareawise,'0') as acceptanceAreawise,acceptance_area as sampleAcceptanceAreaCode,gnum_lab_code as labCode,gnum_test_code as testCode,gnum_pat_type as patientType,gnum_init_type as initializationType ,hivtstr_labno_format as labNoFormat,gnum_no_of_seq_digits as seqDigit,gnum_from_series as fromSeries,gnum_to_series as toSeries FROM HIVT_LABNO_CONF_MST WHERE gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=?

#UPDATE.HIVT_LABNO_CONF_MST=UPDATE HIVT_LABNO_CONF_MST SET hivstr_running_lab_no=null,gdt_initialization_date=SYSDATE,islabnoareawise=?,gnum_init_type=?,hivtstr_labno_format=?,gnum_no_of_seq_digits=?,gnum_from_series=?,gnum_to_series=?, gnum_is_valid=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE WHERE  gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? AND  gnum_hospital_code=? 
UPDATE.HIVT_LABNO_CONF_MST=UPDATE HIVT_LABNO_CONF_MST SET hivstr_running_lab_no=null,gdt_initialization_date=SYSDATE,acceptance_area=?,islabnoareawise=?,gnum_init_type=?,hivtstr_labno_format=?,gnum_no_of_seq_digits=?,gnum_from_series=?,gnum_to_series=?, gnum_is_valid=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE WHERE  gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? AND  gnum_hospital_code=? 
                           
CHECKDUPLICATE.HIVT_LABNO_CONF_MST=SELECT  gnum_test_code  FROM HIVT_LABNO_CONF_MST where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=?  and acceptance_area is null
CHECKDUPLICATE.HIVT_LABNO_CONF_MST_AREA_WISE=SELECT  gnum_test_code  FROM HIVT_LABNO_CONF_MST where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=? and acceptance_area=?
CHECKDUPLICATE.HIVT_LABNO_CONF_MST_WITHOUT_AREA_WISE =SELECT  gnum_test_code  FROM HIVT_LABNO_CONF_MST where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=? and acceptance_area is null

SELECT.LAB_COMBO.HIVT_LABNO_CONF_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name

SELECT.TEST_COMBO.HIVT_LABNO_CONF_MST=select gnum_test_code as testCode, gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 order by gstr_test_name

#SELECT.UNMAPPED_TEST.HIVT_LABNO_CONF_MST=Select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code) from hivt_laboratory_test_mst where gnum_isvalid=1 and gnum_labcode=? and gnum_hospital_code=? and  gnum_test_code not in (SELECT gnum_test_code from HIVT_LABNO_CONF_MST where gnum_is_valid=1 and  gnum_lab_code=? and gnum_pat_type=? and gnum_hospital_code=?) order by pkg_inv_fun.fun_test_name(gnum_test_code)
SELECT.UNMAPPED_TEST.HIVT_LABNO_CONF_MST=Select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code) from hivt_laboratory_test_mst where gnum_isvalid=1 and gnum_labcode=? and gnum_hospital_code=? 

											
DELETE.LABNOCONFIG.HIVT_LABNO_CONF_MST= UPDATE HIVT_LABNO_CONF_MST SET  GNUM_IS_VALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.LABNOCONFIG.HIVT_LABNO_CONF_MST.COND.0 = gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=? 

#labnoconfigMst.main.0 = SELECT gnum_sq_no||'@'||LC.gnum_lab_code||'@'||LC.gnum_hospital_code||'^'||INITCAP(L.gstr_lab_name)||'^'||DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Both IPD/OPD')||'^'||DECODE(LC.gnum_test_code,'-1','-',(Select  gstr_test_name  from  HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=LC.gnum_test_code))||'^'||replace(hivtstr_labno_format,'&','') AS DATA FROM HIVT_LABNO_CONF_MST LC, HIVT_LABORATORY_MST L WHERE LC.GNUM_IS_VALID \= ? and L.gnum_isvalid\=1   AND LC.gnum_hospital_code\=?  AND LC.gnum_hospital_code\=L.gnum_hospital_code and LC.GNUM_LAB_CODE\=L.GNUM_LAB_CODE
labnoconfigMst.main.0 = SELECT gnum_sq_no||'@'||LC.gnum_lab_code||'@'||LC.gnum_hospital_code||'^'||INITCAP(L.gstr_lab_name)||'^'||DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Both IPD/OPD')||'^'||DECODE(LC.gnum_test_code,'-1','-',(Select  gstr_test_name  from  HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=LC.gnum_test_code))||'^'||replace(hivtstr_labno_format,'&','')||'^'||(select  gstr_area_name  from hivt_collection_area_mst where gnum_area_code\=LC.acceptance_area and gnum_isvalid\=1) AS DATA FROM HIVT_LABNO_CONF_MST LC, HIVT_LABORATORY_MST L WHERE LC.GNUM_IS_VALID \= ? and L.gnum_isvalid\=1   AND LC.gnum_hospital_code\=?  AND LC.gnum_hospital_code\=L.gnum_hospital_code and LC.GNUM_LAB_CODE\=L.GNUM_LAB_CODE 
 
 select.labnoconfig.view.2 = SELECT  (Select INITCAP(gstr_lab_name) from HIVT_LABORATORY_MST where gnum_isvalid\=1 and gnum_hospital_code\=LC.gnum_hospital_code and gnum_lab_code\=LC.gnum_lab_code),DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Any') ,DECODE(LC.gnum_test_code,'-1','-',(Select  gstr_test_name  from  HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=LC.gnum_test_code)), DECODE(gnum_init_type,'m','Monthly','d','Daily','y','Yearly','w','Weekly','x','Same as Sample Number'),NVL(to_char(gnum_no_of_seq_digits),''),NVL(replace(hivtstr_labno_format,'&',''),''),NVL(to_char(gnum_from_series),''),NVL(to_char(gnum_to_series),'') FROM HIVT_LABNO_CONF_MST LC WHERE gnum_is_valid\=1 and gnum_sq_no\=? and gnum_lab_code\=? and gnum_hospital_code\=?

 SELECT.SAMPLE_COLLECTION_AREA.HIVT_COLLECTION_AREA_MST=Select distinct(GNUM_AREA_CODE) as sampleAreaCode, (Select GSTR_AREA_NAME from  HIVT_COLLECTION_AREA_MST where gnum_isvalid\=1 and GNUM_COLLECTIONAREA_TYPE \=1 and GNUM_HOSPITAL_CODE\=a.GNUM_HOSPITAL_CODE and GNUM_AREA_CODE \= a.GNUM_AREA_CODE ) as sampleAreaName  from HIVT_COLLECTION_AREA_MST a where gnum_hospital_code\=? and gnum_isvalid\=1 and EXISTS (SELECT 1 FROM gblt_role_seat_table_dtl p where p.gbl_isvalid\=1 AND  p.gnum_module_id \= ?   AND p.gstr_table_name \= 'HIVT_COLLECTION_AREA_MST' AND p.gstr_column_name \= 'GNUM_AREA_CODE'  AND p.gnum_column_VALUE \= a.GNUM_area_CODE   AND p.gnum_hospital_code \= ?  AND p.gnum_seatid \=?) AND EXISTS( SELECT 1 FROM hivt_collection_area_mst WHERE gnum_isvalid \= 1 AND gnum_collectionarea_type \= 1 AND gnum_hospital_code \= a.gnum_hospital_code AND gnum_area_code \= a.gnum_area_code)  order by sampleAreaName asc                                           \t\t\t\t\t

# INSERT_LOCAL.HIVT_LABORATORY_MST=INSERT INTO hivt_laboratory_mst(gnum_lab_code, gnum_hospital_code, gnum_dept_code, gstr_lab_name, \
 #                              gstr_lab_short, gnum_lab_type, gnum_isvalid,  \
  #                              gnum_seat_id, hivstr_header_text, gdt_entry_date, hivstr_footer_text,  gstr_remarks, \
   #                              hivnum_lab_working_days,hivnum_no_of_test_in_day,gnum_sampleno_config_from, gnum_labno_config,gnum_location_code,gnum_lab_incharge,gnum_display_header_flag,gnum_finalremark_reqd,istestmodify,gnum_lablabel_changed,gnum_colldatelabel_changed,gnum_issamplelabel_req,gnum_isapptlabbased,gnum_isapptmand,gnum_isfilmused,gnum_isreportprintpreparedbyrequied,gnum_islabhidefromdesk,hbnum_is_addendum_type,hbnum_allow_entryuser,hbnum_allow_validationuser,hbnum_allow_revalidationuser) \
    #                               VALUES (?, ?, ?, ?,?, ?, ?, ?,?, SYSDATE, ?, ?,?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
     
     #updated by prashant
 INSERT_LOCAL.HIVT_LABORATORY_MST=INSERT INTO hivt_laboratory_mst(gnum_lab_code, gnum_hospital_code, gnum_dept_code, gstr_lab_name, \
                               gstr_lab_short, gnum_lab_type, gnum_isvalid,  \
                                gnum_seat_id, hivstr_header_text, gdt_entry_date, hivstr_footer_text,  gstr_remarks, \
                                 hivnum_lab_working_days,hivnum_no_of_test_in_day,gnum_sampleno_config_from, gnum_labno_config,gnum_location_code,gnum_lab_incharge,gnum_display_header_flag,gnum_finalremark_reqd,istestmodify,gnum_lablabel_changed,gnum_colldatelabel_changed,gnum_issamplelabel_req,gnum_isapptlabbased,gnum_isapptmand,gnum_isfilmused,gnum_isreportprintpreparedbyrequied,gnum_islabhidefromdesk,hbnum_is_addendum_type,hbnum_allow_entryuser,hbnum_allow_validationuser,hbnum_allow_revalidationuser,hgnum_pat_test_type) \
                                   VALUES (?, ?, ?, ?,?, ?, ?, ?,?, SYSDATE, ?, ?,?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
                                                                   
 #SELECT_LOCAL.HIVT_LABORATORY_MST=SELECT nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,nvl(istestmodify,'0') as istestmodify,nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,gnum_istime_bound as isTimeBound,gstr_start_time as startTimeHH,gstr_end_time as endTimeHH, gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,INITCAP(gstr_lab_name) as laboratoryName, UPPER(gstr_lab_short) as labShortSName,gnum_lab_type as labType,gnum_location_code ,INITCAP(hivstr_header_text) as headertext, INITCAP(hivstr_footer_text) as footerText,INITCAP(gstr_remarks) as remarks,hivnum_lab_working_days as labWorkingDays, gnum_location_code as location,gnum_lab_incharge as labIncharge, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, gnum_labno_config as labNumberConfig,hivnum_no_of_test_in_day as numberofTests,gnum_display_header_flag  as displayHeader, gnum_finalremark_reqd as finalRemark FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?
#SELECT_LOCAL.HIVT_LABORATORY_MST=SELECT nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,nvl(istestmodify,'0') as istestmodify,nvl(gnum_isapptlabbased,'0') as isAppointment,nvl(gnum_isapptmand,'0') as isaptmand,nvl(gnum_isfilmused,'0') as isfilmused,nvl(gnum_isreportprintpreparedbyrequied,'0') as resultentered,nvl(gnum_islabhidefromdesk,'0') as hidefromdesk,nvl(hbnum_is_addendum_type,'0') as accesstoaddendum,nvl(hbnum_allow_entryuser,'0') as entryuser,nvl(hbnum_allow_validationuser,'0') as validation,nvl(hbnum_allow_revalidationuser,'0') as revalidation,nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,gnum_istime_bound as isTimeBound,gstr_start_time as startTimeHH,gstr_end_time as endTimeHH, gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,INITCAP(gstr_lab_name) as laboratoryName, UPPER(gstr_lab_short) as labShortSName,gnum_lab_type as labType,gnum_location_code ,INITCAP(hivstr_header_text) as headertext, INITCAP(hivstr_footer_text) as footerText,INITCAP(gstr_remarks) as remarks,hivnum_lab_working_days as labWorkingDays, gnum_location_code as location,gnum_lab_incharge as labIncharge, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, gnum_labno_config as labNumberConfig,hivnum_no_of_test_in_day as numberofTests,gnum_display_header_flag  as displayHeader, gnum_finalremark_reqd as finalRemark FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?

SELECT_LOCAL.HIVT_LABORATORY_MST=SELECT nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,nvl(istestmodify,'0') as istestmodify,nvl(gnum_isapptlabbased,'0') as isAppointment,nvl(gnum_isapptmand,'0') as isaptmand,nvl(gnum_isfilmused,'0') as isfilmused,nvl(gnum_isreportprintpreparedbyrequied,'0') as resultentered,nvl(gnum_islabhidefromdesk,'0') as hidefromdesk,nvl(hbnum_is_addendum_type,'0') as accesstoaddendum,nvl(hbnum_allow_entryuser,'0') as entryuser,nvl(hbnum_allow_validationuser,'0') as validation,nvl(hbnum_allow_revalidationuser,'0') as revalidation,nvl(gnum_lablabel_changed,'0') as isreportlablabelchanged,nvl(gnum_colldatelabel_changed,'0') as isreportcollectionlabelchanged,nvl(gnum_issamplelabel_req,'0') as isreportsamplelabelrequired,gnum_istime_bound as isTimeBound,gstr_start_time as startTimeHH,gstr_end_time as endTimeHH, gnum_lab_code as labCode, gnum_hospital_code as hospitalCode,gnum_dept_code as department ,INITCAP(gstr_lab_name) as laboratoryName, UPPER(gstr_lab_short) as labShortSName,gnum_lab_type as labType,gnum_location_code ,INITCAP(hivstr_header_text) as headertext, INITCAP(hivstr_footer_text) as footerText,INITCAP(gstr_remarks) as remarks,hivnum_lab_working_days as labWorkingDays, gnum_location_code as location,gnum_lab_incharge as labIncharge, hivstr_smpl_coll_start_time as sampleCStrtTime,hivstr_smpl_coll_end_time as sampleCEndTime,gnum_sampleno_config_from as sampleNumberConfig, gnum_labno_config as labNumberConfig,hivnum_no_of_test_in_day as numberofTests,gnum_display_header_flag  as displayHeader, gnum_finalremark_reqd as finalRemark, hgnum_pat_test_type as sopbased FROM hivt_laboratory_mst WHERE GNUM_ISVALID\=?\tAnd gnum_hospital_code\=? AND gnum_lab_code\=?



 #UPDATE_LOCAL.HIVT_LABORATORY_MST=UPDATE hivt_laboratory_mst SET gnum_istime_bound\=?,gstr_start_time\=?,gstr_end_time\=?,  gnum_dept_code\=?, gstr_lab_name\=?,gstr_lab_short\=?, gnum_lab_type\=?,    hivstr_header_text\=?,  hivstr_footer_text\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?,  hivnum_lab_working_days\=?,  hivnum_no_of_test_in_day\=?,gnum_sampleno_config_from\=?,gnum_labno_config\=?,gnum_location_code\=?,gnum_lab_incharge\=?,gnum_display_header_flag\=?,gnum_finalremark_reqd\=?,istestmodify\=?,gnum_lablabel_changed\=?,gnum_colldatelabel_changed\=?,gnum_issamplelabel_req\=? WHERE  gnum_isvalid\=1 And  gnum_lab_code\=? and gnum_hospital_code\=?
   #UPDATE_LOCAL.HIVT_LABORATORY_MST=UPDATE hivt_laboratory_mst SET gnum_istime_bound\=?,gstr_start_time\=?,gstr_end_time\=?,  gnum_dept_code\=?, gstr_lab_name\=?,gstr_lab_short\=?, gnum_lab_type\=?,    hivstr_header_text\=?,  hivstr_footer_text\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?,  hivnum_lab_working_days\=?,  hivnum_no_of_test_in_day\=?,gnum_sampleno_config_from\=?,gnum_labno_config\=?,gnum_location_code\=?,gnum_lab_incharge\=?,gnum_display_header_flag\=?,gnum_finalremark_reqd\=?,istestmodify\=?,gnum_lablabel_changed\=?,gnum_colldatelabel_changed\=?, gnum_issamplelabel_req\=?,gnum_isapptlabbased\=?,gnum_isapptmand\=?,gnum_isfilmused\=?,gnum_isreportprintpreparedbyrequied\=?,gnum_islabhidefromdesk\=?,hbnum_is_addendum_type\=?,hbnum_allow_entryuser\=?,hbnum_allow_validationuser\=?,hbnum_allow_revalidationuser\=? WHERE  gnum_isvalid\=1 And  gnum_lab_code\=? and gnum_hospital_code\=?
    UPDATE_LOCAL.HIVT_LABORATORY_MST=UPDATE hivt_laboratory_mst SET gnum_istime_bound\=?,gstr_start_time\=?,gstr_end_time\=?,  gnum_dept_code\=?, gstr_lab_name\=?,gstr_lab_short\=?, gnum_lab_type\=?,    hivstr_header_text\=?,  hivstr_footer_text\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?, gstr_remarks\=?,  hivnum_lab_working_days\=?,  hivnum_no_of_test_in_day\=?,gnum_sampleno_config_from\=?,gnum_labno_config\=?,gnum_location_code\=?,gnum_lab_incharge\=?,gnum_display_header_flag\=?,gnum_finalremark_reqd\=?,istestmodify\=?,gnum_lablabel_changed\=?,gnum_colldatelabel_changed\=?, gnum_issamplelabel_req\=?,gnum_isapptlabbased\=?,gnum_isapptmand\=?,gnum_isfilmused\=?,gnum_isreportprintpreparedbyrequied\=?,gnum_islabhidefromdesk\=?,hbnum_is_addendum_type\=?,hbnum_allow_entryuser\=?,hbnum_allow_validationuser\=?,hbnum_allow_revalidationuser\=?,hgnum_pat_test_type\=? WHERE  gnum_isvalid\=1 And  gnum_lab_code\=? and gnum_hospital_code\=?
                                     
 
SELECT.GLOBAL_LAB_COMBO.HIVT_LABORATORY_MST= select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? and gnum_lab_code not in (select gnum_lab_code from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=?) order by gstr_lab_name                 

SELECT.LOCATION_COMBO.HIVT_LABORATORY_MST=select hgnum_location_code as location,INITCAP(hgstr_description) as locationName from hgbt_location_mst where gnum_isvalid=1 and gnum_hospital_code=? order by hgstr_description
  


SELECT.LAB_INCHARGE_COMBO.HIVT_LABORATORY_MST=select str_emp_no,initcap(str_emp_full_name) from pist_emp_registration_dtl where gnum_isvalid=1 and gnum_hospital_code=? order by str_emp_full_name


CHECKPRIMARYKEY.HIVT_LABORATORY_MST=SELECT  count(*)  FROM HIVT_LABORATORY_MST where gnum_lab_code=? and gnum_hospital_code=?

UPDATE_VALID.HIVT_LABORATORY_MST=UPDATE hivt_laboratory_mst SET  gnum_isvalid=?, gnum_lstmod_seatid=? , gdt_lstmod_date=SYSDATE WHERE gnum_lab_code=? and gnum_hospital_code=?
 	                              
	                              
	                               
	
INSERT.HIVT_SAMPLENO_CONF_MST1   =INSERT INTO HIVT_SAMPLENO_CONF_MST1(gnum_lab_code,gnum_test_code,gnum_hospital_code,gnum_sq_no,gnum_pat_type,gnum_init_type,hivtstr_SAMPLENO_format,gnum_no_of_seq_digits,gnum_from_series,gnum_to_series, gnum_is_valid, gnum_seat_id, gdt_entry_date,gnum_machine_code,gdt_initialization_date) VALUES (?,?,?,(Select NVL(MAX(gnum_sq_no),00)+1 from HIVT_SAMPLENO_CONF_MST1 where gnum_hospital_code\=? and gnum_lab_code\=?),?,?,UPPER(?),?, ?, ?,?,?,SYSDATE, -1,SYSDATE)

SELECT.HIVT_SAMPLENO_CONF_MST1= SELECT  gnum_lab_code as labCode,gnum_test_code as testCode,gnum_pat_type as patientType,gnum_init_type as initializationType ,hivtstr_SAMPLENO_format as sampleNoFormat,gnum_no_of_seq_digits as seqDigit,gnum_from_series as fromSeries,gnum_to_series as toSeries FROM HIVT_SAMPLENO_CONF_MST1 WHERE gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=?   					 

UPDATE.HIVT_SAMPLENO_CONF_MST1=UPDATE HIVT_SAMPLENO_CONF_MST1 SET hivstr_running_lab_no=null,gdt_initialization_date=SYSDATE,gnum_init_type=?,hivtstr_SAMPLENO_format=?,gnum_no_of_seq_digits=?,gnum_from_series=?,gnum_to_series=?, gnum_is_valid=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE WHERE  gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? AND  gnum_hospital_code=? 
                           
CHECKDUPLICATE.HIVT_SAMPLENO_CONF_MST1=SELECT  gnum_test_code  FROM HIVT_SAMPLENO_CONF_MST1 where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_test_code=?

SELECT.LAB_COMBO.HIVT_SAMPLENO_CONF_MST1=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name

SELECT.TEST_COMBO.HIVT_SAMPLENO_CONF_MST1=select gnum_test_code as testCode,  gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 order by gstr_test_name

SELECT.UNMAPPED_TEST.HIVT_SAMPLENO_CONF_MST1=Select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code) from hivt_laboratory_test_mst where gnum_isvalid=1 and gnum_labcode=? and gnum_hospital_code=? and  gnum_test_code not in (SELECT gnum_test_code from HIVT_SAMPLENO_CONF_MST1 where gnum_is_valid=1 and  gnum_lab_code=? and gnum_pat_type=? and gnum_hospital_code=?) order by pkg_inv_fun.fun_test_name(gnum_test_code)
											
DELETE.SAMPLENOCONFIG.HIVT_SAMPLENO_CONF_MST1= UPDATE HIVT_SAMPLENO_CONF_MST1 SET  GNUM_IS_VALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.SAMPLENOCONFIG.HIVT_SAMPLENO_CONF_MST1.COND.0 = gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=? 

samplenoconfigMst.main.0 = SELECT gnum_sq_no||'@'||LC.gnum_lab_code||'@'||LC.gnum_hospital_code||'^'||INITCAP(L.gstr_lab_name)||'^'||DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Both IPD/OPD')||'^'||DECODE(LC.gnum_test_code,'-1','-',(Select  gstr_test_name  from  HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=LC.gnum_test_code))||'^'||NVL(replace(hivtstr_sampleno_format,'&',''),'') AS DATA FROM HIVT_SAMPLENO_CONF_MST1 LC, HIVT_LABORATORY_MST L WHERE LC.GNUM_IS_VALID \= ? and L.gnum_isvalid\=1  AND LC.gnum_hospital_code\=L.gnum_hospital_code AND LC.gnum_hospital_code\=? and LC.GNUM_LAB_CODE\=L.GNUM_LAB_CODE
 select.samplenoconfig.view.2 = SELECT  (Select INITCAP(gstr_lab_name) from HIVT_LABORATORY_MST where gnum_isvalid\=1 and gnum_hospital_code\=LC.gnum_hospital_code and gnum_lab_code\=LC.gnum_lab_code),DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Any') ,DECODE(LC.gnum_test_code,'-1','-',(Select  gstr_test_name  from  HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=LC.gnum_test_code)), DECODE(gnum_init_type,'m','Monthly','d','Daily','y','Yearly','w','Weekly','x','Same as Sample Number'),NVL(to_char(gnum_no_of_seq_digits),''),NVL(replace(hivtstr_sampleno_format,'&',''),''),NVL(to_char(gnum_from_series),''),NVL(to_char(gnum_to_series),'') FROM HIVT_SAMPLENO_CONF_MST1 LC WHERE gnum_is_valid\=1 and gnum_sq_no\=? and gnum_lab_code\=? and gnum_hospital_code\=?\t

SELECT.TEST_SAMPLE.Lab_Configrator_Mst= select b.gnum_test_code as testCode,(select  gstr_test_name  from hivt_test_mst where gnum_isvalid\=1 and gnum_test_code\=b.gnum_test_code) as testName,b.gnum_sample_code as sampleCode,(select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid\=1 and gnum_sample_code\=b.gnum_sample_code) as sampleName,b.gnum_hospital_code as hospitalCode from hivt_labtest_sample_mst b where b.gnum_isvalid\=1 and b.gnum_lab_code\=?  and b.gnum_hospital_code\=? order by testName,sampleName


SELECT.TEST_LOCAL_GROUP.Lab_Configrator_Mst=select a.gnum_test_code as testCode,(select  gstr_test_name  from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.gnum_test_code) as testName, a.hgnum_group_code as groupCode,(select INITCAP(b.hgstr_group_name) from hivt_test_group_mst b where b.gnum_isvalid=a.gnum_is_valid and b.hgnum_group_code=a.hgnum_group_code and b.gnum_hospital_code=a.gnum_hospital_code )as groupName, a.gnum_hospital_code as hospitalCode from hivt_test_group_info_mst a,hivt_laboratory_test_mst c where a.gnum_is_valid=c.gnum_isvalid and a.gnum_lab_code=c.gnum_labcode and a.gnum_test_code=c.gnum_test_code and a.gnum_hospital_code=c.gnum_hospital_code and c.gnum_isvalid=? and c.gnum_labcode=? and c.gnum_hospital_code=?

 SELECT.TEST_MAND.Lab_Configrator_Mst=select a.gnum_test_code as testCode,(select  gstr_test_name  from hivt_test_mst where gnum_isvalid\=1 and gnum_test_code\=a.gnum_test_code) as testName,b.hgnum_mand_code as mandCode,(select INITCAP(hgstr_mandatory_name) from hivt_mandatory_mst where gnum_isvalid\=1 and hgnum_mand_code\=b.hgnum_mand_code) as mandName,b.gnum_hospital_code as hospitalCode from hivt_laboratory_test_mst a,hivt_test_mandatory_mst b where a.gnum_isvalid\=1 and b.gnum_isvalid\=1 and b.gnum_test_code\=a.gnum_test_code and b.gnum_test_code\=a.gnum_test_code and b.gnum_hospital_code\=a.gnum_hospital_code and a.gnum_labcode\=? and a.gnum_hospital_code\=?  order by testName,mandName

CHECK_LOCAL_LAB_TEST_SAMPLE.Lab_COnfigrator_Mst=select count(gnum_sample_code) from hivt_labtest_sample_mst where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?

CHECK_LOCAL_LAB_TEST.Lab_Configrator_Mst=select count(gnum_test_code) from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_labcode=? and gnum_test_code=? and gnum_hospital_code=?

CHECK_LOCAL_TEST_MANDATORY.Lab_Confifrator_Mst=select count(hgnum_mand_code) from hivt_test_mandatory_mst where gnum_isvalid=? and gnum_test_code=? and hgnum_mand_code=? and gnum_hospital_code=?

CHECK_DELETED_LOCAL_TEST_MANDATORY.Lab_Confifrator_Mst=select count(hgnum_mand_code) from hivt_test_mandatory_mst where gnum_isvalid=? and gnum_test_code=? and hgnum_mand_code=? and gnum_hospital_code=?

CHECK_LOCAL_TEST_GROUP.Lab_Configrator_Mst=select count(hgnum_group_code) from hivt_test_group_info_mst where gnum_isvalid=? and gnum_test_code=? and hgnum_group_code=? and gnum_hospital_code=?

CHECK_LOCAL_LAB_CANNED.Lab_Configrator_Mst=select count(hgnum_canned_code) from hivt_lab_canned_mst where gnum_isvalid=? and gnum_lab_code=? and hgnum_canned_code=? and gnum_hospital_code=?

CHECK_LOCAL_LAB_MACRO.Lab_Configrator_Mst=select count(hgnum_macro_code) from hivt_lab_macro_mapping_mst where gnum_isvalid=? and gnum_lab_code=? and hgnum_macro_code=? and gnum_hospital_code=?

SELECT_TEST.LAB_CONFIGRATOR_MST=select distinct a.gnum_test_code as testCode1,  b.gstr_test_name as testName1 from hivt_laboratory_test_mst a,hivt_test_mst b where a.gnum_isvalid=? and b.gnum_test_code=a.gnum_test_code and b.gnum_isvalid=a.gnum_isvalid and a.gnum_labcode=? and a.gnum_hospital_code=? 

SELECT_GROUP_GLOBAL.Lab_Configrator_Mst=select a.gnum_test_code as testCode,(select  gstr_test_name  from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.gnum_test_code) as testName, a.hgnum_group_code as groupCode,(select INITCAP(b.hgstr_group_name) from hivt_test_group_mst b where b.gnum_isvalid=a.gnum_is_valid and b.hgnum_group_code=a.hgnum_group_code and b.gnum_hospital_code=a.gnum_hospital_code )as groupName, a.gnum_hospital_code as hospitalCode  from hivt_test_group_info_mst a,hivt_laboratory_test_mst c where a.gnum_is_valid=c.gnum_isvalid and a.gnum_lab_code=c.gnum_labcode and a.gnum_test_code=c.gnum_test_code and a.gnum_hospital_code=c.gnum_hospital_code and c.gnum_isvalid=? and c.gnum_labcode=? and c.gnum_hospital_code=? and c.gnum_test_code NOT IN (select gnum_test_code from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_labcode=? and gnum_hospital_code=? ) 

SELECT_GLOBAL_CANNED.Lab_Configrator_Mst=select a.hgnum_canned_code as cannedCode,(select INITCAP(gstr_canned_name) from hivt_canned_mst b where b.gnum_isvalid=a.gnum_isvalid and b.hgnum_canned_code=a.hgnum_canned_code) as cannedName,a.gnum_hospital_Code as hospitalCode from hivt_lab_canned_mst a where a.gnum_isvalid=? and gnum_lab_code=?  and gnum_hospital_code=? 

SELECT_LOCAL_CANNED.Lab_Configrator_Mst=select a.hgnum_canned_code as cannedCode,(select INITCAP(gstr_canned_name) from hivt_canned_mst b where b.gnum_isvalid=a.gnum_isvalid and b.hgnum_canned_code=a.hgnum_canned_code) as cannedName, a.gnum_hospital_code as hospitalCode from hivt_lab_canned_mst a where a.gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?

SELECT_GLOBAL_MACRO.Lab_Configrator_Mst=select a.hgnum_macro_code as macroCode,(select INITCAP(hgstr_macro_text) from hivt_macro_mst b where b.gnum_isvalid=a.gnum_isvalid and b.hgnum_macro_code=a.hgnum_macro_code) as macroName,a.gnum_hospital_code as hospitalCode  from hivt_lab_macro_mapping_mst a where a.gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?

SELECT_LOCAL_MACRO.Lab_Configrator_Mst=select a.hgnum_macro_code as macroCode,(select INITCAP(hgstr_macro_text) from hivt_macro_mst b where b.gnum_isvalid=a.gnum_isvalid and b.hgnum_macro_code=a.hgnum_macro_code) as macroName, a.gnum_hospital_code as hospitalCode from hivt_lab_macro_mapping_mst a where a.gnum_isvalid=? and gnum_lab_code=? and gnum_hospital_code=?

DELETE_LAB_TEST.Lab_Configrator_Mst=UPDATE hivt_laboratory_test_mst SET  gnum_isvalid=?,gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid = ? where gnum_isvalid=? and gnum_labCode=? and gnum_test_code=? and gnum_hospital_code=?

DELETE_LAB_TEST_SAMPLE.Lab_Configrator_Mst=UPDATE hivt_labtest_sample_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_sample_code=? and gnum_hospital_code=?

DELETE_TEST_MANDATORY.Lab_Configrator_Mst=UPDATE hivt_test_mandatory_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_test_code=? and hgnum_mand_code=? and gnum_hospital_code=?

DELETE_Lab_CANNED.Lab_Configrator_Mst=UPDATE hivt_lab_canned_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_lab_code=? and hgnum_canned_code=? and gnum_hospital_code=?

DELETE_Lab_MACRO.Lab_Configrator_Mst=UPDATE hivt_lab_macro_mapping_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_lab_code=? and hgnum_macro_code=? and gnum_hospital_code=?
 	                              
	                              
	                               
#lab code no more primary key . new query written below 	
#INSERT.HIVT_COLAREA_SAMNO_CONFIG_MST   =INSERT INTO HIVT_COLAREA_SAMNO_CONFIG_MST(gnum_lab_code,gnum_area_code,gnum_hospital_code,gnum_sq_no,gnum_pat_type,gnum_init_type,hivtstr_SAMPLENO_format,gnum_no_of_seq_digits,gnum_from_series,gnum_to_series, gnum_is_valid, gnum_seat_id, gdt_entry_date,gdt_initialization_date) \
#                            VALUES (?,?,?,(Select NVL(MAX(gnum_sq_no),00)+1 from HIVT_COLAREA_SAMNO_CONFIG_MST where gnum_hospital_code=? and gnum_lab_code=?),?,?,UPPER(?),?, ?, ?,?,?,SYSDATE,SYSDATE)
 
#SELECT.HIVT_COLAREA_SAMNO_CONFIG_MST= SELECT  gnum_lab_code as labCode,gnum_area_code as areaCode,gnum_pat_type as patientType,gnum_init_type as initializationType ,hivtstr_SAMPLENO_format as sampleNoFormat,gnum_no_of_seq_digits as seqDigit,gnum_from_series as fromSeries,gnum_to_series as toSeries FROM HIVT_COLAREA_SAMNO_CONFIG_MST WHERE gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? and gnum_hospital_code=?   					    
#UPDATE.HIVT_COLAREA_SAMNO_CONFIG_MST=UPDATE HIVT_COLAREA_SAMNO_CONFIG_MST SET hivstr_running_lab_no=null,gdt_initialization_date=SYSDATE, gnum_init_type=?,hivtstr_SAMPLENO_format=?,gnum_no_of_seq_digits=?,gnum_from_series=?,gnum_to_series=?, gnum_is_valid=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE WHERE  gnum_is_valid=1 and gnum_sq_no=? and gnum_lab_code=? AND  gnum_hospital_code=? 
 
#lab code no more primary key . new query written below                          
#CHECKDUPLICATE.HIVT_COLAREA_SAMNO_CONFIG_MST=SELECT  gnum_area_code  FROM HIVT_COLAREA_SAMNO_CONFIG_MST where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_area_code=?

SELECT.LAB_COMBO.HIVT_COLAREA_SAMNO_CONFIG_MST=select gnum_lab_code as labCode,INITCAP(gstr_lab_name) as labName from hivt_laboratory_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_lab_name

SELECT.AREA_COMBO.HIVT_COLAREA_SAMNO_CONFIG_MST=select gnum_area_code as areaCode,INITCAP(gstr_area_name) as areaName from hivt_collection_area_mst where gnum_isvalid=1 and gnum_hospital_code=? order by gstr_area_name

SELECT.UNMAPPED_AREA.HIVT_COLAREA_SAMNO_CONFIG_MST=Select gnum_area_code, pkg_inv_fun.fun_collectionarea_name(gnum_area_code,gnum_hospital_code) from hivt_lab_collection_area_mst lc where gnum_isvalid=1 and gnum_lab_code=? and gnum_hospital_code=? and  gnum_area_code not in (SELECT gnum_area_code from HIVT_COLAREA_SAMNO_CONFIG_MST where gnum_is_valid=1 and gnum_lab_code=? and gnum_pat_type=? and gnum_hospital_code=?) order by pkg_inv_fun.fun_collectionarea_name(gnum_area_code,gnum_hospital_code)
											
DELETE.COLLAREASAMPLENOCONFIG.HIVT_COLAREA_SAMNO_CONFIG_MST= UPDATE HIVT_COLAREA_SAMNO_CONFIG_MST SET  GNUM_IS_VALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

loincMst.main.0=SELECT a.hivstr_loinc_string||'^'||a.hivstr_loinc_string||'^'|| b.gstr_test_name ||'^'||INITCAP(c.gstr_sample_name)||'^'||INITCAP(d.hgstr_parameter)||'^'||INITCAP(e.gstr_uom) AS DATA FROM hivt_loinc_mapping_mst a ,hivt_test_mst b,hivt_sample_mst c,hivt_parameter_mst d,hivt_uom_mst e where b.gnum_isvalid=a.gnum_isvalid and c.gnum_isvalid=a.gnum_isvalid and d.gnum_isvalid=a.gnum_isvalid and e.gnum_isvalid=a.gnum_isvalid and a.gnum_isvalid=? and b.gnum_test_code=hivnum_test_code and  c.gnum_sample_code=a.hivnum_sample_code and d.hgnum_parameter_id=a.hivnum_parameter_code and e.gnum_uom_code=a.hivnum_uom_code 

SELECT_TEST.Loinc_Mst=select distinct a.gnum_test_code||'#'||b.gstr_test_type||'#'||b.hivstr_loinc_timing as testCode,b.gstr_test_name as testName from hivt_laboratory_test_mst a, hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.gnum_test_code and a.gnum_isvalid=? and a.gnum_hospital_code=? order by testName

SELECT.TEST_PARA.Loinc_Mst= select a.gnum_parameter_code||'#'||a.gstr_loinc_scale||'#'||a.gnum_parent_id as paraCode,INITCAP(b.hgstr_parameter) paraName from hivt_test_parameter_mst a,hivt_parameter_mst b where  b.hgnum_parameter_id=a.gnum_parameter_code and b.gnum_isvalid=b.gnum_isvalid and a.gnum_isvalid=? and  a.gnum_test_code=?

SELECT.SAMPLE_P_TYPE.Loinc_Mst=select distinct a.gnum_sample_code as sampleCode,INITCAP(b.gstr_sample_name) as sampleName from hivt_labtest_sample_mst a,hivt_sample_mst b where b.gnum_isvalid=a.gnum_isvalid and a.gnum_isvalid=? and b.gnum_sample_code=a.gnum_sample_code and a.gnum_test_code=? and  gnum_hospital_code=? order by sampleName 

SELECT.SAMPLE_S_TYPE.Loinc_Mst=select distinct a.gnum_sample_code||'#'||b.gst_loinc_system as sampleCode,INITCAP(b.gstr_sample_name) as sampleName from hivt_labtest_sample_mst a,hivt_sample_mst b where b.gnum_isvalid=a.gnum_isvalid and a.gnum_isvalid=? and b.gnum_sample_code=a.gnum_sample_code and a.gnum_test_code=? and  gnum_hospital_code=? order by sampleName

SELECT.UOM.Loinc_Mst=select gnum_uom_code||'#'||gstr_loinc_property as uomCode,INITCAP(gstr_uom) as uomName from hivt_uom_mst  where gnum_isvalid=? order by uomName

SEARCH_LOINC.Loinc_Mst=SELECT loinc_num as loincCode,component as componentName, property as property, time_aspct as tom,loinc_system as loincSystem,scale_typ as scale,nvl(method_typ,'-') as methodType from loinc where UPPER(component) like '%'||UPPER(?)||'%'::character varying  and UPPER(property) like '%'||UPPER(?)||'%'::character varying  and UPPER(scale_typ) like '%'||UPPER(?)||'%'::character varying and UPPER(time_aspct) like '%'||UPPER(?)||'%'::character varying and UPPER(loinc_system) like '%'||UPPER(?)||'%'::character varying

SEARCH_LOINC_BASED_ON_LOINC_NUM.Loinc_Mst=SELECT loinc_num as loincCode,component as componentName, property as property, time_aspct as tom,loinc_system as loincSystem,scale_typ as scale,nvl(method_typ,'-') as methodType from loinc where loinc_num=? 

SEARCH_LOINC_2.Loinc_Mst=SELECT loinc_num as loincCode,component as componentName, property as property, time_aspct as tom,loinc_system as loincSystem,scale_typ as scale,nvl(method_typ,'-') as methodType from loinc where UPPER(loinc_num) like '%'||UPPER(?)||'%'::character varying or UPPER(component) like '%'||UPPER(?)||'%'::character varying and loinc_num NOT IN (select hivstr_loinc_string from hivt_loinc_mapping_mst where gnum_isvalid=?) 

SAVE.Loinc_Mst=INSERT INTO hivt_loinc_mapping_mst(hivstr_loinc_string, hivnum_test_code, hivnum_parent_parameter_code,hivnum_parameter_code, hivnum_sample_code, hivnum_uom_code, hivnum_method_code, gdt_entry_date, gnum_seatid, gnum_isvalid, hivnum_organism_code) VALUES (?, ?, ?, ?, ?, ?, ?, SYSDATE, ?, ?, ?);

FETCH_MODIFY.Loinc_Mst=SELECT hivstr_loinc_string as loincValues, hivnum_test_code as testCode, hivnum_parent_parameter_code as parentParaCode,hivnum_parameter_code as paraCode, hivnum_sample_code as sampleCode, hivnum_uom_code as uomCode, hivnum_method_code as methodName,hivnum_organism_code FROM hivt_loinc_mapping_mst where gnum_isvalid=? and  hivstr_loinc_string=?

FETCH_CODE_NAME.Loinc_Mst=select (select gstr_test_name from hivt_test_mst where gnum_isvalid=? and gnum_test_code=?) as testName,(select gnum_test_code||'#'||gstr_test_type||'#'||hivstr_loinc_timing from hivt_test_mst where gnum_isvalid=? and  gnum_test_code=?) as testCode,(select gnum_sample_code||'#'||gst_loinc_system from hivt_sample_mst where gnum_isvalid=? and gnum_sample_code=?) as sampleCode,(select gnum_uom_code||'#'||gstr_loinc_property from hivt_uom_mst where gnum_isvalid=? and gnum_uom_code=?) as uomCode,(select gnum_parameter_code||'#'||gstr_loinc_scale||'#'||gnum_parent_id from hivt_test_parameter_mst where gnum_isvalid=? and gnum_parameter_code=? and gnum_test_code=?) as paraCode,(select gstr_sample_name from hivt_sample_mst where gnum_isvalid=? and gnum_sample_code=? ) as sampleName,(select gstr_uom from hivt_uom_mst where gnum_isvalid=? and gnum_uom_code=?) as uomName,(select hgstr_parameter from hivt_parameter_mst where gnum_isvalid=? and hgnum_parameter_id=?) as paraName from dual

SELECT_TEST_NAME.Loinc_Mst=select gstr_test_name as testName from hivt_test_mst where gnum_isvalid=? and gnum_test_code=?

UPDATE_SAVE.Loinc_Mst=UPDATE hivt_loinc_mapping_mst SET  hivnum_test_code=?, hivnum_parent_parameter_code=?, hivnum_parameter_code=?, hivnum_sample_code=?, hivnum_uom_code=?, hivnum_method_code=?,gnum_isvalid=?,gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=?, hivnum_organism_code=? WHERE gnum_isvalid=? and hivstr_loinc_string=?

MODIFY_SAVE.Loinc_Mst=UPDATE hivt_loinc_mapping_mst SET hivstr_loinc_string=?,gdt_lstmod_date=SYSDATE, gnum_lstmod_seatid=? WHERE gnum_isvalid=? and hivnum_test_code=? and hivnum_parameter_code=? and hivnum_sample_code=? and hivnum_uom_code=?
CHECK_DELETED_DATA.Loinc_Mst=SELECT count(hivstr_loinc_string) FROM hivt_loinc_mapping_mst where gnum_isvalid=? and hivstr_loinc_string=?

CHECK_DUPLICATE.Loinc_Mst=SELECT count(hivstr_loinc_string) FROM hivt_loinc_mapping_mst where gnum_isvalid=? and hivstr_loinc_string=?
CHECK_DUPLICATE_2.Loinc_Mst=SELECT count(hivstr_loinc_string) FROM hivt_loinc_mapping_mst where gnum_isvalid=? and hivnum_test_code=? and hivnum_parameter_code=? and hivnum_sample_code=? and hivnum_uom_code=? 

DELETE.Loinc_Mst=UPDATE HIVT_LOINC_MAPPING_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.Loinc_Mst.Cond=gnum_isvalid=1 and hivstr_loinc_string=?

VIEW.Loinc_Mst=select a.hivstr_loinc_string,(select  gstr_test_name  from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.hivnum_test_code),(select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.hivnum_sample_code ),(select INITCAP(gstr_uom) from hivt_uom_mst where gnum_isvalid=1 and gnum_uom_code=a.hivnum_uom_code),(select INITCAP(hgstr_parameter) from hivt_parameter_mst where gnum_isvalid=1 and hgnum_parameter_id=a.hivnum_parameter_code) from hivt_loinc_mapping_mst a where a.gnum_isvalid=1 and a.hivstr_loinc_string=? 

SELECT_METHOD.Loinc_Mst=select distinct gstr_test_method from hivt_laboratory_test_mst where gnum_isvalid=? and gnum_test_code=? and gnum_hospital_code=?
 	                              
	                              

INSERT.HIVT_TEST_MAND_REF_VAL_MST   =INSERT INTO HIVT_TEST_MAND_REF_VAL_MST(gnum_test_code, gnum_parameter_code, hgnum_seq_no,gnum_hospital_code,gstr_gender_code, hgnum_low_age,hgnum_high_age,hgstr_low_age_uom,hgstr_high_age_uom,hgstr_low_value,hgstr_high_value,hgstr_low_value_uom,hgstr_high_value_uom,hgstr_symbol,hgstr_remarks,hgstr_range_value,hgstr_range_value_uom,gnum_range_type, gnum_isvalid, gnum_seat_id, gdt_entry_date,gnum_lab_code,gnum_sample_code,hgnum_mand_code) VALUES (?,?,(Select NVL(MAX(hgnum_seq_no),0)+1 from HIVT_TEST_MAND_REF_VAL_MST where gnum_test_code\=? and gnum_parameter_code\=? and gnum_hospital_code\=?), ?, ?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?, SYSDATE,?,?,?)


SELECT.HIVT_TEST_MAND_REF_VAL_MST= SELECT  hgstr_range_value as range,hgstr_range_value_uom as rangeUom,gnum_range_type as rangeTyp,gnum_test_code as testCode,gnum_parameter_code as parameterCode, hgnum_seq_no as seqNo, gstr_gender_code as gender,hgnum_low_age as lowAge, hgnum_high_age as highAge, hgstr_low_age_uom as lowAgeUom, hgstr_high_age_uom as highAgeUom, hgstr_low_value as lowValue, hgstr_high_value as highValue,  hgstr_low_value_uom as lowValueUom, hgstr_high_value_uom as highValueUom, hgstr_symbol as symbol, INITCAP(hgstr_remarks) as remarks, gnum_lab_code as labCode, gnum_sample_code as sampleCode, hgnum_mand_code as mandCode FROM HIVT_TEST_MAND_REF_VAL_MST WHERE gnum_isvalid=1 and  gnum_test_code=? and gnum_parameter_code=? and gnum_hospital_code=? and gnum_range_type=?
	
	 
UPDATE.HIVT_TEST_MAND_REF_VAL_MST= UPDATE HIVT_TEST_MAND_REF_VAL_MST SET  gstr_gender_code=?, hgnum_low_age=?,hgnum_high_age=?,hgstr_low_age_uom=?,hgstr_high_age_uom=?,hgstr_low_value=?,hgstr_high_value=?,hgstr_low_value_uom=?,hgstr_high_value_uom=?,hgstr_symbol=?,hgstr_remarks=?, hgstr_range_value=?,hgstr_range_value_uom=?,gnum_range_type=?,gnum_isvalid=?,gnum_lab_code=?,gnum_sample_code=?,hgnum_mand_code=?, gdt_lstmod_date=SYSDATE,GNUM_LSTMOD_SEATID =?   WHERE gnum_isvalid=1 and  hgnum_seq_no=? and gnum_test_code=? and gnum_parameter_code=? and gnum_hospital_code=?
             
                            
CHECKDUPLICATE.HIVT_TEST_MAND_REF_VAL_MST=SELECT  *  FROM HIVT_TEST_MAND_REF_VAL_MST where GNUM_ISVALID=? and gnum_test_code=? and gnum_parameter_code=? and gnum_hospital_code=?

SELECT.TEST_COMBO.HIVT_TEST_MAND_REF_VAL_MST=select gnum_test_code as testCode, gstr_test_name  as testName from hivt_test_mst where gnum_isvalid=1 order by gstr_test_name

SELECT.TESTPARA_COMBO.HIVT_TEST_MAND_REF_VAL_MST=Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from HIVT_TEST_PARAMETER_MST A where gnum_isvalid=1

SELECT.PARAMETER_COMBO_TEST.HIVT_TEST_MAND_REF_VAL_MST= Select GNUM_PARAMETER_CODE, (Select INITCAP(HGSTR_PARAMETER) from HIVT_PARAMETER_MST where GNUM_ISVALID=1 and HGNUM_PARAMETER_ID = A.GNUM_PARAMETER_CODE)  from HIVT_TEST_PARAMETER_MST A where gnum_isvalid=1 and gnum_test_code=?
                                            
DELETE.TESTMANDREF.HIVT_TEST_MAND_REF_VAL_MST= UPDATE HIVT_TEST_MAND_REF_VAL_MST SET  GNUM_ISVALID='0', GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE.TESTMANDREF.HIVT_TEST_MAND_REF_VAL_MST.COND.0 = gnum_isvalid=1 and  gnum_test_code=? and gnum_parameter_code=?  and gnum_hospital_code=? and gnum_range_type=?


 testmandrefMst.main.0 = SELECT distinct(TC.gnum_test_code||'@'||TC.gnum_parameter_code||'@'||TC.gnum_hospital_code||'@'||(TC.gnum_range_type)||'^'|| T.gstr_test_name ||'^'||INITCAP(P.hgstr_parameter)) AS DATA FROM HIVT_TEST_MAND_REF_VAL_MST TC , HIVT_TEST_MST T, HIVT_PARAMETER_MST P WHERE TC.GNUM_ISVALID \= ? and  T.GNUM_ISVALID \= 1 and P.GNUM_ISVALID \= 1 AND TC.gnum_test_code\=T.gnum_test_code and TC.gnum_parameter_code\=P.hgnum_parameter_id and TC.gnum_hospital_code\=?
 

 select.testmandref.view.2 = SELECT (Select  gstr_test_name  from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.gnum_test_code),(Select INITCAP(hgstr_parameter) from HIVT_PARAMETER_MST where gnum_isvalid=1 and hgnum_parameter_id=a.gnum_parameter_code)  FROM HIVT_TEST_MAND_REF_VAL_MST a  	WHERE GNUM_ISVALID = 1 and 	 a.gnum_test_code=? and a.gnum_parameter_code=?  and a.gnum_hospital_code=? and gnum_range_type=?

FETCH_CRITERIACODE.HIVT_TEST_MAND_REF_VAL_MST= SELECT gnum_criteria_code from hivt_test_parameter_mst where gnum_isvalid=1 and gnum_test_code=? and gnum_parameter_code=?

SELECT.LAB_COMBO_TEST.HIVT_TEST_MAND_REF_VAL_MST=select gnum_labcode, pkg_inv_fun.fun_lab_name(gnum_labcode,gnum_hospital_code) from hivt_laboratory_test_mst a where gnum_isvalid=1 and gnum_test_code=? and gnum_hospital_code=? order by pkg_inv_fun.fun_lab_name(gnum_labcode,gnum_hospital_code)

SELECT.SAMPLE_COMBO_TEST.HIVT_TEST_MAND_REF_VAL_MST=select distinct(gnum_sample_code), (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code) from hivt_labtest_sample_mst a where gnum_isvalid=1 and gnum_test_code=? and gnum_hospital_code=? order by (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code)

SELECT.LAB_COMBO_FILTER_TEST.HIVT_TEST_MAND_REF_VAL_MST=select gnum_labcode, pkg_inv_fun.fun_lab_name(gnum_labcode,gnum_hospital_code) from hivt_laboratory_test_mst a where gnum_isvalid=1 and gnum_test_code=? and gnum_hospital_code=? and gnum_labcode not in (select gnum_lab_code from hivt_test_mand_ref_val_mst where gnum_isvalid=1 and gnum_test_code=? and gnum_lab_code is not null and gnum_hospital_code=?) order by pkg_inv_fun.fun_lab_name(gnum_labcode,gnum_hospital_code)

SELECT.SAMPLE_COMBO_FILTER_TEST.HIVT_TEST_MAND_REF_VAL_MST=select distinct(gnum_sample_code), (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code) from hivt_labtest_sample_mst a where gnum_isvalid=1 and gnum_test_code=? and gnum_hospital_code=? and gnum_sample_code not in (select gnum_sample_code from hivt_test_mand_ref_val_mst where gnum_isvalid=1 and gnum_test_code=? and gnum_sample_code is not null and gnum_hospital_code=?) order by (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code)

SELECT.LAB_SAMPLE_COMBO_TEST.HIVT_TEST_MAND_REF_VAL_MST=select gnum_sample_code, (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code) from hivt_labtest_sample_mst a where gnum_isvalid=1 and gnum_test_code=? and gnum_hospital_code=? and gnum_lab_code=? and gnum_sample_code not in (select gnum_sample_code from hivt_test_mand_ref_val_mst where gnum_isvalid=1 and gnum_test_code=? and gnum_lab_code=? and gnum_sample_code is not null and gnum_hospital_code=?) order by (select INITCAP(gstr_sample_name) from hivt_sample_mst where gnum_isvalid=1 and gnum_sample_code=a.gnum_sample_code)

SELECT.MAND_COMBO_TEST.HIVT_TEST_MAND_REF_VAL_MST= select hgnum_mand_code, INITCAP(hgstr_mandatory_name) from hivt_mandatory_mst where gnum_isvalid=1

SELECT.OLD_SEQ_NO.HIVT_TEST_MAND_REF_VAL_MST=select hgnum_seq_no from HIVT_TEST_MAND_REF_VAL_MST where gnum_isvalid=1 and gnum_test_code=? and gnum_parameter_code=?

DELETE_GNUM.HIVT_TEST_MAND_REF_VAL_MST= UPDATE HIVT_TEST_MAND_REF_VAL_MST SET  GNUM_ISVALID='0', GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ? where gnum_isvalid=1 and  gnum_test_code=? and gnum_parameter_code=? and hgnum_seq_no=? and gnum_hospital_code=?

SELECT.LOINC_SCALE.TEST_PARAMETER_MST=select distinct(scale_typ) as loincScale,scale_typ from loinc order by scale_typ

DELETE_LAB_TEST_SAMPLE_TEST.Lab_Configrator_Mst=UPDATE hivt_labtest_sample_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_lab_code=? and gnum_test_code=? and gnum_hospital_code=?
 
DELETE_TEST_MANDATORY_TEST.Lab_Configrator_Mst=UPDATE hivt_test_mandatory_mst SET gnum_isvalid=?,gdt_lstmod_date=SYSDATE,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_test_code=? and gnum_hospital_code=?

SELECT.TEMPLATE_DATA.TEST_PARAMETER_DETAIL = SELECT LEVEL,view1.parameterCode,view1.testparametername,testparametercode,parentid,criteriacode,testvaluetype,decode(objectid,'B','label','E','textBox','H','textArea','D','select','I','queryValue','J','button','L','imagesection','Z','listBox','P','autocomplete','A','HyperLink','C','CheckBox', 'S', 'SnomedCT'),functionName,objEvent,property,isparameternamedisplayed,labelAlignment,elementAlignment,isPrintable,queryCode,buttonName,callUrl, defaultValue,hyperName FROM (SELECT (Select hgstr_parameter from hivt_parameter_mst where gnum_isvalid\=1and hgnum_parameter_id\=a.gnum_parameter_code ) AS testparametername,a.gnum_test_code || a.gnum_parameter_code as parameterCode,a.gnum_test_code || a.gnum_parameter_code as testparametercode,a.gstr_element_type objectid, a.gnum_parent_id AS parent, a.gnum_criteria_code AS criteriacode, a.gnum_arrange_as AS testvaluetype,DECODE(a.GNUM_PARENT_ID,(concat(a.gnum_test_code,a.gnum_parameter_code)),NULL,a.GNUM_PARENT_ID) AS parentid,hivtnum_event_func as functionName,HIVTNUM_OBJEVENT AS objEvent,a.HIVSTR_ELEMENT_PROPERTY as property,hivnum_paraname_displayaslabel AS isparameternamedisplayed,hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlignment,HIVT_NUM_ELEMENT_SEQUENCE as se,a.GNUM_ISPRINTABLE as isPrintable,a.HIVTSTR_QUERY as queryCode,HIVTSTR_BUTTON_NAME as buttonName,(select hivstr_url from hivt_test_parameter_url_mst where gnum_isvalid\=1 and hivnum_url_code\=a.hivtstr_call_url) as callUrl, HIVTSTR_DEFAULT_VALUE as defaultValue,hivstr_hyper_name as hyperName FROM HIVT_TEST_PARAMETER_MST a WHERE  a.gnum_test_code \= ? AND a.GNUM_ISVALID\=1 order by a.HIVT_NUM_ELEMENT_SEQUENCE) view1 CONNECT BY PRIOR view1.parameterCode\=view1.parentid START WITH view1.parentid IS NULL  order by se
		
				
    
# added by harshita    ADD.Lab_Test_Local_mst=insert into hivt_laboratory_test_mst(gnum_test_code,gnum_labcode,gnum_test_days,gnum_numof_test,gnum_is_test_available,gnum_isvalid,gbl_is_appointment, gdt_entry_date,gnum_seat_id,gnum_ismultisession,gnum_is_mandatory_req,gnum_isrequisitionform_needed,gnum_is_sample_form_needed,gnum_gender_bound,gnum_age_bound, gnum_low_age_range,gnum_high_age_range,gnum_issecure_printing,hivstr_header_text,gbl_is_grossing_required,gnum_hospital_code,hivstr_footer_text,gnum_is_film_required, hivtnum_isconsent,gstr_test_method,gnum_isconfidential,hivtnum_test_printing_type,hivtnum_printing_template_id,hivt_report_available_after,gnum_user_test_code,gstr_desk_properties,HMINUM_MACHINE_ID,gstr_instruction_pat,gstr_instruction_coll,gstr_instruction_post,gstr_instruction_tech,gnum_is_nabl_accredited_test,gnum_preference_order) values(?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\t
ADD.Lab_Test_Local_mst=insert into hivt_laboratory_test_mst(gnum_test_code,gnum_labcode,gnum_test_days,gnum_numof_test,gnum_is_test_available,gnum_isvalid,gbl_is_appointment, gdt_entry_date,gnum_seat_id,gnum_ismultisession,gnum_is_mandatory_req,gnum_isrequisitionform_needed,gnum_is_sample_form_needed,gnum_gender_bound,gnum_age_bound, gnum_low_age_range,gnum_high_age_range,gnum_issecure_printing,hivstr_header_text,gbl_is_grossing_required,gnum_hospital_code,hivstr_footer_text,gnum_is_film_required, hivtnum_isconsent,gstr_test_method,gnum_isconfidential,hivtnum_test_printing_type,hivtnum_printing_template_id,hivt_report_available_after,gnum_user_test_code,gstr_desk_properties,HMINUM_MACHINE_ID,gstr_instruction_pat,gstr_instruction_coll,gstr_instruction_post,gstr_instruction_tech,gnum_ispidshow,gnum_is_nabl_accredited_test,gnum_preference_order) values(?,?,?,?,?,?,?,SYSDATE,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\t                  
		
 
 
# added by harshita UPDATE.DUPLICATE_DATA.Lab_Test_Local_Mst=update hivt_laboratory_test_mst set gnum_user_test_code\=?,gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_seat_id\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?,gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gnum_isvalid\=? ,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?,gnum_preference_order\=?  where gnum_isvalid\=? and gnum_hospital_code\=? and gnum_test_code\=? and gnum_labcode\=?
UPDATE.DUPLICATE_DATA.Lab_Test_Local_Mst=update hivt_laboratory_test_mst set gnum_user_test_code\=?,gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_seat_id\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?,gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gnum_isvalid\=? ,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?,gnum_preference_order\=?,gnum_ispidshow\=?  where gnum_isvalid\=? and gnum_hospital_code\=? and gnum_test_code\=? and gnum_labcode\=?
 
 VIEW.Lab_Test_Local_Mst=select INITCAP(b.gstr_lab_name) as labName, c.gstr_test_name  as testName,UPPER(gnum_user_test_code) as userTestCode, a.gnum_numof_test as noOfTest,DECODE(a.gnum_is_test_available,'1','Yes','0','No') as isTestAvailable,DECODE(a.gbl_is_appointment,'1','Yes','0','No') as isAppointment,DECODE(a.gnum_ismultisession,'1','Yes','0','No') as isMultisession, DECODE(a.gnum_is_mandatory_req,'1','Yes','0','No') as isMandatoryReq,DECODE(a.gnum_isrequisitionform_needed,'1','Yes','0','No') as isRequisitionFormNeeded,DECODE(a.gnum_is_sample_form_needed,'1','Yes','0','No') as isSampleFormNeeded,DECODE(a.gnum_gender_bound,'1','Male','0','No','2','Female') as genderBound,DECODE(a.gnum_issecure_printing,'1','Yes','0','No') as isSecurePrinting,DECODE(a.gbl_is_grossing_required,'1','Yes','0','No') as isGrossingReq,DECODE(a.gnum_is_film_required,'1','Yes','0','No') as isFilmReq,DECODE(a.hivtnum_isconsent,'1','Yes','0','No') as isConsent,a.gstr_test_method as testMethod,DECODE(a.gnum_isconfidential,'1','Yes','0','No') as isConfidential,DECODE(hivtnum_test_printing_type,'0','Without Standard Rage','1','With Standard Rage','2','Special Printing') as testPrintingType,DECODE(hivt_report_available_after,'1','Result Entry','2','Result Validation','3','Result Re Validation') as reportAvailableAfter from hivt_laboratory_test_mst a,hivt_laboratory_mst b,hivt_test_mst c where a.gnum_isvalid\=1 and a.gnum_labcode\=? and a.gnum_test_code\=? and a.gnum_hospital_code\=? and b.gnum_lab_code\=a.gnum_labcode and c.gnum_test_code\=a.gnum_test_code and b.gnum_isvalid\=a.gnum_isvalid and c.gnum_isvalid\=a.gnum_isvalid  
 						  
 						  
  # added by harshita MODIFY.Lab_Test_Local_mst= select gnum_preference_order as preferenceOrder,gnum_is_nabl_accredited_test as isNablAccritedTest,gnum_test_code as testCode,UPPER(gnum_user_test_code) as userTestCode,gnum_labcode as labCode,gnum_test_days as testDays,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gdt_entry_date as entryDate,gnum_ismultisession as isMultisession,gnum_is_mandatory_req as isMandatoryReq,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_is_sample_form_needed as isSampleFormNeeded, gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential, hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech, from hivt_laboratory_test_mst where gnum_isvalid\=1 and  gnum_labcode\=? and gnum_test_code\=?and gnum_hospital_code\=? 
  
   MODIFY.Lab_Test_Local_mst= select gnum_preference_order as preferenceOrder,gnum_is_nabl_accredited_test as isNablAccritedTest,gnum_test_code as testCode,UPPER(gnum_user_test_code) as userTestCode,gnum_labcode as labCode,gnum_test_days as testDays,gnum_numof_test as noOfTest,gnum_is_test_available as isTestAvailable,gbl_is_appointment as isAppointment,gdt_entry_date as entryDate,gnum_ismultisession as isMultisession,gnum_is_mandatory_req as isMandatoryReq,gnum_isrequisitionform_needed as isRequisitionFormNeeded,gnum_is_sample_form_needed as isSampleFormNeeded, gnum_gender_bound as genderBound,gnum_age_bound as ageBound,gnum_low_age_range as lowAgeRange,gnum_high_age_range as highAgeRange,gnum_issecure_printing as isSecurePrinting,gbl_is_grossing_required as isGrossingReq,gnum_is_film_required as isFilmReq,hivtnum_isconsent as isConsent,gstr_test_method as testMethod,gnum_isconfidential as isConfidential, hivtnum_test_printing_type as testPrintingType,hivtnum_printing_template_id as printingTemplateId,hivt_report_available_after as reportAvailableAfter,gstr_desk_properties as deskProperties,HMINUM_MACHINE_ID as machineId,gstr_instruction_pat as instructionPat,gstr_instruction_coll as instructionColl,gstr_instruction_post as instructionPost,gstr_instruction_tech as instructionTech,gnum_ispidshow as IsPID from hivt_laboratory_test_mst where gnum_isvalid\=1 and  gnum_labcode\=? and gnum_test_code\=?and gnum_hospital_code\=? 
       
      
 
   # added by harshita MODIFY.SAVE.Lab_Test_Local_mst=update hivt_laboratory_test_mst SET gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?, gdt_lstmod_date\=SYSDATE,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_lstmod_seatid\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?, gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gnum_user_test_code\=?,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?,gnum_preference_order\=? where  gnum_isvalid\=1  and gnum_hospital_code \=? and  gnum_test_code\=? and gnum_labcode\=?
    
        MODIFY.SAVE.Lab_Test_Local_mst=update hivt_laboratory_test_mst SET gstr_test_method\=?,gnum_test_days\=?,gnum_numof_test\=?,gnum_is_test_available\=?,gbl_is_appointment\=?,gnum_ismultisession\=?,gnum_is_mandatory_req\=?,gnum_isrequisitionform_needed\=?, gdt_lstmod_date\=SYSDATE,gnum_is_sample_form_needed\=?,gnum_gender_bound\=?,gnum_age_bound\=?,gnum_lstmod_seatid\=?,gnum_low_age_range\=?,gnum_high_age_range\=?,gnum_issecure_printing\=?,hivstr_header_text\=?, gbl_is_grossing_required\=?,hivstr_footer_text\=?,gnum_is_film_required\=?,hivtnum_isconsent\=?,gnum_isconfidential\=?,hivtnum_test_printing_type\=?,hivtnum_printing_template_id\=?,hivt_report_available_after\=?,gnum_user_test_code\=?,gstr_desk_properties\=?,HMINUM_MACHINE_ID\=?,gstr_instruction_pat\=?,gstr_instruction_coll\=?,gstr_instruction_post\=?,gstr_instruction_tech\=?,gnum_is_nabl_accredited_test\=?,gnum_preference_order\=?,gnum_ispidshow\=?  where  gnum_isvalid\=1  and gnum_hospital_code \=? and  gnum_test_code\=? and gnum_labcode\=?
    
 CHECK_DUPLICATE_DATA.Lab_Test_Local_Mst=select count(*) as count from hivt_laboratory_test_mst where ((gnum_isvalid=? and gnum_labcode=? and gnum_test_code=? and gnum_hospital_code=?) or (gnum_isvalid=1 and gnum_user_test_code=?))


CHECK_DUPLICATE_USERTESTCODE.Lab_Test_Local_Mst= select gnum_user_test_code from hivt_laboratory_test_mst where gnum_isvalid=1 and gnum_hospital_code=? and UPPER(gnum_user_test_code)=UPPER(?)


CHECK_DUPLICATE_USERTESTCODE_ON_MODIFY.Lab_Test_Local_Mst= select gnum_user_test_code from hivt_laboratory_test_mst where gnum_isvalid\=1 and gnum_hospital_code\=? and UPPER(gnum_user_test_code)\=UPPER(?) and gnum_labcode<>? and gnum_test_code<>?  

SELECT.MACHINE_NAME_GLOBAL=	select HMINUM_MACHINE_ID as machineId,  HMISTR_MACHINE_NAME  as machineName from HMIT_MACHINE_MST m where gnum_isvalid=1 and gnum_hospital_code=? and exists (select 1 from hivt_laboratory_mst where gnum_lab_code=? and gnum_location_code=m.gnum_location_code and gnum_hospital_code=m.gnum_hospital_code) order by machineName 
   
   
SELECT.MACHINE_ID.HMIT_MACHINE_MST=SELECT NVL(max(hminum_machine_id)+1,100001) from hmit_machine_mst where gnum_hospital_code=?


INSERT.HMIT_MACHINE_MST=INSERT INTO hmit_machine_mst(\
            			hminum_machine_id, gnum_hospital_code, hmistr_machine_name, \
            		 hmistr_status, \
            			hminum_communication_flag, hminum_format_id, gnum_isvalid, gnum_seat_id, \
            			gdt_entry_date, hminum_machine_recordid, hminum_machine_reqid, \
            			hminum_resultvalidation_mode, hminum_nodays_archival, gnum_location_code) \
    								VALUES (?, ?, ?, \
    										 ?, \
            								?, ?, ?, ?, \
            								SYSDATE, (TO_NUMBER(TO_CHAR(SYSDATE,'YYMM')||'000000'))+1, (TO_NUMBER(TO_CHAR(SYSDATE,'YYMM')||'000000'))+1, \
            								?, ?, ?)

CHECKDUPLICATE.HMIT_MACHINE_MST=SELECT hmistr_machine_name FROM HMIT_MACHINE_MST WHERE  GNUM_ISVALID=?  and UPPER(hmistr_machine_name)=UPPER(?)

CHECKDUPLICITY_MODIFY.HMIT_MACHINE_MST  =SELECT count(*) from HMIT_MACHINE_MST where GNUM_ISVALID=? and UPPER(hmistr_machine_name)=UPPER(?) and hminum_machine_id <> ?

SELECT.DATAFORMAT.HMIT_DATAFORMAT_MST=select hminum_format_id as format, hmistr_format_name as formatName from hmit_dataformat_mst where gnum_isvalid=1 and gnum_hospital_code=? order by hmistr_format_name

SELECT.COMMFLAG.HMIT_COMMUNICATION_FLAG_MST=select hminum_communication_flag as commPort, hmistr_communication_name as commPortName from hmit_communication_flag_mst where gnum_isvalid=1 and gnum_hospital_code=? order by hmistr_communication_name

SELECT.LOCATION.HGBT_LOCATION_MST=select hgnum_location_code as locationCode,INITCAP(hgstr_description) as locationName from hgbt_location_mst where gnum_isvalid=1 and gnum_hospital_code=? order by INITCAP(hgstr_description)

INSERT.HMIT_MACHINE_COMMPORT_DTL=	INSERT INTO hmit_machine_comport_dtl(\
        						    hminum_machine_id, hminum_communication_flag, gnum_hospital_code,\
        						    hminum_comport_flag, hminum_defulat_mode, hminum_baud_rate, hminum_byte_size,\
        						    hminum_parity, hminum_stop_bit, hminum_rtimeout, hminum_wtimeout, \
     						        hminum_flowcontrol, hminum_fparity, gnum_isvalid, gnum_seat_id, \
     						        gdt_entry_date)\
  											  VALUES (?, ?, ?,?, ?, ?, ?, ?, ?, ?, ?,?, ?, ?, ?, SYSDATE);

  											  
SELECT_MACHINE_DETAILS.HMIT_MACHINE_MST=select hmistr_machine_name as machineName,gnum_location_code as locationCode, hmistr_status as status,hminum_communication_flag as commFlag,hminum_format_id as format,hminum_resultvalidation_mode as validationType,hminum_nodays_archival as archivalDays from hmit_machine_mst where gnum_isvalid=1 and hminum_machine_id=? and gnum_hospital_code=?

SELECT_MACHINE_COMMPORT_DETAILS.HMIT_MACHINE_COMMPORT_DTL=select hminum_communication_flag as commFlag, hminum_comport_flag, hminum_default_mode as defaultMode, hminum_baud_rate as baudRate,hminum_byte_size as byteSize, hminum_parity as parity, hminum_stop_bit as stopBit,hminum_rtimeout as readTimeOut,hminum_wtimeout as writeTimeOut, hminum_flowcontrol as flowControl, hminum_fparity as flowParity from hmit_machine_commport_dtl where gnum_isvalid\=1 and hminum_machine_id\=? and gnum_hospital_code\=?
															
															
 machineMst.main.0 = SELECT hminum_machine_id||'@'||gnum_hospital_code||'^'||hmistr_machine_name||'^'||(select hmistr_format_name from hmit_dataformat_mst where hminum_format_id\=a.hminum_format_id and gnum_hospital_code\=a.gnum_hospital_code )  AS DATA FROM HMIT_MACHINE_MST a WHERE GNUM_ISVALID \= ? and gnum_hospital_code\=?
 			       	 
  select.machine.view.2 = SELECT hmistr_machine_name,(select hmistr_format_name from hmit_dataformat_mst where hminum_format_id\=a.hminum_format_id and gnum_hospital_code\=a.gnum_hospital_code ) FROM hmit_machine_mst a WHERE gnum_isvalid\=1 and hminum_machine_id\=?\tand gnum_hospital_code\=?\t
 			       		 
DELETE.MACHINE.HMIT_MACHINE_MST= UPDATE HMIT_MACHINE_MST SET GNUM_ISVALID='0'

DELETE.MACHINE.HMIT_MACHINE_MST.COND.0 = gnum_isvalid=1 and hminum_machine_id=? and gnum_hospital_code=? 	       	 
 			       	 
 			       	 
SELECT.MACHINE.COMMPORT=SELECT hmm.hminum_machine_id as machineCode, hmm.hmistr_machine_name as machineName, hmm.gnum_location_code as locationCode,hmm.hmistr_status as status, hmm.hminum_communication_flag as commFlag, hmm.hminum_format_id as format,hmcd.hminum_comport_flag as commPortFlag, hmcd.hminum_defulat_mode as defaultModep,hmcd.hminum_baud_rate as baudRate, hmcd.hminum_byte_size as byteSize, hmcd.hminum_parity as parity,hmcd.hminum_stop_bit as stopBit, hmcd.hminum_rtimeout as readTimeOut, hmcd.hminum_wtimeout as writeTimeOut,hmcd.hminum_flowcontrol as flowControl, hmcd.hminum_fparity as flowParity,HMINUM_RESULTVALIDATION_MODE as validationType,HMINUM_NODAYS_ARCHIVAL as archivalDays FROM hmit_machine_mst hmm, hmit_machine_comport_dtl hmcd  WHERE hmm.hminum_machine_id \= ?   AND hmm.gnum_hospital_code \= ? AND hmm.hminum_machine_id \= hmcd.hminum_machine_id  AND hmm.gnum_hospital_code \= hmcd.gnum_hospital_code  AND hmm.gnum_isvalid \= 1 and hmcd.gnum_isvalid\=1\t order by hmcd.hminum_comport_flag

DYNAMIC.SELECT.TEST.LIST = select gstr_test_name, gnum_test_code from hivt_test_mst where gnum_isvalid = 1 and gnum_isdynamic_template = 1
 DYNAMIC.SELECT.EXISTING.LIST = SELECT  hivt_dynamictemplate_id, hivt_template_name, hivnum_sl_no, hivtnum_grouptest, gnum_hospital_code, gnum_lab_code, hgnum_group_code, gnum_test_code FROM hivt_printing_template WHERE gnum_isvalid = 1 
 DYNAMIC.SELECT.SEQID = SELECT NVL (MAX (hivt_dynamictemplate_id), 1000) + 1 FROM hivt_printing_template
 DYNAMIC.SELECT.TEMPLATE = SELECT hivtstr_template_xml FROM hivt_printing_template where hivt_dynamictemplate_id=?
 
 DYNAMIC.INSERT.NEWTEMPLATE = INSERT INTO hivt_printing_template( \
          					  hivt_dynamictemplate_id, hivt_template_name, hivtnum_header_height, hivtnum_header_width, hivtnum_footer_height, hivtnum_footer_width, \
           					  hivtstr_page_size, hivtnum_is_header_req, hivtnum_is_footer_req, \
            				  gnum_isvalid, hivtstr_template_xml) \
    						  VALUES (?, ?, ?, ?, ?, ?, ?, ?,  ?, ?, ?)

DYNAMIC.UPDATE.TESTMST = UPDATE hivt_test_mst SET gnum_dynamictemplate_id=? WHERE gnum_test_code = ? and gnum_isvalid=1
DYNAMIC.TESTTEMPLATE.STATUS =SELECT gnum_isdynamic_template, gnum_dynamictemplate_id FROM hivt_test_mst WHERE gnum_test_code = ? and gnum_isvalid = 1
DYNAMIC.TESTTEMPLATE.STATUS.REQUISITION_FORM =SELECT gnum_isdynamic_template, gnum_dynamictemplate_id FROM hivt_laboratory_test_mst WHERE gnum_test_code = ? and gnum_labcode = ? and gnum_isvalid = 1 and gnum_hospital_code=100

DYNAMIC.GET.TESTTEMPLATE = SELECT hivtstr_template_xml  FROM hivt_printing_template WHERE hivt_dynamictemplate_id=? and gnum_isvalid=1
DYNAMIC.SELECT.TEMPLATE.TESTDETAILS = SELECT gnum_test_code, gstr_test_name  from hivt_test_mst where gnum_isvalid = 1 and gnum_isdynamic_template = 1 and gnum_dynamictemplate_id = ?						 
DYNAMIC.UPDATE.NEWTEMPLATE = UPDATE hivt_printing_template SET hivt_template_name = ?, hivtstr_template_xml = ? where hivt_dynamictemplate_id = ? and gnum_isvalid = 1
DYNAMIC.SELECT.GROUP.TEST.LIST = select hgstr_group_name, hgnum_group_code, gnum_hospital_code,  pkg_inv_fun.fun_hospital_name(gnum_hospital_code) from hivt_test_group_mst where gnum_isvalid = 1 and gnum_isdynamic_template = 1
DYNAMIC.SELECT.EXIST.TEMPLATE = select hivnum_sl_no from hivt_printing_template where hivt_dynamictemplate_id = ? and gnum_isvalid = 1
DYNAMIC.SELECT.TESTS.FOR.GROUP = select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code) from hivt_test_group_info_mst where hgnum_group_code=? and gnum_hospital_code = ? and gnum_is_valid=1
DYNAMIC.GROUPTEMPLATE.STATUS =  SELECT gnum_isdynamic_template, gnum_dynamictemplate_id FROM hivt_test_group_info_mst WHERE hgnum_group_code = ? and gnum_hospital_code = ? and gnum_lab_code = ? and gnum_is_valid = 1 LIMIT 1						  
DYNAMIC.SELECT.TEMPLATE.GROUPDETAILS = select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code), pkg_inv_fun.getgroupname(hgnum_group_code , gnum_hospital_code), pkg_inv_fun.fun_hospital_name(gnum_hospital_code) from hivt_test_group_info_mst where gnum_dynamictemplate_id = ? and gnum_hospital_code = ? and gnum_isdynamic_template = 1 and gnum_is_valid=1





TemplateMst.main=SELECT hivt_dynamictemplate_id||'^'||INITCAP(hivt_template_name)||'^' AS DATA  FROM hivt_printing_template where gnum_isvalid=?
DELETE.Template_Mst.COND=hivt_dynamictemplate_id=?
VIEW.TemplateMst=select INITCAP(hivt_template_name) from hivt_printing_template where gnum_isvalid=1 and hivt_dynamictemplate_id=?
CHECK_DUPLICATE_TEMPLATE_NAME.Template_Mst= select count(hivt_dynamictemplate_id) from hivt_printing_template where hivt_template_name=? 
CHECK_DUPLICATE_TEMPLATE_NAME.Template_Mst_Save=select count(*) from hivt_printing_template where hivt_template_name=? and gnum_isvalid=?
CHECK_DUPLICATE_TEMPLATE_NAME_MODIFY.Template_Mst=select count(hivt_dynamictemplate_id) from hivt_printing_template where hivt_template_name=? and gnum_isvalid=?
SAVE.TemplateMst=insert into hivt_printing_template(hivt_dynamictemplate_id,hivnum_sl_no,gnum_isvalid,hdt_entry_date,hivt_template_name,hivtnum_grouptest) values((select nvl(max(hivt_dynamictemplate_id),1000)+1 from hivt_printing_template),1,?,SYSDATE,?,2)
SELECT.MODIFY.Template_Mst=select INITCAP(hivt_template_name) as templateName,hivt_dynamictemplate_id as templateCode from hivt_printing_template where gnum_isvalid=? and hivt_dynamictemplate_id=?
SAVE.MODIFY.Template_Mst=update hivt_printing_template set hivt_template_name=? where gnum_isvalid=? and hivt_dynamictemplate_id=?
UPDATE.DUP.Deleted.Template_Mst=update hivt_printing_template set hivt_template_name=?,hdt_entry_date=SYSDATE,gnum_isvalid=? where gnum_isvalid=? and hivt_template_name=?




    						 
    			
    			
CHECKPRIMARYKEY.HMIT_MACHINE_COMMPORT_MST=select count(*) from hmit_machine_comport_dtl	where hminum_machine_id=? and gnum_hospital_code=? and hminum_comport_flag=? and hminum_communication_flag=?		 


UPDATE.HMIT_MACHINE_MST=update hmit_machine_mst set hmistr_machine_name=? ,hmistr_status=? , hminum_communication_flag=? ,hminum_format_id=? , gnum_isvalid=? , gnum_seat_id=? , hminum_resultvalidation_mode=? , hminum_nodays_archival=? , gnum_location_code=? where gnum_isvalid= 1 and hminum_machine_id=? and gnum_hospital_code=?

UPDATE.HMIT_MACHINE_COMMPORT_DTL=update hmit_machine_comport_dtl set hminum_defulat_mode=? , hminum_baud_rate=? ,hminum_byte_size=? ,hminum_parity=? ,hminum_stop_bit=? , hminum_rtimeout=? , hminum_wtimeout=? , hminum_flowcontrol=? , hminum_fparity=? , gnum_isvalid=? , gnum_seat_id=? where gnum_isvalid=1 and hminum_machine_id=? and hminum_communication_flag=? and gnum_hospital_code=? and hminum_comport_flag=?


DELETE_VALID.HMIT_MACHINE_COMPORT_MST=update hmit_machine_comport_dtl set gnum_isvalid=0 where gnum_isvalid=1 and hminum_machine_id=?  and gnum_hospital_code=? and hminum_comport_flag=?

SELECT.MACHINE_TEST_PARAMETER_MST.MACHINE_COMBO=select HMINUM_MACHINE_ID as machineCode,  HMISTR_MACHINE_NAME  as machineName from HMIT_MACHINE_MST where gnum_isvalid=1 and gnum_hospital_code=? order by machineName

SELECT.MACHINE_TEST_PARAMETER_MST.TEST_COMBO=SELECT gnum_test_code as testCode, gstr_test_name  as testName FROM  hivt_test_mst WHERE GNUM_ISVALID=1 order by gstr_test_name

SELECT_DISPLAYDATA.MACHINE_TEST_PARAMETER_MST= select  gnum_parameter_code as parameterCode,(select hgstr_parameter from hivt_parameter_mst a where gnum_isvalid\=1 and a.hgnum_parameter_id\=b.gnum_parameter_code) as parameterName from hivt_test_parameter_mst b where gnum_isvalid\=1 and gnum_test_code\=? and gnum_parameter_code not in ( Select hmistr_hmis_testpara_code from hmit_machine_testpara_mst c where hminum_machine_id \=? and hminum_hmis_test_code\=b.gnum_test_code AND gnum_isvalid\=1 and b.gnum_parameter_code\=c.hmistr_hmis_testpara_code)
											
MACHINE_TEST_PARAMETER_MST.MAIN.0 =SELECT MTP.hminum_machine_id||'@'||MTP.hminum_hmis_test_code||'@'||MTP.hminum_slno||'@'||MTP.gnum_hospital_code||'^'|| INITCAP(M.hmistr_machine_name)||'^'||INITCAP(T.gstr_test_name) ||'^'||INITCAP(P.hgstr_parameter) ||'^'||INITCAP(MTP.hmistr_machine_test_code) AS DATA FROM HMIT_MACHINE_MST M, HIVT_TEST_MST T,  HIVT_PARAMETER_MST P, HMIT_MACHINE_TESTPARA_MST MTP WHERE  M.GNUM_ISVALID \= 1  and  T.GNUM_ISVALID \= 1 and P.GNUM_ISVALID \= 1 AND MTP.GNUM_ISVALID\=1 AND T.gnum_test_code\=MTP.hminum_hmis_test_code  and M.hminum_machine_id\=MTP.hminum_machine_id AND HMISTR_HMIS_TESTPARA_CODE\=P.HGNUM_PARAMETER_ID AND MTP.GNUM_HOSPITAL_CODE\=M.GNUM_HOSPITAL_CODE AND MTP.GNUM_HOSPITAL_CODE\=?
									 
DELETE.MACHINETESTPARA.HMIT_MACHINE_TESTPARA_MST= UPDATE HMIT_MACHINE_TESTPARA_MST SET  GNUM_ISVALID='0', GDT_ENTRY_DATE=SYSDATE, GNUM_SEAT_ID = ?

DELETE.MACHINETESTPARA.HMIT_MACHINE_TESTPARA_MST.COND.0 = gnum_isvalid=1 and hminum_machine_id=? and hminum_hmis_test_code=? and hminum_slno=? and gnum_hospital_code=? 

INSERT.HMIT_MACHINE_TESTPARA_MST=INSERT INTO HMIT_MACHINE_TESTPARA_MST(hminum_machine_id,hminum_hmis_test_code,hmistr_hmis_testpara_code,hmistr_machine_test_code,hmistr_machine_testpara_name, hminum_slno,gnum_hospital_code,gnum_isvalid, gnum_seat_id, gdt_entry_date,hbnum_para_count) VALUES (?,?,?,?,?,(Select NVL(MAX(hminum_slno),0)+1 from HMIT_MACHINE_TESTPARA_MST where hminum_machine_id\=? and hminum_hmis_test_code\=? ), ?, ?,?, SYSDATE,?)

SELECT.MACHINETESTPARAMST.VIEW= SELECT (Select  hmistr_machine_name  from HMIT_MACHINE_MST a where gnum_isvalid\=1 and hminum_machine_id\=MTP.hminum_machine_id and gnum_hospital_code\=MTP.gnum_hospital_code), (Select INITCAP(gstr_test_name) from HIVT_TEST_MST where gnum_isvalid\=1 and gnum_test_code\=MTP.hminum_hmis_test_code), (select hgstr_parameter from hivt_parameter_mst a where gnum_isvalid\=1 and a.hgnum_parameter_id\=MTP.hmistr_hmis_testpara_code), INITCAP(MTP.hmistr_machine_testpara_name) FROM HMIT_MACHINE_TESTPARA_MST MTP WHERE GNUM_ISVALID \= 1 and hminum_machine_id\=? and hminum_hmis_test_code\=? and hminum_slno\=? and gnum_hospital_code\=? 


SELECT.HMIT_MACHINE_TEST_PARA_MST=select hmistr_hmis_testpara_code as parameterCode , (select hgstr_parameter from hivt_parameter_mst where hgnum_parameter_id=mst.hmistr_hmis_testpara_code and gnum_isvalid=1 ) as parameterName,hmistr_machine_test_code as machineParameterCode, NVL(hmistr_machine_testpara_name,'') as machineParameterName from hmit_machine_testpara_mst mst where gnum_isvalid=1 and gnum_hospital_code=? and hminum_machine_id=? and hminum_hmis_test_code=?


UPDATE.HMIT_MACHINE_TESTPARA_MST=update hmit_machine_testpara_mst set hmistr_machine_test_code=? , hmistr_machine_testpara_name=? where gnum_isvalid=1 and hminum_machine_id=? and hmistr_hmis_testpara_code=? and hminum_hmis_test_code=? and gnum_hospital_code=?


UPDATE_TEMPLATE.HIVT_TEST_GROUP_INFO_MST=update HIVT_TEST_GROUP_INFO_MST set gdt_lstmod_date=SYSDATE ,GNUM_LSTMOD_SEATID = ? ,  gnum_isdynamic_template=?, gnum_isdynamicresultentry=?, gnum_dynamictemplate_id=? where gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?


SELECT.WARD_COMBO_ON_MODIFY.HIVT_COLLECTION_AREA_MST=select hipnum_ward_code as wardCode,INITCAP(hipstr_ward_name) as wardName from hipt_ward_mst where gnum_isvalid=1 and gnum_hospital_code=? and hipnum_ward_code not in (select hipnum_ward_code from hivt_collection_area_mst where gnum_collectionarea_type=2 and gnum_isvalid=1 and gnum_hospital_code=? and gnum_area_code<>? ) order by INITCAP(hipstr_ward_name)
SELECT.TEST_PRINTING_TEMPLATE_COMBO.HIVT_PRINTING_TEMPLATE=select hivt_dynamictemplate_id as printingTemplateCode, INITCAP(hivt_template_name) as printingTemplateName from hivt_printing_template where gnum_isvalid=1 and hivtnum_grouptest<>1  order by hivt_template_name
UPDATE_MODIFY_TEST.HIVT_PRINTING_TEMPLATE=update hivt_printing_template set gnum_test_code=?, hivtnum_grouptest=0 where gnum_isvalid=1  and hivt_dynamictemplate_id=?
UPDATE_NEW_TEST.HIVT_PRINTING_TEMPLATE=update hivt_printing_template set gnum_test_code=(SELECT NVL(max(gnum_test_code),10001) from hivt_test_mst), hivtnum_grouptest=0 where gnum_isvalid=1 and hivt_dynamictemplate_id=?
UPDATE_PRINTING_TEMPLATE.HIVT_PRINTING_TEMPLATE=update hivt_printing_template set gnum_hospital_code=?, gnum_lab_code=? , hgnum_group_code=? , hivtnum_grouptest=1 where gnum_isvalid=1 and hivt_dynamictemplate_id=?


SELECT.MAPPED.PRINTING_TEMPLATE_COMBO.HIVT_TEST_GROUP_INFO_MST=select hivt_dynamictemplate_id as printingTemplateCode,INITCAP(hivt_template_name) as printingTemplateName from hivt_printing_template  where gnum_isvalid=1 and gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?

INSERT_PRINTING_TEMPLATE_LOCAL.HIVT_PRINTING_TEMPLATE=insert into hivt_printing_template(hivt_dynamictemplate_id,hivnum_sl_no,gnum_isvalid,hdt_entry_date,hivt_template_name,hivtnum_grouptest,gnum_hospital_code,gnum_lab_code,hgnum_group_code) values((select nvl(max(hivt_dynamictemplate_id),1000)+1 from hivt_printing_template),(select nvl(max(hivnum_sl_no),0)+1 from hivt_printing_template where gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_lab_code\=? and hgnum_group_code\=? ),1,SYSDATE,(? ||  (select hivt_template_name from hivt_printing_template where gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_lab_code\=? and hgnum_group_code\=? )),1,?,?,?)
NEW_ENTRY_UPDATE_TEMPLATE.HIVT_TEST_GROUP_INFO_MST=update HIVT_TEST_GROUP_INFO_MST set gnum_is_valid=?,  gdt_lstmod_date=SYSDATE ,GNUM_LSTMOD_SEATID = ? ,  gnum_isdynamic_template=?, gnum_isdynamicresultentry=?, gnum_dynamictemplate_id=(select nvl(max(hivt_dynamictemplate_id),1000)+1 from hivt_printing_template)  where gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?

#new query for coll area wise sample no generation. fetch lab based on area
SELECT.UNMAPPED_LAB.HIVT_COLAREA_SAMNO_CONFIG_MST=Select gnum_lab_code, pkg_inv_fun.fun_lab_name(gnum_lab_code,gnum_hospital_code) as lab from hivt_lab_collection_area_mst lc where gnum_isvalid=1 and gnum_area_code=? and gnum_hospital_code=? and  gnum_lab_code not in (SELECT gnum_lab_code from HIVT_COLAREA_SAMNO_CONFIG_MST where gnum_is_valid=1 and gnum_area_code=? and gnum_pat_type=? and gnum_hospital_code=?) order by lab

#new query for coll area as area is compolsoury
 collareasamplenoconfigMst.main.0 = SELECT gnum_sq_no||'@'||LC.gnum_area_code||'@'||LC.gnum_hospital_code||'^'||decode(gnum_lab_code,'-1','-',(select INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid\=1 and gnum_lab_code\=lc.gnum_lab_code and gnum_hospital_code\=lc.gnum_hospital_code))||'^'||DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Both IPD/OPD')||'^'||INITCAP(gstr_area_name)||'^'||NVL(replace(hivtstr_sampleno_format,'&',''),'') AS DATA FROM HIVT_COLAREA_SAMNO_CONFIG_MST LC, HIVT_COLLECTION_AREA_MST L WHERE LC.GNUM_IS_VALID \= ? and L.gnum_isvalid\=1  AND LC.gnum_hospital_code\=L.gnum_hospital_code AND LC.gnum_hospital_code\=? and LC.GNUM_AREA_CODE\=L.GNUM_AREA_CODE
 
 select.collareasamplenoconfig.view.2 = SELECT  decode(gnum_lab_code,'-1','-',(select INITCAP(gstr_lab_name) from hivt_laboratory_mst where gnum_isvalid\=1 and gnum_lab_code\=lc.gnum_lab_code and gnum_hospital_code\=lc.gnum_hospital_code)),DECODE(gnum_pat_type,1,'IPD',2,'OPD',3,'Any') ,(Select INITCAP(gstr_area_name) from  HIVT_COLLECTION_AREA_MST where gnum_isvalid\=1 and gnum_area_code\=LC.gnum_area_code and gnum_hospital_code\=LC.gnum_hospital_code), DECODE(gnum_init_type,'m','Monthly','d','Daily','y','Yearly','w','Weekly','x','Same as Sample Number'),NVL(to_char(gnum_no_of_seq_digits),''),NVL(replace(hivtstr_sampleno_format,'&',''),''),NVL(to_char(gnum_from_series),''),NVL(to_char(gnum_to_series),'') FROM HIVT_COLAREA_SAMNO_CONFIG_MST LC WHERE gnum_is_valid\=1 and gnum_sq_no\=? and gnum_area_code\=? and gnum_hospital_code\=?\t
 
 DELETE.COLLAREASAMPLENOCONFIG.HIVT_COLAREA_SAMNO_CONFIG_MST.COND.0 = gnum_is_valid=1 and gnum_sq_no=? and gnum_area_code=? and gnum_hospital_code=?
 
 CHECKDUPLICATE.HIVT_COLAREA_SAMNO_CONFIG_MST=SELECT  gnum_lab_code  FROM HIVT_COLAREA_SAMNO_CONFIG_MST where GNUM_IS_VALID=? AND gnum_pat_type=? and gnum_lab_code=? and gnum_hospital_code=? and gnum_area_code=?
 
 UPDATE.HIVT_COLAREA_SAMNO_CONFIG_MST=UPDATE HIVT_COLAREA_SAMNO_CONFIG_MST SET hivstr_running_lab_no=null,gdt_initialization_date=SYSDATE, gnum_init_type=?,hivtstr_SAMPLENO_format=?,gnum_no_of_seq_digits=?,gnum_from_series=?,gnum_to_series=?, gnum_is_valid=?, gnum_lstmod_seatid=?, gdt_lstmod_date=SYSDATE WHERE  gnum_is_valid=1 and gnum_sq_no=? and gnum_area_code=? AND  gnum_hospital_code=?
 
 SELECT.HIVT_COLAREA_SAMNO_CONFIG_MST= SELECT  gnum_lab_code as labCode,gnum_area_code as areaCode,gnum_pat_type as patientType,gnum_init_type as initializationType ,hivtstr_SAMPLENO_format as sampleNoFormat,gnum_no_of_seq_digits as seqDigit,gnum_from_series as fromSeries,gnum_to_series as toSeries FROM HIVT_COLAREA_SAMNO_CONFIG_MST WHERE gnum_is_valid=1 and gnum_sq_no=? and gnum_area_code=? and gnum_hospital_code=?
 
 INSERT.HIVT_COLAREA_SAMNO_CONFIG_MST   =INSERT INTO HIVT_COLAREA_SAMNO_CONFIG_MST(gnum_lab_code,gnum_area_code,gnum_hospital_code,gnum_sq_no,gnum_pat_type,gnum_init_type,hivtstr_SAMPLENO_format,gnum_no_of_seq_digits,gnum_from_series,gnum_to_series, gnum_is_valid, gnum_seat_id, gdt_entry_date,gdt_initialization_date) VALUES (?,?,?,(Select NVL(MAX(gnum_sq_no),00)+1 from HIVT_COLAREA_SAMNO_CONFIG_MST where gnum_hospital_code\=? and gnum_area_code\=?),?,?,UPPER(?),?, ?, ?,?,?,SYSDATE,SYSDATE)

filmMst.main.0=select f.gnum_film_id||'@'||f.gnum_hospital_code||'@'||f.gnum_test_code||'@'||f.gnum_test_slno||'^'||INITCAP(t.gstr_test_name)||'^'||f.gstr_film_type||'^'||f.gnum_film_size_length||'^'||f.gnum_film_size_breadth as DATA from hivt_film_dtl_mst f,hivt_test_mst t where f.gnum_isvalid=1 and t.gnum_isvalid=1 and f.gnum_test_code=t.gnum_test_code

select.film.view.2=select (select INITCAP(gstr_test_name) from hivt_test_mst where gnum_isvalid=1 and gnum_test_code=a.gnum_test_code),gstr_film_type,gnum_film_size_length,gnum_film_size_breadth from hivt_film_dtl_mst a where gnum_film_id=? and gnum_hospital_code=? and gnum_test_code=? and gnum_test_slno=? 
  			       
SELECT.TESTNAME_COMBO.HIVT_TEST_MST=select gnum_test_code as testCode,INITCAP(gstr_test_name) as testName from hivt_test_mst where gnum_isvalid=1 and gstr_test_type='P' order by gstr_test_name 	       
                            
SELECT.ITEMNAME_COMBO.HSTT_ITEM_MST=select hstnum_item_id as itemid,hststr_item_name as itemname from hstt_item_mst  where gnum_isvalid=? and gnum_hospital_code=? order by hststr_item_name

SELECT.ITEM_TYPE.HIVT_ITEMTYPE_MST=select hbnum_itemtype_code as itemid,hgstr_itemtype_name as itemname from HIVT_ITEMTYPE_MST  where gnum_isvalid=?  order by hgstr_itemtype_name

SELECT.STORENAME_COMBO.HSTT_STORE_MST=select hstnum_store_id as storeid,hststr_store_name as storename from hstt_store_mst where gnum_isvalid=? and gnum_hospital_code=? order by hststr_store_name
      
INSERT.HIVT_FILM_DETAIL_MST=insert into hivt_film_dtl_mst(gnum_film_id,gnum_hospital_code,gnum_test_code,gnum_test_slno,gstr_film_type,gnum_film_size_length,gnum_film_size_breadth,gnum_no_of_films_required,hstnum_item_id,gstr_remarks,gnum_isvalid,hstnum_store_id,gnum_seatid,gdt_entry_date) values ((SELECT NVL(max(gnum_film_id)+1,100)from hivt_film_dtl_mst),?,?,(Select NVL(MAX(gnum_test_slno),00)+1 from hivt_film_dtl_mst where gnum_hospital_code=? and gnum_test_code=?),?,?,?,?,?,?,?,?,?,SYSDATE)

CHECKDUPLICATE.HIVT_FILM_DETAIL_MST=select count(*) from hivt_film_dtl_mst where gnum_hospital_code=?  and gnum_test_code=? and gnum_isvalid=? and gnum_film_size_length=? and gnum_film_size_breadth=?
      
CHECKMODIFYDUPLICATE.HIVT_FILM_DETAIL_MST=select count(*) from hivt_film_dtl_mst where gnum_hospital_code=?  and gnum_test_code=? and gnum_isvalid=? and gnum_film_size_length=? and gnum_film_size_breadth=? and  gnum_film_id<>?    
      
DELETE.FILM.HIVT_FILM_DETAIL_MST=update hivt_film_dtl_mst set gnum_isvalid='0',gdt_lstmod_date=SYSDATE

DELETE.FILM.HIVT_FILM_DETAIL_MST.COND.0= gnum_film_id=? and gnum_hospital_code=? and gnum_test_code=? and gnum_test_slno=? and gnum_isvalid=1

DELETE.ITEM.HIVT_OTHER_ITEM_MST=update hivt_other_item_mst set gnum_isvalid='0' 

DELETE.ITEM.HIVT_OTHER_ITEM_MST.COND.0=hbnum_other_item_code=?

SELECT.HIVT_FILM_MST=select gnum_test_code as testCode,gstr_film_type as filmType,gnum_film_size_length as filmSizeLength,gnum_film_size_breadth as filmSizeBreadth,hstnum_item_id as itemStoreId,gnum_no_of_films_required as noOfFilmReqd,gstr_remarks as remarks,hstnum_store_id as storeid from hivt_film_dtl_mst where gnum_isvalid=? and gnum_test_code=? and gnum_film_id=? and gnum_test_slno=? and gnum_hospital_code=?

UPDATE.HIVT_FILM_DTL_MST=update hivt_film_dtl_mst set gdt_lstmod_date=sysdate,gstr_film_type=?,gnum_film_size_length=?,gnum_film_size_breadth=?,gnum_no_of_films_required=?,hstnum_store_id=?,hstnum_item_id=?,gstr_remarks=?,gnum_lstmod_seatid=? where gnum_isvalid=? and gnum_hospital_code=? and gnum_test_code=? and gnum_film_id=?

//new query for local test group info master 

CHECKUSERGROUPCODE.HIVT_TEST_GROUP_INFO_MST=SELECT  count(*) FROM HIVT_TEST_GROUP_INFO_MST where gnum_is_valid=1 and gnum_hospital_code=? and gnum_lab_code<>? and hgnum_group_code<>? and UPPER(gstr_user_group_code)=UPPER(?)
UPDATE_TEMPLATE.HIVT_TEST_GROUP_INFO_MST_LOCAL=update HIVT_TEST_GROUP_INFO_MST set gdt_lstmod_date=SYSDATE ,GNUM_LSTMOD_SEATID = ? ,  gnum_isdynamic_template=?, gnum_isdynamicresultentry=?, gnum_dynamictemplate_id=?,gstr_user_group_code=? where gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=? 
NEW_ENTRY_UPDATE_TEMPLATE.HIVT_TEST_GROUP_INFO_MST_LOCAL=update HIVT_TEST_GROUP_INFO_MST set gnum_is_valid=?,  gdt_lstmod_date=SYSDATE ,GNUM_LSTMOD_SEATID = ? ,  gnum_isdynamic_template=?, gnum_isdynamicresultentry=?, gnum_dynamictemplate_id=(select nvl(max(hivt_dynamictemplate_id),1000)+1 from hivt_printing_template),gstr_user_group_code=?  where gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?
INSERT_PRINTING_TEMPLATE_LOCAL.HIVT_PRINTING_TEMPLATE_LOCAL=insert into hivt_printing_template(hivt_dynamictemplate_id,hivnum_sl_no,gnum_isvalid,hdt_entry_date,hivt_template_name,hivtnum_grouptest,gnum_hospital_code,gnum_lab_code,hgnum_group_code,gstr_user_group_code) values((select nvl(max(hivt_dynamictemplate_id),1000)+1 from hivt_printing_template),(select nvl(max(hivnum_sl_no),0)+1 from hivt_printing_template where gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_lab_code\=? and hgnum_group_code\=? ),1,SYSDATE,(? ||  (select hivt_template_name from hivt_printing_template where gnum_isvalid\=1 and gnum_hospital_code\=? and gnum_lab_code\=? and hgnum_group_code\=? )),1,?,?,?,?)
INSERT.HIVT_TEST_GROUP_INFO_MST_LOCAL   =INSERT INTO HIVT_TEST_GROUP_INFO_MST(gnum_test_code,gnum_hospital_code,hgnum_group_code,gnum_lab_code,gnum_is_valid,gnum_isdynamic_template,gnum_isdynamicresultentry,gnum_dynamictemplate_id, gnum_seat_id, gdt_entry_date,gnum_test_seq_no,gstr_user_group_code) \
                            VALUES (?,?,?,?,?,?,?,?,?,SYSDATE,?,?)
UPDATE_VALID.HIVT_TEST_GROUP_INFO_MST_LOCAL=UPDATE HIVT_TEST_GROUP_INFO_MST SET gnum_is_valid=?,  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ?,gnum_test_seq_no=?,gstr_user_group_code=? WHERE gnum_test_code=? AND  gnum_hospital_code=? and gnum_lab_code=? and hgnum_group_code=?

SELECT.COMPLETE.HIVT_OTHER_ITEM_MST=select hivnum_unit as uomCode, hbnum_other_item_code as otherItemID,hbstr_item_name as itemName,hbnum_default_qty as defaultQuantity,hbnum_item_type as itemType,hstnum_item_id as itemIdFromStore FROM hivt_other_item_mst where hbnum_other_item_code=? and gnum_hospital_code=? and gnum_seat_id=? and gnum_isvalid=?

INSERT.HIVT_OTHER_ITEM_MST=INSERT into HIVT_OTHER_ITEM_MST ( hbnum_default_qty, hstnum_item_id,hbstr_item_name,hbnum_item_type,hivnum_unit,hbnum_other_item_code,gnum_hospital_code,gnum_seat_id,gnum_isvalid,gdt_entry_date) VALUES(?,?,?,?,?,?,?,?,?,SYSDATE)


SELECT.HIVT_OTHER_ITEM_MST.MAX_KEY=SELECT NVL(MAX(HBNUM_OTHER_ITEM_CODE)+1,0) as otherItemID from hivt_other_item_mst WHERE GNUM_HOSPITAL_CODE=?

UPDATE.HIVT_OTHER_ITEM_MST=Update HIVT_OTHER_ITEM_MST SET hbnum_default_qty=?, hstnum_item_id=?,hbstr_item_name=?,hbnum_item_type=?,hivnum_unit=? where hbnum_other_item_code=? and gnum_hospital_code=? and gnum_seat_id=? and gnum_isvalid=?

ItemUsesDetailMst.main.0=Select hbnum_other_item_code ||'@'|| hbnum_slno||'@'|| gnum_hospital_code||'@'||hbstr_lot_no||'^'||INITCAP(hbstr_item_name)||'^'||INITCAP(hbstr_manufacture)||'^'||INITCAP(hbstr_lot_no)||'^'||hbstr_remark AS DATA from hivt_item_uses_dtl where gnum_hospital_code=? and gnum_isvalid=?


DELETE.HIVT_ITEM_USES_DTL.ITEM=update hivt_item_uses_dtl set gnum_isvalid=0 
DELETE.HIVT_ITEM_USES_DTL.ITEM.COND0= hbnum_other_item_code=? and hbnum_slno=? and gnum_hospital_code=? and hbstr_lot_no=? 

SELECT.COMPLETE.HIVT_ITEM_USES_DTL=select hbstr_item_name as itemName ,hbstr_lot_no as lotNo, HBNUM_ITEM_TYPE  AS   itemType ,hbnum_other_item_code as itemID,hststr_batch_no as batchNo ,HBSTR_MANUFACTURE  AS  manufacture,TO_CHAR(HBDT_EXPIRY_DATE,'DD-MON-YYYY') AS    expiryDate,HBNUM_USES_STAUTS  AS  usage,TO_CHAR(HBDT_USES_START_DATE,'DD-MON-YYYY') AS usageStartDate,TO_CHAR(HBDT_USES_END_DATE,'DD-MON-YYYY') AS usageEndDate,HBSTR_REMARK    AS   remarks,HSTNUM_STORE_ID    AS   storeId,HSTNUM_ITEM_ID     AS  itemIdFromStore,hbnum_entry_mode as entry FROM  HIVT_ITEM_USES_DTL WHERE  hbnum_other_item_code=? and hbnum_slno=? and gnum_hospital_code=? and hbstr_lot_no=? 

SELECT.ITEM_USES_DTL.VIEW=SELECT INITCAP(hbstr_item_name)  ,INITCAP(hbstr_lot_no)   FROM HIVT_ITEM_USES_DTL WHERE hbnum_other_item_code=? and hbnum_slno=? and gnum_hospital_code=? and hbstr_lot_no=? 

MODIFY.HIVT_ITEM_USES_DTL.ALL=update hivt_item_uses_dtl set hbnum_other_item_code=?,hstnum_item_id=?,hbnum_entry_mode=?,hbstr_lot_no=?,hbstr_manufacture=?,hbdt_expiry_date=TO_DATE(?,'dd-Mon-yyyy'),hbdt_uses_start_date=TO_DATE(?,'dd-Mon-yyyy'),hbdt_uses_end_date=TO_DATE(?,'dd-Mon-yyyy'),hstnum_store_id=?,hbnum_uses_stauts=?,hbstr_remark=? ,hbstr_item_name=?  WHERE  hbnum_other_item_code=? and hbnum_slno=? and gnum_hospital_code=? and hbstr_lot_no=? 

INSERT.HIVT_ITEM_USES_DTL.ALL=INSERT INTO hivt_item_uses_dtl (hbnum_item_type, hstnum_item_id,hbnum_entry_mode,hbstr_lot_no,hbstr_manufacture,hbdt_expiry_date,hbdt_uses_start_date,hbdt_uses_end_date,hstnum_store_id,hbnum_uses_stauts,hbstr_remark, hbstr_item_name,hbnum_other_item_code, hbnum_slno, gnum_hospital_code,gnum_isvalid)VALUES(?,?,?,?,?,To_Date(?,'dd-Mon-yyyy'),To_Date(?,'dd-Mon-yyyy'),To_Date(?,'dd-Mon-yyyy'),?,?,?,?,?,(select nvl( max(hbnum_slno),0) from hivt_item_uses_dtl where hbnum_other_item_code=? and hbstr_lot_no=? and gnum_hospital_code=?)+1,?,?)

SELECT.NAME.HIVT_OTHER_ITEM_MST=select count(*) from HIVT_OTHER_ITEM_MST A where upper(hbstr_item_name)=upper(?) and hbnum_other_item_code NOT IN (?)  AND gnum_hospital_code=? and gnum_isvalid=?

SELECT.OTHER_ID.OTHER_ITEM_MST=select hbnum_other_item_code as itemCode ,hbstr_item_name as itemName from hivt_other_item_mst where gnum_hospital_code=? and gnum_isvalid=?  
 
SELECT.LOT_COUNT.HIVT_ITEM_USES_DTL=SELECT COUNT(*) as count FROM HIVT_ITEM_USES_DTL WHERE HBSTR_LOT_NO=? AND GNUM_ISVALID=? AND GNUM_HOSPITAL_CODE=?

SELECT.HSTT_ITEM_CURRSTOCK_DTL.ITEM_DETAIL=select hstnum_item_id||'#'||To_Char(hstdt_expiry_date,'dd-Mon-yyyy')||'#'||hststr_batch_no as itemId ,(select hststr_item_name from hstt_item_mst where hstnum_item_id=a.hstnum_item_id and gnum_isvalid=a.gnum_isvalid and gnum_hospital_code=?) as itemName from hstt_item_currstock_dtl a where gnum_hospital_code=? and gnum_isvalid=? and  hstnum_store_id=?

DELETE.HIVT_LABITEM_MST.MAPPING_DTL=update hivt_labItem_mst set gnum_isvalid=0 , gnum_seat_id=?
DELETE.HIVT_LABITEM_MST.MAPPING_DTL.COND0=hivnum_laboratory_code=? and gnum_hospital_code=? and hbnum_other_item_code=?

SELECT.HIVT_LABITEM_MST.MAPPING_ALL=select o.hivnum_laboratory_code||'@'|| o.gnum_hospital_code||'@'||o.hbnum_other_item_code||'^'||E.gstr_lab_name||'^'||(select hbstr_item_name from hivt_other_item_mst where hbnum_other_item_code=o.hbnum_other_item_code and gnum_hospital_code=? and gnum_isvalid=o.gnum_isvalid) AS DATA from hivt_labitem_mst o,hivt_laboratory_mst E where o.gnum_hospital_code=? and o.gnum_isvalid=? and E.gnum_lab_code=o.hivnum_laboratory_code and E.gnum_hospital_code=o.gnum_hospital_code and E.gnum_isvalid=o.gnum_isvalid

SELECT.HIVT_LAB_ITEM_MST.VIEW2= select (select gstr_lab_name as labName from hivt_laboratory_mst where gnum_lab_code=o.hivnum_laboratory_code and gnum_hospital_code=100 and gnum_isvalid=o.gnum_isvalid),(select hbstr_item_name from hivt_other_item_mst where hbnum_other_item_code=o.hbnum_other_item_code and gnum_hospital_code=100 and gnum_isvalid=o.gnum_isvalid) from hivt_labitem_mst o WHERE hivnum_laboratory_code=? and gnum_hospital_code=? and hbnum_other_item_code=?

SELECT.HIVT_LABITEM_MST.COMBO_LEFT=select hbnum_other_item_code as itemCode,hbstr_item_name as itemName from hivt_other_item_mst where gnum_hospital_code=? and gnum_isvalid=? and hbnum_other_item_code NOT IN (select hbnum_other_item_code from hivt_labitem_mst where hivnum_laboratory_code=? and gnum_isvalid=?)
SELECT.HIVT_LABITEM_MST.COMBO_RIGHT=select hbnum_other_item_code as itemCode,hbstr_item_name as itemName from hivt_other_item_mst where gnum_hospital_code=? and gnum_isvalid=? and hbnum_other_item_code  IN (select hbnum_other_item_code from hivt_labitem_mst where hivnum_laboratory_code=? and gnum_isvalid=?)

SELECT.HIVT_LABITEM_MST.DUPLICATE.COUNT=select count(*) from hivt_labitem_mst where hivnum_laboratory_code=? and  hbnum_other_item_code=? and gnum_hospital_code=? and gnum_isvalid=? 

UPATE.HIVT_LABITEM_MST.LIST=UPDATE hivt_labitem_mst SET gnum_isvalid=? where hivnum_laboratory_code=? and  hbnum_other_item_code=? and gnum_hospital_code=? and gnum_isvalid=?

INSERT.HIVT_LABITEM_MST.LIST=INSERT INTO hivt_labitem_mst (gnum_isvalid, hivnum_laboratory_code,hbnum_other_item_code, gnum_hospital_code ,gnum_seat_id,gdt_entry_date)VALUES(?,?,?,?,?,SYSDATE)


// query for antibiotic mst

organicMst.main.0=select f.hgnum_organism_code||'^'||INITCAP(f.hgstr_organism_name)||'^'||f.hivnum_display_order as DATA from hivt_organism_mst f  where f.gnum_isvalid=1

DELETE.ORGANIC.HIVT_ORGANISM_MST=update hivt_organism_mst  set gnum_isvalid='0',gdt_lstmod_date=SYSDATE

DELETE.ORGANIC.HIVT_ORGANISM_MST.COND.0= hgnum_organism_code=? and gnum_isvalid=1

select.organic.view.2=select  hgstr_organism_name,hivnum_display_order  from hivt_organism_mst a where hgnum_organism_code=? and gnum_isvalid=1

CHECKDUPLICATE.HIVT_ORGANISM_MST=select count(*) from hivt_organism_mst  where  gnum_isvalid=? and UPPER(hgstr_organism_name)=UPPER(?)

CHECKDUPLICATEORDER.HIVT_ORGANISM_MST=select count(*) from hivt_organism_mst  where  gnum_isvalid=? and hivnum_display_order=?

INSERT.HIVT_ORGANISM_MST=insert into hivt_organism_mst  (hgnum_organism_code,gnum_seat_id,gdt_entry_date,gnum_isvalid,hgstr_organism_name,hivnum_display_order) values ((SELECT NVL(max(hgnum_organism_code)+1,1000)from hivt_organism_mst  ),?,SYSDATE,?,?,?)

SELECT.HIVT_ORGANISM_MST=select hgnum_organism_code as organicNameCode,hgstr_organism_name as organicName,hivnum_display_order as organicNameOrder from hivt_organism_mst  where gnum_isvalid=? and hgnum_organism_code=? 

CHECKMODIFYDUPLICATE.HIVT_ORGANISML_MST=select count(*) from hivt_organism_mst  where gnum_isvalid=1 and UPPER(hgstr_organism_name)=UPPER(?)

CHECKMODIFYDUPLICATEORDER.HIVT_ORGANISML_MST=select count(*) from hivt_organism_mst  where  gnum_isvalid=1 and hivnum_display_order=?

UPDATE.HIVT_ORGANISM_MST=update hivt_organism_mst   set gdt_lstmod_date=sysdate,hgstr_organism_name=?,gnum_lstmod_seatid=?,hivnum_display_order=?  where gnum_isvalid=1 and hgnum_organism_code=?


//query for antibiotic mst
antibioticMst.main.0=select f.hgnum_antibiotic_code||'^'||INITCAP(f.hgstr_antibiotic_name)||'^'||f.hivnum_display_order as DATA from hivt_antibiotic_mst f  where f.gnum_isvalid=1

DELETE.ANTIBIOTIC.HIVT_ANTIBIOTIC_MST=update hivt_antibiotic_mst  set gnum_isvalid='0',gdt_lstmod_date=SYSDATE

DELETE.ANTIBIOTIC.HIVT_ANTIBIOTIC_MST.COND.0= hgnum_antibiotic_code=? and gnum_isvalid=1

select.ANTIBIOTIC.view.2=select  hgstr_antibiotic_name,hivnum_display_order  from hivt_antibiotic_mst a where hgnum_antibiotic_code=? and gnum_isvalid=1

CHECKDUPLICATE.HIVT_ANTIBIOTIC_MST=select count(*) from hivt_antibiotic_mst  where  gnum_isvalid=? and UPPER(hgstr_antibiotic_name)=UPPER(?)

CHECKDUPLICATEORDER.HIVT_ANTIBIOTIC_MST=select count(*) from hivt_antibiotic_mst  where  gnum_isvalid=? and hivnum_display_order=?

INSERT.HIVT_ANTIBIOTIC_MST=insert into hivt_antibiotic_mst  (hgnum_antibiotic_code,gnum_seat_id,gdt_entry_date,gnum_isvalid,hgstr_antibiotic_name,hivnum_display_order) values ((SELECT NVL(max(hgnum_antibiotic_code)+1,10000)from hivt_antibiotic_mst  ),?,SYSDATE,?,?,?)

SELECT.HIVT_ANTIBIOTIC_MST=select hgnum_antibiotic_code as antibioticNameCode,hgstr_antibiotic_name as antibioticName,hivnum_display_order as antibioticNameOrder from hivt_antibiotic_mst  where gnum_isvalid=? and hgnum_antibiotic_code=?

CHECKMODIFYDUPLICATE.HIVT_ANTIBIOTIC_MST=select count(*) from hivt_antibiotic_mst  where gnum_isvalid=1 and UPPER(hgstr_antibiotic_name)=UPPER(?)

CHECKMODIFYDUPLICATEORDER.HIVT_ANTIBIOTIC_MST=select count(*) from hivt_antibiotic_mst  where  gnum_isvalid=1 and hivnum_display_order=?

UPDATE.HIVT_ANTIBIOTIC_MST=update hivt_antibiotic_mst   set gdt_lstmod_date=sysdate,hgstr_antibiotic_name=?,gnum_lstmod_seatid=?,hivnum_display_order=?  where gnum_isvalid=1 and hgnum_antibiotic_code=?

//quert for organicantibioticmapping mst

SELECT.NAME_COMBO.HIVT_ORGANIC_MST=select  hgnum_organism_code as organicNameCode,INITCAP(hgstr_organism_name)as organicName from hivt_organism_mst where gnum_isvalid=1  order by hgnum_organism_code

SELECT.NAME_COMBO.HIVT_ANTIBIOTIC_MST=select  hgnum_antibiotic_code as antibioticNameCode,INITCAP(hgstr_antibiotic_name)as antibioticName from hivt_antibiotic_mst where gnum_isvalid=1  order by hgnum_antibiotic_code

SELECT_GLOBAL.LAB_UNMAPPED_COMBO.HIVT_ORGANISM_ANTIBIOTIC_MST=select  hgnum_antibiotic_code as antibioticNameCode,INITCAP(hgstr_antibiotic_name)as antibioticName from hivt_antibiotic_mst where gnum_isvalid=1 and hgnum_antibiotic_code NOT IN(select gnum_antibiotic_code from hivt_organism_antibiotic_mapping_mst where gnum_isvalid=1 and hgnum_organism_code=? and gnum_hospital_code=?) order by hgnum_antibiotic_code

SELECT_GLOBAL.LAB_MAPPED_COMBO.HIVT_ORGANISM_ANTIBIOTIC_MST=select  hgnum_antibiotic_code as antibioticNameCode,INITCAP(hgstr_antibiotic_name)as antibioticName from hivt_antibiotic_mst where gnum_isvalid=1 and hgnum_antibiotic_code IN(select gnum_antibiotic_code from hivt_organism_antibiotic_mapping_mst where gnum_isvalid=1 and hgnum_organism_code=? and gnum_hospital_code=?) order by hgnum_antibiotic_code

mapping.main.0 =SELECT LC.hgnum_organism_code||'@'||LC.gnum_antibiotic_code||'@'||LC.gnum_hospital_code||'^'||INITCAP(L.hgstr_organism_name)||'^'||INITCAP(C.hgstr_antibiotic_name) AS DATA FROM HIVT_ORGANISM_ANTIBIOTIC_MAPPING_MST LC, HIVT_antibiotic_MST C, HIVT_organism_MST L WHERE LC.GNUM_ISVALID \= 1 and C.gnum_isvalid\=1 AND L.gnum_isvalid\=1 AND LC.gnum_hospital_code\=33101  and LC.gnum_antibiotic_code\=C.hgnum_antibiotic_code and LC.hgnum_organism_code\=L.hgnum_organism_code

DELETE_GLOBAL.LABCANNED.HIVT_ORGANISM_ANTIBIOTIC_MST= UPDATE HIVT_ORGANISM_ANTIBIOTIC_MAPPING_MST SET  GNUM_ISVALID='0',GDT_LSTMOD_DATE=SYSDATE, GNUM_LSTMOD_SEATID = ?

DELETE_GLOBAL.LABCANNED.HIVT_ORGANISM_ANTIBIOTIC_MST.COND.0=  hgnum_organism_code=? and gnum_antibiotic_code=?   and gnum_hospital_code=? and gnum_isvalid=1

select.organism_antibiotic.view.2=Select distinct INITCAP((select x.hgstr_organism_name from hivt_organism_mst x where x.hgnum_organism_code=a.hgnum_organism_code)), INITCAP((select y.hgstr_antibiotic_name from hivt_antibiotic_mst y where y.hgnum_antibiotic_code=a.gnum_antibiotic_code)) FROM HIVT_ORGANISM_ANTIBIOTIC_MAPPING_MST a,HIVT_organism_MST b,HIVT_antibiotic_MST c WHERE b.gnum_isvalid=a.gnum_isvalid and c.gnum_isvalid=a.gnum_isvalid  and c.hgnum_antibiotic_code=a.gnum_antibiotic_code  and a.gnum_isvalid=1 and a.hgnum_organism_code=? and a.gnum_antibiotic_code=? and  a.gnum_hospital_code =?

CHECKPRIMARYKEY_GLOBAL.HIVT_ORGANISM_ANTIBIOTIC_MST=SELECT  count(*)  FROM hivt_organism_antibiotic_mapping_mst where hgnum_organism_code=? and gnum_hospital_code=? and gnum_antibiotic_code=?

INSERT_GLOBAL.hivt_organism_antibiotic_mapping_mst=INSERT INTO hivt_organism_antibiotic_mapping_mst(hivnum_preference_order,hgnum_organism_code,gnum_antibiotic_code,gnum_hospital_code, gnum_seat_id,gdt_entry_date,gnum_isvalid)\ VALUES (?,?,?,?,?,SYSDATE,?)    

UPDATE_VALID_GLOBAL.hivt_organism_antibiotic_mapping_mst=UPDATE hivt_organism_antibiotic_mapping_mst SET hivnum_preference_order=?,gnum_isvalid=?,  gdt_lstmod_date=SYSDATE, GNUM_LSTMOD_SEATID = ? WHERE hgnum_organism_code=? AND  gnum_hospital_code=? and gnum_antibiotic_code=?

DELETE_VALID_GLOBAL.hivt_organism_antibiotic_mapping_mst=UPDATE hivt_organism_antibiotic_mapping_mst SET gnum_isvalid='0',  gdt_lstmod_date=SYSDATE , GNUM_LSTMOD_SEATID = ? WHERE  gnum_isvalid=1 and hgnum_organism_code=? AND  gnum_hospital_code=? and gnum_antibiotic_code=?                            

SELECT_GLOBAL.LAB_COMBO.HIVT_ORGANISM_ANTIBIOTIC_MAPPING_MST=select  hgnum_antibiotic_code as antibioticNameCode,INITCAP(hgstr_antibiotic_name)as antibioticName from hivt_antibiotic_mst where gnum_isvalid=1 and hgnum_antibiotic_code NOT IN(select gnum_antibiotic_code from hivt_organism_antibiotic_mapping_mst where gnum_isvalid=1 and hgnum_organism_code=? and gnum_hospital_code=?) order by hgnum_antibiotic_code

//end


//test parameter mst
SELECT.URL_COMBO.HIVT_PARAMETER_URL_MST=select  hivnum_url_code as urlCode,hivstr_url_name as urlName from hivt_test_parameter_url_mst where gnum_isvalid=1                              

#test para mst department test - puneet
CHECKDUPLICATE.HIVT_DEPTTEST_PARAMETER_MST=SELECT  gnum_test_code ,gnum_parameter_code FROM hivt_depttest_parameter_mst where gnum_isvalid=1 AND gnum_test_code=? AND gnum_parameter_code=?

SELECT_CHECKTESTPARAMETERCODE.HIVT_DEPTTEST_PARAMETER_MST=SELECT gnum_test_code as tmpTestCode,  gnum_parameter_code paraCode  FROM hivt_depttest_parameter_mst
 
INSERT.HIVT_DEPTTEST_PARAMETER_MST=INSERT INTO hivt_depttest_parameter_mst(gnum_test_code, gstr_element_type, gnum_parameter_code, gnum_arrange_as,  \
                              gnum_isvalid, gdt_entry_date, gnum_seatid, gnum_parent_id,  \
                           gstr_remarks, gnum_criteria_code, gstr_function_name, \
                         hivtnum_objevent, hivtnum_event_func, hivstr_element_property, \
                             hivnum_paraname_displayaslabel, hivtstr_label_align, hivtstr_element_align,hivt_num_element_sequence, gnum_isprintable, hivtstr_query, hivtstr_button_name,hivtstr_call_url,gstr_loinc_scale, hivtstr_default_value,hivstr_hyper_name,hivstr_paratype) \
                              VALUES (?, ?, ?, ?,?,SYSDATE, ?, ?, ?, ?, ?,?, ?, ?,?, ?, ?,?, ?, ?, ?,?,?,?,?,?)
                              
                             
SELECT.TEMPLATE_DATA.DEPTTEST_PARAMETER_DETAIL = SELECT LEVEL,view1.parameterCode,view1.testparametername,testparametercode,parentid,criteriacode,testvaluetype,decode(objectid,'B','label','E','textBox','H','textArea','D','select','I','queryValue','J','button','L','imagesection','Z','listBox','P','autocomplete','A','HyperLink','C','CheckBox', 'S', 'SnomedCT'),functionName,objEvent,property,isparameternamedisplayed,labelAlignment,elementAlignment,isPrintable,queryCode,buttonName,callUrl, defaultValue,hyperName FROM (SELECT (Select hgstr_parameter from hivt_parameter_mst where gnum_isvalid\=1and hgnum_parameter_id\=a.gnum_parameter_code ) AS testparametername,a.gnum_test_code || a.gnum_parameter_code as parameterCode,a.gnum_test_code || a.gnum_parameter_code as testparametercode,a.gstr_element_type objectid, a.gnum_parent_id AS parent, a.gnum_criteria_code AS criteriacode, a.gnum_arrange_as AS testvaluetype,DECODE(a.GNUM_PARENT_ID,(concat(a.gnum_test_code,a.gnum_parameter_code)),NULL,a.GNUM_PARENT_ID) AS parentid,hivtnum_event_func as functionName,HIVTNUM_OBJEVENT AS objEvent,a.HIVSTR_ELEMENT_PROPERTY as property,hivnum_paraname_displayaslabel AS isparameternamedisplayed,hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlignment,HIVT_NUM_ELEMENT_SEQUENCE as se,a.GNUM_ISPRINTABLE as isPrintable,a.HIVTSTR_QUERY as queryCode,HIVTSTR_BUTTON_NAME as buttonName,HIVTSTR_CALL_URL as callUrl, HIVTSTR_DEFAULT_VALUE as defaultValue,hivstr_hyper_name as hyperName FROM HIVT_DEPTTEST_PARAMETER_MST a WHERE  a.gnum_test_code \= ? AND a.GNUM_ISVALID\=1 order by a.HIVT_NUM_ELEMENT_SEQUENCE) view1 CONNECT BY PRIOR view1.parameterCode\=view1.parentid START WITH view1.parentid IS NULL  order by se
DEPARTMENT.SELECT.TEMPLATE.GROUPDETAILS = select gnum_test_code, pkg_inv_fun.fun_test_name(gnum_test_code), pkg_inv_fun.getgroupname(hgnum_group_code , gnum_hospital_code), pkg_inv_fun.fun_hospital_name(gnum_hospital_code) from hivt_test_group_info_mst where gnum_depttemplate_id = ? and gnum_hospital_code = ? and gnum_isdept_template = 1 and gnum_is_valid=1
DEPARTMENT.SELECT.TEMPLATE.TESTDETAILS = SELECT gnum_test_code, gstr_test_name  from hivt_test_mst where gnum_isvalid = 1 and gnum_isdept_template = 1 and gnum_depttemplate_id = ?
SELECT.TEMPLATE_DATA.REQTEST_PARAMETER_DETAIL = SELECT LEVEL,view1.parameterCode,view1.testparametername,testparametercode,parentid,criteriacode,testvaluetype,decode(objectid,'B','label','E','textBox','H','textArea','D','select','I','queryValue','J','button','L','imagesection','Z','listBox','P','autocomplete','A','HyperLink','C','CheckBox', 'S', 'SnomedCT'),functionName,objEvent,property,isparameternamedisplayed,labelAlignment,elementAlignment,isPrintable,queryCode,buttonName,callUrl, defaultValue,hyperName FROM (SELECT (Select hgstr_parameter from hivt_parameter_mst where gnum_isvalid\=1and hgnum_parameter_id\=a.gnum_parameter_code ) AS testparametername,a.gnum_test_code || a.gnum_parameter_code as parameterCode,a.gnum_test_code || a.gnum_parameter_code as testparametercode,a.gstr_element_type objectid, a.gnum_parent_id AS parent, a.gnum_criteria_code AS criteriacode, a.gnum_arrange_as AS testvaluetype,DECODE(a.GNUM_PARENT_ID,(concat(a.gnum_test_code,a.gnum_parameter_code)),NULL,a.GNUM_PARENT_ID) AS parentid,hivtnum_event_func as functionName,HIVTNUM_OBJEVENT AS objEvent,a.HIVSTR_ELEMENT_PROPERTY as property,hivnum_paraname_displayaslabel AS isparameternamedisplayed,hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlignment,HIVT_NUM_ELEMENT_SEQUENCE as se,a.GNUM_ISPRINTABLE as isPrintable,a.HIVTSTR_QUERY as queryCode,HIVTSTR_BUTTON_NAME as buttonName,HIVTSTR_CALL_URL as callUrl, HIVTSTR_DEFAULT_VALUE as defaultValue,hivstr_hyper_name as hyperName FROM hivt_reqform_test_parameter_mst a WHERE  a.gnum_test_code \= ? AND a.GNUM_ISVALID\=1 order by a.HIVT_NUM_ELEMENT_SEQUENCE) view1 CONNECT BY PRIOR view1.parameterCode\=view1.parentid START WITH view1.parentid IS NULL  order by se

#DYNAMIC.GET.TESTTEMPLATE = SELECT hivtstr_template_xml  FROM hivt_printing_template WHERE hivt_dynamictemplate_id=? and gnum_isvalid=1

DYNAMIC.DEPTTESTTEMPLATE.STATUS =SELECT gnum_isdept_template, gnum_depttemplate_id FROM hivt_test_mst WHERE gnum_test_code = ? and gnum_isvalid = 1                 
# requisition form
INSERT.HIVT_REQFORM_TEST_PARAMETER_MST=INSERT INTO hivt_reqform_test_parameter_mst(gnum_test_code, gstr_element_type, gnum_parameter_code, gnum_arrange_as,  \
                              gnum_isvalid, gdt_entry_date, gnum_seatid, gnum_parent_id,  \
                           gstr_remarks, gnum_criteria_code, gstr_function_name, \
                         hivtnum_objevent, hivtnum_event_func, hivstr_element_property, \
                             hivnum_paraname_displayaslabel, hivtstr_label_align, hivtstr_element_align,hivt_num_element_sequence, gnum_isprintable, hivtstr_query, hivtstr_button_name,hivtstr_call_url,gstr_loinc_scale, hivtstr_default_value,hivstr_hyper_name,hivstr_paratype,hivnum_form_type,hivnum_mapped_test) \
                              VALUES (?, ?, ?, ?,?,SYSDATE, ?, ?, ?, ?, ?,?, ?, ?,?, ?, ?,?, ?, ?, ?,?,?,?,?,?,?,?)
  
  
CHECKDUPLICATE.HIVT_REQFORM_TEST_PARAMETER_MST=SELECT  gnum_test_code ,gnum_parameter_code FROM hivt_reqform_test_parameter_mst where gnum_isvalid=1 AND gnum_test_code=? AND gnum_parameter_code=?

SELECT_CHECKTESTPARAMETERCODE.HIVT_REQFORM_TEST_PARAMETER_MST=SELECT gnum_test_code as tmpTestCode,  gnum_parameter_code paraCode  FROM hivt_reqform_test_parameter_mst
 
UPDATE.HIVT_REQFORM_TEST_PARAMETER_MST=UPDATE hivt_reqform_test_parameter_mst  SET  hivnum_mapped_test\=?,gstr_element_type\=?,   gnum_arrange_as\=?,  gnum_parent_id\=?, gdt_lstmod_date\=SYSDATE, gnum_lstmod_seatid\=?,gnum_isvalid\=?, gstr_remarks\=?, gnum_criteria_code\=?, gstr_function_name\=?, hivtnum_objevent\=?, hivtnum_event_func\=?, hivstr_element_property\=?, hivnum_paraname_displayaslabel\=?, hivtstr_label_align\=?, hivtstr_element_align\=?, hivt_num_element_sequence\=?, gnum_isprintable\=?, hivtstr_query\=?, hivtstr_button_name\=?, hivtstr_call_url\=?,gstr_loinc_scale\=?, hivtstr_default_value\=?,hivstr_hyper_name\=? WHERE gnum_test_code\=? AND  gnum_parameter_code\=?
  
 SELECT.TEMPLATE_DATA.REQFORM_TEST_PARAMETER_MST= SELECT LEVEL,view1.parameterCode,view1.testparametername,testparametercode,parentid,criteriacode,testvaluetype,decode(objectid,'B','label','E','textBox','H','textArea','D','select','I','queryValue','J','button','L','imagesection','Z','listBox','P','autocomplete','A','HyperLink','C','CheckBox'),functionName,objEvent,property,isparameternamedisplayed,labelAlignment,elementAlignment,isPrintable,queryCode,buttonName,callUrl, defaultValue,hyperName FROM (SELECT (Select hgstr_parameter from hivt_parameter_mst where gnum_isvalid\=1and hgnum_parameter_id\=a.gnum_parameter_code ) AS testparametername,a.gnum_test_code || a.gnum_parameter_code as parameterCode,a.gnum_test_code || a.gnum_parameter_code as testparametercode,a.gstr_element_type objectid, a.gnum_parent_id AS parent, a.gnum_criteria_code AS criteriacode, a.gnum_arrange_as AS testvaluetype,DECODE(a.GNUM_PARENT_ID,(concat(a.gnum_test_code,a.gnum_parameter_code)),NULL,a.GNUM_PARENT_ID) AS parentid,hivtnum_event_func as functionName,HIVTNUM_OBJEVENT AS objEvent,a.HIVSTR_ELEMENT_PROPERTY as property,hivnum_paraname_displayaslabel AS isparameternamedisplayed,hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlignment,HIVT_NUM_ELEMENT_SEQUENCE as se,a.GNUM_ISPRINTABLE as isPrintable,a.HIVTSTR_QUERY as queryCode,HIVTSTR_BUTTON_NAME as buttonName,HIVTSTR_CALL_URL as callUrl, HIVTSTR_DEFAULT_VALUE as defaultValue,hivstr_hyper_name as hyperName FROM hivt_reqform_test_parameter_mst a WHERE  a.gnum_test_code \= ? AND a.GNUM_ISVALID\=1 order by a.HIVT_NUM_ELEMENT_SEQUENCE) view1 CONNECT BY PRIOR view1.parameterCode\=view1.parentid START WITH view1.parentid IS NULL  order by se


#DYNAMIC.GET.TESTTEMPLATE = SELECT hivtstr_template_xml  FROM hivt_printing_template WHERE hivt_dynamictemplate_id=? and gnum_isvalid=1                                


# addendum reason mst


AdddendumReasonMst.main.0=select f.hgnum_reason_code||'^'||INITCAP(f.gstr_reason) as DATA from hivt_addendum_reason_mst f  where f.gnum_isvalid=1

DELETE.ADDENDUM.HIVT_ADDENDUM_REASON_MST=update hivt_addendum_reason_mst  set gnum_isvalid='0',gdt_lstmod_date=SYSDATE

DELETE.ADDENDUM.HIVT_ADDENDUM_REASON_MST.COND.0= hgnum_reason_code=? and gnum_isvalid=1

select.ADDENDUM.view.2=select  gstr_reason from hivt_addendum_reason_mst a where hgnum_reason_code=? and gnum_isvalid=1

INSERT.HIVT_AddENDUM_REASON_MST=insert into hivt_addendum_reason_mst  (hgnum_reason_code,gnum_seat_id,hgdt_entry_date,gnum_isvalid,gstr_reason) values ((SELECT nvl(max(hgnum_reason_code),00)+1 from hivt_addendum_reason_mst  ),?,SYSDATE,?,?)

SELECT.HIVT_AddENDUM_REASON_MST=select hgnum_reason_code as reasonCode,gstr_reason as reason from hivt_addendum_reason_mst  where gnum_isvalid=? and hgnum_reason_code=? 


UPDATE.HIVT_AddENDUM_REASON_MST=update hivt_addendum_reason_mst   set gdt_lstmod_date=sysdate,gstr_reason=?,gnum_lstmod_seatid=?  where gnum_isvalid=1 and hgnum_reason_code=?



#DYNAMIC.GET.TESTTEMPLATE = SELECT hivtstr_template_xml  FROM hivt_printing_template WHERE hivt_dynamictemplate_id=? and gnum_isvalid=1                              
DYNAMIC.SELECT.TEMPLATE.TESTDETAILS_REQUISITIONFORM = SELECT gnum_test_code, (select gstr_test_name from hivt_test_mst where  gnum_test_code=a.gnum_test_code)  from hivt_laboratory_test_mst a where gnum_isvalid = 1 and gnum_isdynamic_template = 1 and gnum_dynamictemplate_id = ?

SELECT.MASTERTYPE_TEST_PARAMETER_COMBO.HIVT_TEST_PARAMETER_MST=SELECT gnum_test_code as testCode, gstr_test_name  as testName FROM  hivt_test_mst WHERE GNUM_ISVALID=1 and gnum_reqform_type=1 order by gstr_test_name    

SELECT.HIVT_REQFORM_TEST_PARAMETER_MST_FOR_MASTER=SELECT  hivnum_mapped_test as mappedTest,gnum_test_code as testCode, gstr_element_type as elementType ,gnum_parameter_code as parameterCode, gnum_arrange_as as arrangeAs,gdt_entry_date ,gnum_parent_id as parentParameterId, INITCAP(gstr_remarks) as remarks,gnum_criteria_code as criteriaDesk,gstr_function_name as functionName, hivtnum_objevent as event,hivtnum_event_func as eventFunction, hivstr_element_property as elementProperty,hivnum_paraname_displayaslabel as showParameterNameasLabel, hivtstr_label_align as labelAlignment,hivtstr_element_align as elementAlign,hivt_num_element_sequence as elementPosition, gnum_isprintable as isPrintRequired,hivtstr_query as query,hivtstr_button_name as buttonName,hivtstr_call_url as urlCode,gstr_loinc_scale as loincScale ,hivtstr_default_value as textEditorValue,hivstr_hyper_name as hyperName  FROM hivt_reqform_test_parameter_mst WHERE gnum_test_code\=?  AND hivstr_paratype\=? and gnum_isvalid\=? 

SELECT.TEST_PARAMETER_COMBO.HIVT_TEST_PARAMETER_MST_REQ_FORM=SELECT gnum_test_code as testCode, gstr_test_name  as testName FROM  hivt_test_mst WHERE gnum_reqform_type=2 and gnum_isreqform_mapped=0 and GNUM_ISVALID=1 order by gstr_test_name    

UPDATE.HIVT_TEST_PARAMETER_MST_ISREQFORM_MAPPED= update hivt_test_mst   set gnum_isreqform_mapped=1 where gnum_test_code=? and gnum_reqform_type=2 and gnum_isvalid=1

#added by krishnan nema on 08/10/2018
INSERT.HMIT_MACHINE_MST_PAT_BASED=INSERT INTO hmit_machine_mst(\ hminum_machine_id, gnum_hospital_code, hmistr_machine_name, \ hmistr_status, \ hminum_communication_flag, hminum_format_id, gnum_isvalid, gnum_seat_id, \ gdt_entry_date, hminum_machine_recordid, hminum_machine_reqid, \ hminum_resultvalidation_mode, hminum_nodays_archival, gnum_location_code, hgnum_machine_type) \ VALUES (?, ?, ?, \ ?, \ ?, ?, ?, ?, \ SYSDATE, (TO_NUMBER(TO_CHAR(SYSDATE,'YYMM')||'000000'))+1, (TO_NUMBER(TO_CHAR(SYSDATE,'YYMM')||'000000'))+1, \ ?, ?, ?,2)

SELECT_GLOBAL.LAB_COMBO.HIVT_ORGANISM_ANTIBIOTIC_MAPPING_MST_ANTI_SEQUENCE=select  hgnum_antibiotic_code as antibioticNameCode,INITCAP(hgstr_antibiotic_name)as antibioticName,(select hivnum_preference_order from hivt_organism_antibiotic_mapping_mst s where gnum_isvalid=1 and s.hgnum_organism_code=? and gnum_hospital_code=gnum_hospital_code and s.gnum_antibiotic_code=a.hgnum_antibiotic_code) as antibioticSeqNo from hivt_antibiotic_mst a where gnum_isvalid=1 and hgnum_antibiotic_code IN(select gnum_antibiotic_code from hivt_organism_antibiotic_mapping_mst where gnum_isvalid=1 and hgnum_organism_code=? and gnum_hospital_code=?) order by antibioticSeqNo,antibioticName

SELECT.TEST_GROUP.User_BookMark_Mst_GROUP=select distinct b.hgnum_group_code as groupCode,b.hgstr_group_name as groupName from hivt_test_group_info_mst a,hivt_test_group_mst b where b.hgnum_group_code=a.hgnum_group_code and   b.gnum_isvalid=a.gnum_is_valid and a.gnum_is_valid=? and b.gnum_hospital_code=a.gnum_hospital_code and a.gnum_hospital_code=?  and b.hgnum_group_code  NOT IN (select hgnum_group_code from hivt_bookmark_mst where gnum_isvalid=1 and gnum_bookmark_code=? and gnum_hospital_code=?)


#added by Harshita khare on 25/01/2019
#comment by prashant
#INSERT.User1_BookMark_Mst=insert into hivt_bookmark_mst(gnum_user_id,hivtnum_lab_code,gnum_bookmark_code,gnum_hospital_code,hgnum_seq_no,gnum_bookmark_type,hivtnum_is_test_group,gnum_isvalid,gnum_dept_unit_code,gdt_entry_date,gnum_seatid,hivtnum_test_code,hgnum_group_code,hivtstr_bookmark_name) values(?,?,?,?,(select nvl(max(hgnum_seq_no),0)+1 from hivt_bookmark_mst where gnum_bookmark_code=? and gnum_hospital_code=?),?,?,?,?,SYSDATE,?,?,?,(select hivtstr_bookmark_name from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=? ))
#comment by prashant
#SELECT.LAB.User1_BookMark_Mst=select distinct a.gnum_labcode as labCode,b.gstr_lab_name as labName from hivt_laboratory_test_mst a,hivt_laboratory_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_hospital_code=a.gnum_hospital_code and b.gnum_lab_code=a.gnum_labcode and a.gnum_isvalid=? and a.gnum_hospital_code=? 
#comment by prashant
#INSERT.User1_BookMark_Mst=insert into hivt_bookmark_mst(hivtnum_lab_code,gnum_bookmark_code,gnum_hospital_code,hgnum_seq_no,gnum_bookmark_type,hivtnum_is_test_group,gnum_isvalid,gnum_dept_unit_code,gdt_entry_date,gnum_seatid,hivtnum_test_code,hgnum_group_code,hivtstr_bookmark_name) values(?,?,?,(select nvl(max(hgnum_seq_no),0)+1 from hivt_bookmark_mst where gnum_bookmark_code=? and gnum_hospital_code=?),?,?,?,?,SYSDATE,?,?,?,(select hivtstr_bookmark_name from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_bookmark_code=? and gnum_hospital_code=? ))
SELECT.USER1.User_BookMark_Mst=select gnum_userid as userId,gstr_user_name as userName from gblt_user_mst where gnum_isvalid=? and gnum_hospital_code=? and gnum_userid=?
#comment by prashant
#UserwiseBookMarkMst.main=SELECT a.gnum_bookmark_code||'@'||a.gnum_hospital_code||'@'||a.hgnum_seq_no||'^'||INITCAP(a.hivtstr_bookmark_name)||'^'||INITCAP(DECODE(a.gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise'))||'^'||INITCAP(b.gstr_user_name)||'^'||pkg_inv_fun.fun_deptunit_name(a.gnum_dept_unit_code,a.gnum_hospital_code)||'^'||INITCAP(c.gstr_lab_name)||'^'|| d.gstr_test_name  AS DATA  FROM HIVT_BOOKMARK_MST a, gblt_user_mst b,hivt_laboratory_mst c,hivt_test_mst d where d.gnum_isvalid\=a.gnum_isvalid and  c.gnum_isvalid\=a.gnum_isvalid and b.gnum_isvalid\=a.gnum_isvalid and a.gnum_isvalid\=? and a.gnum_hospital_code\=? and c.gnum_hospital_code\=a.gnum_hospital_code and b.gnum_userid\=a.gnum_user_id and c.gnum_lab_code\=a.hivtnum_lab_code and d.gnum_test_code\=a.hivtnum_test_code and gnum_userid\=?

SELECT.BOOKMARK.User_BookMark_Mst11=select gnum_bookmark_code as bookmarkCode,hivtstr_bookmark_name as bookmarkName from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_hospital_code=? and gnum_seatid=?

# added by prashant
SELECT.USER.UserWise_BookMark_Mst=select gnum_userid as userId,gstr_user_name as userName from gblt_user_mst where gnum_isvalid=? and gnum_hospital_code=? and gnum_userid=?
SELECT.BOOKMARK.UserWise_BookMark_Mst=select gnum_bookmark_code as bookmarkCode,hivtstr_bookmark_name as bookmarkName from hivt_bookmark_mst_1 where gnum_isvalid=? and gnum_hospital_code=? and gnum_seatid=?
#updated by prashant
UserwiseBookMarkMst.main=SELECT a.gnum_bookmark_code||'@'||a.gnum_hospital_code||'@'||DECODE(a.hgnum_group_code,-1,a.hgnum_seq_no,a.hgnum_group_code)||'@'||a.hivtnum_is_test_group||'^'||INITCAP(a.hivtstr_bookmark_name)||'^'||INITCAP(DECODE(a.gnum_bookmark_type,'1','User Wise','2','Dept Unit Wise'))||'^'||INITCAP(b.gstr_user_name)||'^'||pkg_inv_fun.fun_deptunit_name(a.gnum_dept_unit_code,a.gnum_hospital_code)||'^'||INITCAP(c.gstr_lab_name)||'^'|| d.gstr_test_name ||'^'|| nvl((select distinct e.hgstr_group_name from hivt_test_group_mst e where e.hgnum_group_code\=a.hgnum_group_code and e.gnum_hospital_code\=a.gnum_hospital_code),'--') AS DATA  FROM HIVT_BOOKMARK_MST a, gblt_user_mst b,hivt_laboratory_mst c,hivt_test_mst d where d.gnum_isvalid\=a.gnum_isvalid and  c.gnum_isvalid\=a.gnum_isvalid and b.gnum_isvalid\=a.gnum_isvalid and a.gnum_isvalid\=? and a.gnum_hospital_code\=? and c.gnum_hospital_code\=a.gnum_hospital_code and b.gnum_userid\=a.gnum_user_id and c.gnum_lab_code\=a.hivtnum_lab_code and d.gnum_test_code\=a.hivtnum_test_code and gnum_userid\=?

#added by prashant to fetch duplicate test in bookmark
SELECT.getDuplicateTest.User_BookMark_MST=select b.gstr_test_name as testName, a.hivtnum_test_code as testCode from HIVT_BOOKMARK_MST a, hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.hivtnum_test_code and a.gnum_isvalid=1 and a.gnum_hospital_code=? and a.gnum_user_id=? and a.hivtnum_lab_code=? and a.gnum_bookmark_code=?

#added by prashant to fetch duplicate test in bookmark
SELECT.getDuplicateTest.Userwise_BookMark_MST=select b.gstr_test_name as testName, a.hivtnum_test_code as testCode from HIVT_BOOKMARK_MST a, hivt_test_mst b where b.gnum_isvalid=a.gnum_isvalid and b.gnum_test_code=a.hivtnum_test_code and a.gnum_isvalid=1 and a.gnum_hospital_code=? and a.gnum_user_id=? and a.hivtnum_lab_code=? and a.gnum_bookmark_code=?

#added by prachi
SELECT.getFastingTime=select gnum_fastingid,hivstr_fastingtime from hivt_fasting_time_mst where gnum_isvalid=1

SELECT.getFastingeType=select gnum_fastingtypeid,hivstr_fastingtype from hivt_fasting_type_mst where gnum_isvalid=1	